(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function qd(t,e){const r=Object.create(null),n=t.split(",");for(let s=0;s<n.length;s++)r[n[s]]=!0;return e?s=>!!r[s.toLowerCase()]:s=>!!r[s]}const At={},lo=[],Rn=()=>{},g8=()=>!1,y8=/^on[^a-z]/,Yu=t=>y8.test(t),Kd=t=>t.startsWith("onUpdate:"),yr=Object.assign,Vd=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},m8=Object.prototype.hasOwnProperty,ft=(t,e)=>m8.call(t,e),qe=Array.isArray,fo=t=>Ju(t)==="[object Map]",Qb=t=>Ju(t)==="[object Set]",Je=t=>typeof t=="function",fr=t=>typeof t=="string",Gd=t=>typeof t=="symbol",Ct=t=>t!==null&&typeof t=="object",Zb=t=>Ct(t)&&Je(t.then)&&Je(t.catch),e1=Object.prototype.toString,Ju=t=>e1.call(t),b8=t=>Ju(t).slice(8,-1),t1=t=>Ju(t)==="[object Object]",Wd=t=>fr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,vu=qd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Xu=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},v8=/-(\w)/g,Jn=Xu(t=>t.replace(v8,(e,r)=>r?r.toUpperCase():"")),w8=/\B([A-Z])/g,Oo=Xu(t=>t.replace(w8,"-$1").toLowerCase()),Qu=Xu(t=>t.charAt(0).toUpperCase()+t.slice(1)),fh=Xu(t=>t?`on${Qu(t)}`:""),Ta=(t,e)=>!Object.is(t,e),wu=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},Au=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},Kh=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let ay;const Vh=()=>ay||(ay=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Yd(t){if(qe(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=fr(n)?P8(n):Yd(n);if(s)for(const a in s)e[a]=s[a]}return e}else{if(fr(t))return t;if(Ct(t))return t}}const _8=/;(?![^(]*\))/g,E8=/:([^]+)/,x8=/\/\*[^]*?\*\//g;function P8(t){const e={};return t.replace(x8,"").split(_8).forEach(r=>{if(r){const n=r.split(E8);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Jd(t){let e="";if(fr(t))e=t;else if(qe(t))for(let r=0;r<t.length;r++){const n=Jd(t[r]);n&&(e+=n+" ")}else if(Ct(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const S8="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",I8=qd(S8);function r1(t){return!!t||t===""}const ho=t=>fr(t)?t:t==null?"":qe(t)||Ct(t)&&(t.toString===e1||!Je(t.toString))?JSON.stringify(t,n1,2):String(t),n1=(t,e)=>e&&e.__v_isRef?n1(t,e.value):fo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s])=>(r[`${n} =>`]=s,r),{})}:Qb(e)?{[`Set(${e.size})`]:[...e.values()]}:Ct(e)&&!qe(e)&&!t1(e)?String(e):e;let tn;class i1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=tn,!e&&tn&&(this.index=(tn.scopes||(tn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=tn;try{return tn=this,e()}finally{tn=r}}}on(){tn=this}off(){tn=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function s1(t){return new i1(t)}function D8(t,e=tn){e&&e.active&&e.effects.push(t)}function o1(){return tn}function O8(t){tn&&tn.cleanups.push(t)}const Xd=t=>{const e=new Set(t);return e.w=0,e.n=0,e},a1=t=>(t.w&zi)>0,c1=t=>(t.n&zi)>0,A8=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=zi},C8=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const s=e[n];a1(s)&&!c1(s)?s.delete(t):e[r++]=s,s.w&=~zi,s.n&=~zi}e.length=r}},Cu=new WeakMap;let Ea=0,zi=1;const Gh=30;let Cn;const Ss=Symbol(""),Wh=Symbol("");class Qd{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,D8(this,n)}run(){if(!this.active)return this.fn();let e=Cn,r=Ui;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Cn,Cn=this,Ui=!0,zi=1<<++Ea,Ea<=Gh?A8(this):cy(this),this.fn()}finally{Ea<=Gh&&C8(this),zi=1<<--Ea,Cn=this.parent,Ui=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Cn===this?this.deferStop=!0:this.active&&(cy(this),this.onStop&&this.onStop(),this.active=!1)}}function cy(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let Ui=!0;const u1=[];function Ao(){u1.push(Ui),Ui=!1}function Co(){const t=u1.pop();Ui=t===void 0?!0:t}function Vr(t,e,r){if(Ui&&Cn){let n=Cu.get(t);n||Cu.set(t,n=new Map);let s=n.get(r);s||n.set(r,s=Xd()),l1(s)}}function l1(t,e){let r=!1;Ea<=Gh?c1(t)||(t.n|=zi,r=!a1(t)):r=!t.has(Cn),r&&(t.add(Cn),Cn.deps.push(t))}function yi(t,e,r,n,s,a){const c=Cu.get(t);if(!c)return;let u=[];if(e==="clear")u=[...c.values()];else if(r==="length"&&qe(t)){const f=Number(n);c.forEach((h,p)=>{(p==="length"||p>=f)&&u.push(h)})}else switch(r!==void 0&&u.push(c.get(r)),e){case"add":qe(t)?Wd(r)&&u.push(c.get("length")):(u.push(c.get(Ss)),fo(t)&&u.push(c.get(Wh)));break;case"delete":qe(t)||(u.push(c.get(Ss)),fo(t)&&u.push(c.get(Wh)));break;case"set":fo(t)&&u.push(c.get(Ss));break}if(u.length===1)u[0]&&Yh(u[0]);else{const f=[];for(const h of u)h&&f.push(...h);Yh(Xd(f))}}function Yh(t,e){const r=qe(t)?t:[...t];for(const n of r)n.computed&&uy(n);for(const n of r)n.computed||uy(n)}function uy(t,e){(t!==Cn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function T8(t,e){var r;return(r=Cu.get(t))==null?void 0:r.get(e)}const R8=qd("__proto__,__v_isRef,__isVue"),f1=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Gd)),N8=Zd(),$8=Zd(!1,!0),F8=Zd(!0),ly=M8();function M8(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=lt(this);for(let a=0,c=this.length;a<c;a++)Vr(n,"get",a+"");const s=n[e](...r);return s===-1||s===!1?n[e](...r.map(lt)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){Ao();const n=lt(this)[e].apply(this,r);return Co(),n}}),t}function j8(t){const e=lt(this);return Vr(e,"has",t),e.hasOwnProperty(t)}function Zd(t=!1,e=!1){return function(n,s,a){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&a===(t?e?Z8:y1:e?g1:p1).get(n))return n;const c=qe(n);if(!t){if(c&&ft(ly,s))return Reflect.get(ly,s,a);if(s==="hasOwnProperty")return j8}const u=Reflect.get(n,s,a);return(Gd(s)?f1.has(s):R8(s))||(t||Vr(n,"get",s),e)?u:Mt(u)?c&&Wd(s)?u:u.value:Ct(u)?t?m1(u):To(u):u}}const L8=h1(),U8=h1(!0);function h1(t=!1){return function(r,n,s,a){let c=r[n];if(_o(c)&&Mt(c)&&!Mt(s))return!1;if(!t&&(!Tu(s)&&!_o(s)&&(c=lt(c),s=lt(s)),!qe(r)&&Mt(c)&&!Mt(s)))return c.value=s,!0;const u=qe(r)&&Wd(n)?Number(n)<r.length:ft(r,n),f=Reflect.set(r,n,s,a);return r===lt(a)&&(u?Ta(s,c)&&yi(r,"set",n,s):yi(r,"add",n,s)),f}}function B8(t,e){const r=ft(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&r&&yi(t,"delete",e,void 0),n}function k8(t,e){const r=Reflect.has(t,e);return(!Gd(e)||!f1.has(e))&&Vr(t,"has",e),r}function H8(t){return Vr(t,"iterate",qe(t)?"length":Ss),Reflect.ownKeys(t)}const d1={get:N8,set:L8,deleteProperty:B8,has:k8,ownKeys:H8},z8={get:F8,set(t,e){return!0},deleteProperty(t,e){return!0}},q8=yr({},d1,{get:$8,set:U8}),ep=t=>t,Zu=t=>Reflect.getPrototypeOf(t);function au(t,e,r=!1,n=!1){t=t.__v_raw;const s=lt(t),a=lt(e);r||(e!==a&&Vr(s,"get",e),Vr(s,"get",a));const{has:c}=Zu(s),u=n?ep:r?np:Ra;if(c.call(s,e))return u(t.get(e));if(c.call(s,a))return u(t.get(a));t!==s&&t.get(e)}function cu(t,e=!1){const r=this.__v_raw,n=lt(r),s=lt(t);return e||(t!==s&&Vr(n,"has",t),Vr(n,"has",s)),t===s?r.has(t):r.has(t)||r.has(s)}function uu(t,e=!1){return t=t.__v_raw,!e&&Vr(lt(t),"iterate",Ss),Reflect.get(t,"size",t)}function fy(t){t=lt(t);const e=lt(this);return Zu(e).has.call(e,t)||(e.add(t),yi(e,"add",t,t)),this}function hy(t,e){e=lt(e);const r=lt(this),{has:n,get:s}=Zu(r);let a=n.call(r,t);a||(t=lt(t),a=n.call(r,t));const c=s.call(r,t);return r.set(t,e),a?Ta(e,c)&&yi(r,"set",t,e):yi(r,"add",t,e),this}function dy(t){const e=lt(this),{has:r,get:n}=Zu(e);let s=r.call(e,t);s||(t=lt(t),s=r.call(e,t)),n&&n.call(e,t);const a=e.delete(t);return s&&yi(e,"delete",t,void 0),a}function py(){const t=lt(this),e=t.size!==0,r=t.clear();return e&&yi(t,"clear",void 0,void 0),r}function lu(t,e){return function(n,s){const a=this,c=a.__v_raw,u=lt(c),f=e?ep:t?np:Ra;return!t&&Vr(u,"iterate",Ss),c.forEach((h,p)=>n.call(s,f(h),f(p),a))}}function fu(t,e,r){return function(...n){const s=this.__v_raw,a=lt(s),c=fo(a),u=t==="entries"||t===Symbol.iterator&&c,f=t==="keys"&&c,h=s[t](...n),p=r?ep:e?np:Ra;return!e&&Vr(a,"iterate",f?Wh:Ss),{next(){const{value:m,done:b}=h.next();return b?{value:m,done:b}:{value:u?[p(m[0]),p(m[1])]:p(m),done:b}},[Symbol.iterator](){return this}}}}function Ri(t){return function(...e){return t==="delete"?!1:this}}function K8(){const t={get(a){return au(this,a)},get size(){return uu(this)},has:cu,add:fy,set:hy,delete:dy,clear:py,forEach:lu(!1,!1)},e={get(a){return au(this,a,!1,!0)},get size(){return uu(this)},has:cu,add:fy,set:hy,delete:dy,clear:py,forEach:lu(!1,!0)},r={get(a){return au(this,a,!0)},get size(){return uu(this,!0)},has(a){return cu.call(this,a,!0)},add:Ri("add"),set:Ri("set"),delete:Ri("delete"),clear:Ri("clear"),forEach:lu(!0,!1)},n={get(a){return au(this,a,!0,!0)},get size(){return uu(this,!0)},has(a){return cu.call(this,a,!0)},add:Ri("add"),set:Ri("set"),delete:Ri("delete"),clear:Ri("clear"),forEach:lu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{t[a]=fu(a,!1,!1),r[a]=fu(a,!0,!1),e[a]=fu(a,!1,!0),n[a]=fu(a,!0,!0)}),[t,r,e,n]}const[V8,G8,W8,Y8]=K8();function tp(t,e){const r=e?t?Y8:W8:t?G8:V8;return(n,s,a)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(ft(r,s)&&s in n?r:n,s,a)}const J8={get:tp(!1,!1)},X8={get:tp(!1,!0)},Q8={get:tp(!0,!1)},p1=new WeakMap,g1=new WeakMap,y1=new WeakMap,Z8=new WeakMap;function eP(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tP(t){return t.__v_skip||!Object.isExtensible(t)?0:eP(b8(t))}function To(t){return _o(t)?t:rp(t,!1,d1,J8,p1)}function rP(t){return rp(t,!1,q8,X8,g1)}function m1(t){return rp(t,!0,z8,Q8,y1)}function rp(t,e,r,n,s){if(!Ct(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=s.get(t);if(a)return a;const c=tP(t);if(c===0)return t;const u=new Proxy(t,c===2?n:r);return s.set(t,u),u}function gi(t){return _o(t)?gi(t.__v_raw):!!(t&&t.__v_isReactive)}function _o(t){return!!(t&&t.__v_isReadonly)}function Tu(t){return!!(t&&t.__v_isShallow)}function b1(t){return gi(t)||_o(t)}function lt(t){const e=t&&t.__v_raw;return e?lt(e):t}function el(t){return Au(t,"__v_skip",!0),t}const Ra=t=>Ct(t)?To(t):t,np=t=>Ct(t)?m1(t):t;function v1(t){Ui&&Cn&&(t=lt(t),l1(t.dep||(t.dep=Xd())))}function w1(t,e){t=lt(t);const r=t.dep;r&&Yh(r)}function Mt(t){return!!(t&&t.__v_isRef===!0)}function Wt(t){return _1(t,!1)}function nP(t){return _1(t,!0)}function _1(t,e){return Mt(t)?t:new iP(t,e)}class iP{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:lt(e),this._value=r?e:Ra(e)}get value(){return v1(this),this._value}set value(e){const r=this.__v_isShallow||Tu(e)||_o(e);e=r?e:lt(e),Ta(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:Ra(e),w1(this))}}function Ke(t){return Mt(t)?t.value:t}const sP={get:(t,e,r)=>Ke(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return Mt(s)&&!Mt(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function E1(t){return gi(t)?t:new Proxy(t,sP)}function oP(t){const e=qe(t)?new Array(t.length):{};for(const r in t)e[r]=x1(t,r);return e}class aP{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return T8(lt(this._object),this._key)}}class cP{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function uP(t,e,r){return Mt(t)?t:Je(t)?new cP(t):Ct(t)&&arguments.length>1?x1(t,e,r):Wt(t)}function x1(t,e,r){const n=t[e];return Mt(n)?n:new aP(t,e,r)}class lP{constructor(e,r,n,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Qd(e,()=>{this._dirty||(this._dirty=!0,w1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const e=lt(this);return v1(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function fP(t,e,r=!1){let n,s;const a=Je(t);return a?(n=t,s=Rn):(n=t.get,s=t.set),new lP(n,s,a||!s,r)}function Bi(t,e,r,n){let s;try{s=n?t(...n):t()}catch(a){tl(a,e,r)}return s}function Nn(t,e,r,n){if(Je(t)){const a=Bi(t,e,r,n);return a&&Zb(a)&&a.catch(c=>{tl(c,e,r)}),a}const s=[];for(let a=0;a<t.length;a++)s.push(Nn(t[a],e,r,n));return s}function tl(t,e,r,n=!0){const s=e?e.vnode:null;if(e){let a=e.parent;const c=e.proxy,u=r;for(;a;){const h=a.ec;if(h){for(let p=0;p<h.length;p++)if(h[p](t,c,u)===!1)return}a=a.parent}const f=e.appContext.config.errorHandler;if(f){Bi(f,null,10,[t,c,u]);return}}hP(t,r,s,n)}function hP(t,e,r,n=!0){console.error(t)}let Na=!1,Jh=!1;const Sr=[];let Yn=0;const po=[];let hi=null,ws=0;const P1=Promise.resolve();let ip=null;function sp(t){const e=ip||P1;return t?e.then(this?t.bind(this):t):e}function dP(t){let e=Yn+1,r=Sr.length;for(;e<r;){const n=e+r>>>1;$a(Sr[n])<t?e=n+1:r=n}return e}function op(t){(!Sr.length||!Sr.includes(t,Na&&t.allowRecurse?Yn+1:Yn))&&(t.id==null?Sr.push(t):Sr.splice(dP(t.id),0,t),S1())}function S1(){!Na&&!Jh&&(Jh=!0,ip=P1.then(D1))}function pP(t){const e=Sr.indexOf(t);e>Yn&&Sr.splice(e,1)}function gP(t){qe(t)?po.push(...t):(!hi||!hi.includes(t,t.allowRecurse?ws+1:ws))&&po.push(t),S1()}function gy(t,e=Na?Yn+1:0){for(;e<Sr.length;e++){const r=Sr[e];r&&r.pre&&(Sr.splice(e,1),e--,r())}}function I1(t){if(po.length){const e=[...new Set(po)];if(po.length=0,hi){hi.push(...e);return}for(hi=e,hi.sort((r,n)=>$a(r)-$a(n)),ws=0;ws<hi.length;ws++)hi[ws]();hi=null,ws=0}}const $a=t=>t.id==null?1/0:t.id,yP=(t,e)=>{const r=$a(t)-$a(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function D1(t){Jh=!1,Na=!0,Sr.sort(yP);const e=Rn;try{for(Yn=0;Yn<Sr.length;Yn++){const r=Sr[Yn];r&&r.active!==!1&&Bi(r,null,14)}}finally{Yn=0,Sr.length=0,I1(),Na=!1,ip=null,(Sr.length||po.length)&&D1()}}function mP(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||At;let s=r;const a=e.startsWith("update:"),c=a&&e.slice(7);if(c&&c in n){const p=`${c==="modelValue"?"model":c}Modifiers`,{number:m,trim:b}=n[p]||At;b&&(s=r.map(_=>fr(_)?_.trim():_)),m&&(s=r.map(Kh))}let u,f=n[u=fh(e)]||n[u=fh(Jn(e))];!f&&a&&(f=n[u=fh(Oo(e))]),f&&Nn(f,t,6,s);const h=n[u+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[u])return;t.emitted[u]=!0,Nn(h,t,6,s)}}function O1(t,e,r=!1){const n=e.emitsCache,s=n.get(t);if(s!==void 0)return s;const a=t.emits;let c={},u=!1;if(!Je(t)){const f=h=>{const p=O1(h,e,!0);p&&(u=!0,yr(c,p))};!r&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!a&&!u?(Ct(t)&&n.set(t,null),null):(qe(a)?a.forEach(f=>c[f]=null):yr(c,a),Ct(t)&&n.set(t,c),c)}function rl(t,e){return!t||!Yu(e)?!1:(e=e.slice(2).replace(/Once$/,""),ft(t,e[0].toLowerCase()+e.slice(1))||ft(t,Oo(e))||ft(t,e))}let nn=null,A1=null;function Ru(t){const e=nn;return nn=t,A1=t&&t.type.__scopeId||null,e}function vs(t,e=nn,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&Dy(-1);const a=Ru(e);let c;try{c=t(...s)}finally{Ru(a),n._d&&Dy(1)}return c};return n._n=!0,n._c=!0,n._d=!0,n}function hh(t){const{type:e,vnode:r,proxy:n,withProxy:s,props:a,propsOptions:[c],slots:u,attrs:f,emit:h,render:p,renderCache:m,data:b,setupState:_,ctx:x,inheritAttrs:N}=t;let M,z;const C=Ru(t);try{if(r.shapeFlag&4){const D=s||n;M=Wn(p.call(D,D,m,a,_,b,x)),z=f}else{const D=e;M=Wn(D.length>1?D(a,{attrs:f,slots:u,emit:h}):D(a,null)),z=e.props?f:bP(f)}}catch(D){Sa.length=0,tl(D,t,1),M=Yt(Ds)}let L=M;if(z&&N!==!1){const D=Object.keys(z),{shapeFlag:T}=L;D.length&&T&7&&(c&&D.some(Kd)&&(z=vP(z,c)),L=Eo(L,z))}return r.dirs&&(L=Eo(L),L.dirs=L.dirs?L.dirs.concat(r.dirs):r.dirs),r.transition&&(L.transition=r.transition),M=L,Ru(C),M}const bP=t=>{let e;for(const r in t)(r==="class"||r==="style"||Yu(r))&&((e||(e={}))[r]=t[r]);return e},vP=(t,e)=>{const r={};for(const n in t)(!Kd(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function wP(t,e,r){const{props:n,children:s,component:a}=t,{props:c,children:u,patchFlag:f}=e,h=a.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&f>=0){if(f&1024)return!0;if(f&16)return n?yy(n,c,h):!!c;if(f&8){const p=e.dynamicProps;for(let m=0;m<p.length;m++){const b=p[m];if(c[b]!==n[b]&&!rl(h,b))return!0}}}else return(s||u)&&(!u||!u.$stable)?!0:n===c?!1:n?c?yy(n,c,h):!0:!!c;return!1}function yy(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const a=n[s];if(e[a]!==t[a]&&!rl(r,a))return!0}return!1}function _P({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const EP=t=>t.__isSuspense;function xP(t,e){e&&e.pendingBranch?qe(t)?e.effects.push(...t):e.effects.push(t):gP(t)}function PP(t,e){return ap(t,null,e)}const hu={};function ki(t,e,r){return ap(t,e,r)}function ap(t,e,{immediate:r,deep:n,flush:s,onTrack:a,onTrigger:c}=At){var u;const f=o1()===((u=pr)==null?void 0:u.scope)?pr:null;let h,p=!1,m=!1;if(Mt(t)?(h=()=>t.value,p=Tu(t)):gi(t)?(h=()=>t,n=!0):qe(t)?(m=!0,p=t.some(D=>gi(D)||Tu(D)),h=()=>t.map(D=>{if(Mt(D))return D.value;if(gi(D))return Es(D);if(Je(D))return Bi(D,f,2)})):Je(t)?e?h=()=>Bi(t,f,2):h=()=>{if(!(f&&f.isUnmounted))return b&&b(),Nn(t,f,3,[_])}:h=Rn,e&&n){const D=h;h=()=>Es(D())}let b,_=D=>{b=C.onStop=()=>{Bi(D,f,4)}},x;if(ja)if(_=Rn,e?r&&Nn(e,f,3,[h(),m?[]:void 0,_]):h(),s==="sync"){const D=wS();x=D.__watcherHandles||(D.__watcherHandles=[])}else return Rn;let N=m?new Array(t.length).fill(hu):hu;const M=()=>{if(C.active)if(e){const D=C.run();(n||p||(m?D.some((T,P)=>Ta(T,N[P])):Ta(D,N)))&&(b&&b(),Nn(e,f,3,[D,N===hu?void 0:m&&N[0]===hu?[]:N,_]),N=D)}else C.run()};M.allowRecurse=!!e;let z;s==="sync"?z=M:s==="post"?z=()=>zr(M,f&&f.suspense):(M.pre=!0,f&&(M.id=f.uid),z=()=>op(M));const C=new Qd(h,z);e?r?M():N=C.run():s==="post"?zr(C.run.bind(C),f&&f.suspense):C.run();const L=()=>{C.stop(),f&&f.scope&&Vd(f.scope.effects,C)};return x&&x.push(L),L}function SP(t,e,r){const n=this.proxy,s=fr(t)?t.includes(".")?C1(n,t):()=>n[t]:t.bind(n,n);let a;Je(e)?a=e:(a=e.handler,r=e);const c=pr;xo(this);const u=ap(s,a.bind(n),r);return c?xo(c):Is(),u}function C1(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function Es(t,e){if(!Ct(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Mt(t))Es(t.value,e);else if(qe(t))for(let r=0;r<t.length;r++)Es(t[r],e);else if(Qb(t)||fo(t))t.forEach(r=>{Es(r,e)});else if(t1(t))for(const r in t)Es(t[r],e);return t}function IP(t,e){const r=nn;if(r===null)return t;const n=al(r)||r.proxy,s=t.dirs||(t.dirs=[]);for(let a=0;a<e.length;a++){let[c,u,f,h=At]=e[a];c&&(Je(c)&&(c={mounted:c,updated:c}),c.deep&&Es(u),s.push({dir:c,instance:n,value:u,oldValue:void 0,arg:f,modifiers:h}))}return t}function ds(t,e,r,n){const s=t.dirs,a=e&&e.dirs;for(let c=0;c<s.length;c++){const u=s[c];a&&(u.oldValue=a[c].value);let f=u.dir[n];f&&(Ao(),Nn(f,r,8,[t.el,u,t,e]),Co())}}function T1(t,e){return Je(t)?(()=>yr({name:t.name},e,{setup:t}))():t}const _u=t=>!!t.type.__asyncLoader,R1=t=>t.type.__isKeepAlive;function DP(t,e){N1(t,"a",e)}function OP(t,e){N1(t,"da",e)}function N1(t,e,r=pr){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(nl(e,n,r),r){let s=r.parent;for(;s&&s.parent;)R1(s.parent.vnode)&&AP(n,e,r,s),s=s.parent}}function AP(t,e,r,n){const s=nl(e,t,n,!0);$1(()=>{Vd(n[e],s)},r)}function nl(t,e,r=pr,n=!1){if(r){const s=r[t]||(r[t]=[]),a=e.__weh||(e.__weh=(...c)=>{if(r.isUnmounted)return;Ao(),xo(r);const u=Nn(e,r,t,c);return Is(),Co(),u});return n?s.unshift(a):s.push(a),a}}const vi=t=>(e,r=pr)=>(!ja||t==="sp")&&nl(t,(...n)=>e(...n),r),CP=vi("bm"),il=vi("m"),TP=vi("bu"),RP=vi("u"),NP=vi("bum"),$1=vi("um"),$P=vi("sp"),FP=vi("rtg"),MP=vi("rtc");function jP(t,e=pr){nl("ec",t,e)}const F1="components";function my(t,e){return UP(F1,t,!0,e)||t}const LP=Symbol.for("v-ndc");function UP(t,e,r=!0,n=!1){const s=nn||pr;if(s){const a=s.type;if(t===F1){const u=mS(a,!1);if(u&&(u===e||u===Jn(e)||u===Qu(Jn(e))))return a}const c=by(s[t]||a[t],e)||by(s.appContext[t],e);return!c&&n?a:c}}function by(t,e){return t&&(t[e]||t[Jn(e)]||t[Qu(Jn(e))])}function BP(t,e,r,n){let s;const a=r&&r[n];if(qe(t)||fr(t)){s=new Array(t.length);for(let c=0,u=t.length;c<u;c++)s[c]=e(t[c],c,void 0,a&&a[c])}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=e(c+1,c,void 0,a&&a[c])}else if(Ct(t))if(t[Symbol.iterator])s=Array.from(t,(c,u)=>e(c,u,void 0,a&&a[u]));else{const c=Object.keys(t);s=new Array(c.length);for(let u=0,f=c.length;u<f;u++){const h=c[u];s[u]=e(t[h],h,u,a&&a[u])}}else s=[];return r&&(r[n]=s),s}const Xh=t=>t?V1(t)?al(t)||t.proxy:Xh(t.parent):null,Pa=yr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Xh(t.parent),$root:t=>Xh(t.root),$emit:t=>t.emit,$options:t=>cp(t),$forceUpdate:t=>t.f||(t.f=()=>op(t.update)),$nextTick:t=>t.n||(t.n=sp.bind(t.proxy)),$watch:t=>SP.bind(t)}),dh=(t,e)=>t!==At&&!t.__isScriptSetup&&ft(t,e),kP={get({_:t},e){const{ctx:r,setupState:n,data:s,props:a,accessCache:c,type:u,appContext:f}=t;let h;if(e[0]!=="$"){const _=c[e];if(_!==void 0)switch(_){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return a[e]}else{if(dh(n,e))return c[e]=1,n[e];if(s!==At&&ft(s,e))return c[e]=2,s[e];if((h=t.propsOptions[0])&&ft(h,e))return c[e]=3,a[e];if(r!==At&&ft(r,e))return c[e]=4,r[e];Qh&&(c[e]=0)}}const p=Pa[e];let m,b;if(p)return e==="$attrs"&&Vr(t,"get",e),p(t);if((m=u.__cssModules)&&(m=m[e]))return m;if(r!==At&&ft(r,e))return c[e]=4,r[e];if(b=f.config.globalProperties,ft(b,e))return b[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:a}=t;return dh(s,e)?(s[e]=r,!0):n!==At&&ft(n,e)?(n[e]=r,!0):ft(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,propsOptions:a}},c){let u;return!!r[c]||t!==At&&ft(t,c)||dh(e,c)||(u=a[0])&&ft(u,c)||ft(n,c)||ft(Pa,c)||ft(s.config.globalProperties,c)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:ft(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function vy(t){return qe(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Qh=!0;function HP(t){const e=cp(t),r=t.proxy,n=t.ctx;Qh=!1,e.beforeCreate&&wy(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:c,watch:u,provide:f,inject:h,created:p,beforeMount:m,mounted:b,beforeUpdate:_,updated:x,activated:N,deactivated:M,beforeDestroy:z,beforeUnmount:C,destroyed:L,unmounted:D,render:T,renderTracked:P,renderTriggered:d,errorCaptured:w,serverPrefetch:Z,expose:B,inheritAttrs:V,components:ee,directives:ae,filters:E}=e;if(h&&zP(h,n,null),c)for(const te in c){const Q=c[te];Je(Q)&&(n[te]=Q.bind(r))}if(s){const te=s.call(r,r);Ct(te)&&(t.data=To(te))}if(Qh=!0,a)for(const te in a){const Q=a[te],J=Je(Q)?Q.bind(r,r):Je(Q.get)?Q.get.bind(r,r):Rn,ie=!Je(Q)&&Je(Q.set)?Q.set.bind(r):Rn,ue=rn({get:J,set:ie});Object.defineProperty(n,te,{enumerable:!0,configurable:!0,get:()=>ue.value,set:xe=>ue.value=xe})}if(u)for(const te in u)M1(u[te],n,r,te);if(f){const te=Je(f)?f.call(r):f;Reflect.ownKeys(te).forEach(Q=>{Eu(Q,te[Q])})}p&&wy(p,t,"c");function Y(te,Q){qe(Q)?Q.forEach(J=>te(J.bind(r))):Q&&te(Q.bind(r))}if(Y(CP,m),Y(il,b),Y(TP,_),Y(RP,x),Y(DP,N),Y(OP,M),Y(jP,w),Y(MP,P),Y(FP,d),Y(NP,C),Y($1,D),Y($P,Z),qe(B))if(B.length){const te=t.exposed||(t.exposed={});B.forEach(Q=>{Object.defineProperty(te,Q,{get:()=>r[Q],set:J=>r[Q]=J})})}else t.exposed||(t.exposed={});T&&t.render===Rn&&(t.render=T),V!=null&&(t.inheritAttrs=V),ee&&(t.components=ee),ae&&(t.directives=ae)}function zP(t,e,r=Rn){qe(t)&&(t=Zh(t));for(const n in t){const s=t[n];let a;Ct(s)?"default"in s?a=wn(s.from||n,s.default,!0):a=wn(s.from||n):a=wn(s),Mt(a)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):e[n]=a}}function wy(t,e,r){Nn(qe(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function M1(t,e,r,n){const s=n.includes(".")?C1(r,n):()=>r[n];if(fr(t)){const a=e[t];Je(a)&&ki(s,a)}else if(Je(t))ki(s,t.bind(r));else if(Ct(t))if(qe(t))t.forEach(a=>M1(a,e,r,n));else{const a=Je(t.handler)?t.handler.bind(r):e[t.handler];Je(a)&&ki(s,a,t)}}function cp(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:a,config:{optionMergeStrategies:c}}=t.appContext,u=a.get(e);let f;return u?f=u:!s.length&&!r&&!n?f=e:(f={},s.length&&s.forEach(h=>Nu(f,h,c,!0)),Nu(f,e,c)),Ct(e)&&a.set(e,f),f}function Nu(t,e,r,n=!1){const{mixins:s,extends:a}=e;a&&Nu(t,a,r,!0),s&&s.forEach(c=>Nu(t,c,r,!0));for(const c in e)if(!(n&&c==="expose")){const u=qP[c]||r&&r[c];t[c]=u?u(t[c],e[c]):e[c]}return t}const qP={data:_y,props:Ey,emits:Ey,methods:xa,computed:xa,beforeCreate:Nr,created:Nr,beforeMount:Nr,mounted:Nr,beforeUpdate:Nr,updated:Nr,beforeDestroy:Nr,beforeUnmount:Nr,destroyed:Nr,unmounted:Nr,activated:Nr,deactivated:Nr,errorCaptured:Nr,serverPrefetch:Nr,components:xa,directives:xa,watch:VP,provide:_y,inject:KP};function _y(t,e){return e?t?function(){return yr(Je(t)?t.call(this,this):t,Je(e)?e.call(this,this):e)}:e:t}function KP(t,e){return xa(Zh(t),Zh(e))}function Zh(t){if(qe(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Nr(t,e){return t?[...new Set([].concat(t,e))]:e}function xa(t,e){return t?yr(Object.create(null),t,e):e}function Ey(t,e){return t?qe(t)&&qe(e)?[...new Set([...t,...e])]:yr(Object.create(null),vy(t),vy(e??{})):e}function VP(t,e){if(!t)return e;if(!e)return t;const r=yr(Object.create(null),t);for(const n in e)r[n]=Nr(t[n],e[n]);return r}function j1(){return{app:null,config:{isNativeTag:g8,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let GP=0;function WP(t,e){return function(n,s=null){Je(n)||(n=yr({},n)),s!=null&&!Ct(s)&&(s=null);const a=j1(),c=new Set;let u=!1;const f=a.app={_uid:GP++,_component:n,_props:s,_container:null,_context:a,_instance:null,version:_S,get config(){return a.config},set config(h){},use(h,...p){return c.has(h)||(h&&Je(h.install)?(c.add(h),h.install(f,...p)):Je(h)&&(c.add(h),h(f,...p))),f},mixin(h){return a.mixins.includes(h)||a.mixins.push(h),f},component(h,p){return p?(a.components[h]=p,f):a.components[h]},directive(h,p){return p?(a.directives[h]=p,f):a.directives[h]},mount(h,p,m){if(!u){const b=Yt(n,s);return b.appContext=a,p&&e?e(b,h):t(b,h,m),u=!0,f._container=h,h.__vue_app__=f,al(b.component)||b.component.proxy}},unmount(){u&&(t(null,f._container),delete f._container.__vue_app__)},provide(h,p){return a.provides[h]=p,f},runWithContext(h){Fa=f;try{return h()}finally{Fa=null}}};return f}}let Fa=null;function Eu(t,e){if(pr){let r=pr.provides;const n=pr.parent&&pr.parent.provides;n===r&&(r=pr.provides=Object.create(n)),r[t]=e}}function wn(t,e,r=!1){const n=pr||nn;if(n||Fa){const s=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Fa._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return r&&Je(e)?e.call(n&&n.proxy):e}}function YP(){return!!(pr||nn||Fa)}function JP(t,e,r,n=!1){const s={},a={};Au(a,ol,1),t.propsDefaults=Object.create(null),L1(t,e,s,a);for(const c in t.propsOptions[0])c in s||(s[c]=void 0);r?t.props=n?s:rP(s):t.type.props?t.props=s:t.props=a,t.attrs=a}function XP(t,e,r,n){const{props:s,attrs:a,vnode:{patchFlag:c}}=t,u=lt(s),[f]=t.propsOptions;let h=!1;if((n||c>0)&&!(c&16)){if(c&8){const p=t.vnode.dynamicProps;for(let m=0;m<p.length;m++){let b=p[m];if(rl(t.emitsOptions,b))continue;const _=e[b];if(f)if(ft(a,b))_!==a[b]&&(a[b]=_,h=!0);else{const x=Jn(b);s[x]=ed(f,u,x,_,t,!1)}else _!==a[b]&&(a[b]=_,h=!0)}}}else{L1(t,e,s,a)&&(h=!0);let p;for(const m in u)(!e||!ft(e,m)&&((p=Oo(m))===m||!ft(e,p)))&&(f?r&&(r[m]!==void 0||r[p]!==void 0)&&(s[m]=ed(f,u,m,void 0,t,!0)):delete s[m]);if(a!==u)for(const m in a)(!e||!ft(e,m))&&(delete a[m],h=!0)}h&&yi(t,"set","$attrs")}function L1(t,e,r,n){const[s,a]=t.propsOptions;let c=!1,u;if(e)for(let f in e){if(vu(f))continue;const h=e[f];let p;s&&ft(s,p=Jn(f))?!a||!a.includes(p)?r[p]=h:(u||(u={}))[p]=h:rl(t.emitsOptions,f)||(!(f in n)||h!==n[f])&&(n[f]=h,c=!0)}if(a){const f=lt(r),h=u||At;for(let p=0;p<a.length;p++){const m=a[p];r[m]=ed(s,f,m,h[m],t,!ft(h,m))}}return c}function ed(t,e,r,n,s,a){const c=t[r];if(c!=null){const u=ft(c,"default");if(u&&n===void 0){const f=c.default;if(c.type!==Function&&!c.skipFactory&&Je(f)){const{propsDefaults:h}=s;r in h?n=h[r]:(xo(s),n=h[r]=f.call(null,e),Is())}else n=f}c[0]&&(a&&!u?n=!1:c[1]&&(n===""||n===Oo(r))&&(n=!0))}return n}function U1(t,e,r=!1){const n=e.propsCache,s=n.get(t);if(s)return s;const a=t.props,c={},u=[];let f=!1;if(!Je(t)){const p=m=>{f=!0;const[b,_]=U1(m,e,!0);yr(c,b),_&&u.push(..._)};!r&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!a&&!f)return Ct(t)&&n.set(t,lo),lo;if(qe(a))for(let p=0;p<a.length;p++){const m=Jn(a[p]);xy(m)&&(c[m]=At)}else if(a)for(const p in a){const m=Jn(p);if(xy(m)){const b=a[p],_=c[m]=qe(b)||Je(b)?{type:b}:yr({},b);if(_){const x=Iy(Boolean,_.type),N=Iy(String,_.type);_[0]=x>-1,_[1]=N<0||x<N,(x>-1||ft(_,"default"))&&u.push(m)}}}const h=[c,u];return Ct(t)&&n.set(t,h),h}function xy(t){return t[0]!=="$"}function Py(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Sy(t,e){return Py(t)===Py(e)}function Iy(t,e){return qe(e)?e.findIndex(r=>Sy(r,t)):Je(e)&&Sy(e,t)?0:-1}const B1=t=>t[0]==="_"||t==="$stable",up=t=>qe(t)?t.map(Wn):[Wn(t)],QP=(t,e,r)=>{if(e._n)return e;const n=vs((...s)=>up(e(...s)),r);return n._c=!1,n},k1=(t,e,r)=>{const n=t._ctx;for(const s in t){if(B1(s))continue;const a=t[s];if(Je(a))e[s]=QP(s,a,n);else if(a!=null){const c=up(a);e[s]=()=>c}}},H1=(t,e)=>{const r=up(e);t.slots.default=()=>r},ZP=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=lt(e),Au(e,"_",r)):k1(e,t.slots={})}else t.slots={},e&&H1(t,e);Au(t.slots,ol,1)},eS=(t,e,r)=>{const{vnode:n,slots:s}=t;let a=!0,c=At;if(n.shapeFlag&32){const u=e._;u?r&&u===1?a=!1:(yr(s,e),!r&&u===1&&delete s._):(a=!e.$stable,k1(e,s)),c=e}else e&&(H1(t,e),c={default:1});if(a)for(const u in s)!B1(u)&&!(u in c)&&delete s[u]};function td(t,e,r,n,s=!1){if(qe(t)){t.forEach((b,_)=>td(b,e&&(qe(e)?e[_]:e),r,n,s));return}if(_u(n)&&!s)return;const a=n.shapeFlag&4?al(n.component)||n.component.proxy:n.el,c=s?null:a,{i:u,r:f}=t,h=e&&e.r,p=u.refs===At?u.refs={}:u.refs,m=u.setupState;if(h!=null&&h!==f&&(fr(h)?(p[h]=null,ft(m,h)&&(m[h]=null)):Mt(h)&&(h.value=null)),Je(f))Bi(f,u,12,[c,p]);else{const b=fr(f),_=Mt(f);if(b||_){const x=()=>{if(t.f){const N=b?ft(m,f)?m[f]:p[f]:f.value;s?qe(N)&&Vd(N,a):qe(N)?N.includes(a)||N.push(a):b?(p[f]=[a],ft(m,f)&&(m[f]=p[f])):(f.value=[a],t.k&&(p[t.k]=f.value))}else b?(p[f]=c,ft(m,f)&&(m[f]=c)):_&&(f.value=c,t.k&&(p[t.k]=c))};c?(x.id=-1,zr(x,r)):x()}}}const zr=xP;function tS(t){return rS(t)}function rS(t,e){const r=Vh();r.__VUE__=!0;const{insert:n,remove:s,patchProp:a,createElement:c,createText:u,createComment:f,setText:h,setElementText:p,parentNode:m,nextSibling:b,setScopeId:_=Rn,insertStaticContent:x}=t,N=(I,R,q,re=null,ne=null,ce=null,we=!1,pe=null,fe=!!R.dynamicChildren)=>{if(I===R)return;I&&!oa(I,R)&&(re=$(I),xe(I,ne,ce,!0),I=null),R.patchFlag===-2&&(fe=!1,R.dynamicChildren=null);const{type:se,ref:ve,shapeFlag:me}=R;switch(se){case sl:M(I,R,q,re);break;case Ds:z(I,R,q,re);break;case xu:I==null&&C(R,q,re,we);break;case Gn:ee(I,R,q,re,ne,ce,we,pe,fe);break;default:me&1?T(I,R,q,re,ne,ce,we,pe,fe):me&6?ae(I,R,q,re,ne,ce,we,pe,fe):(me&64||me&128)&&se.process(I,R,q,re,ne,ce,we,pe,fe,j)}ve!=null&&ne&&td(ve,I&&I.ref,ce,R||I,!R)},M=(I,R,q,re)=>{if(I==null)n(R.el=u(R.children),q,re);else{const ne=R.el=I.el;R.children!==I.children&&h(ne,R.children)}},z=(I,R,q,re)=>{I==null?n(R.el=f(R.children||""),q,re):R.el=I.el},C=(I,R,q,re)=>{[I.el,I.anchor]=x(I.children,R,q,re,I.el,I.anchor)},L=({el:I,anchor:R},q,re)=>{let ne;for(;I&&I!==R;)ne=b(I),n(I,q,re),I=ne;n(R,q,re)},D=({el:I,anchor:R})=>{let q;for(;I&&I!==R;)q=b(I),s(I),I=q;s(R)},T=(I,R,q,re,ne,ce,we,pe,fe)=>{we=we||R.type==="svg",I==null?P(R,q,re,ne,ce,we,pe,fe):Z(I,R,ne,ce,we,pe,fe)},P=(I,R,q,re,ne,ce,we,pe)=>{let fe,se;const{type:ve,props:me,shapeFlag:_e,transition:Ee,dirs:Se}=I;if(fe=I.el=c(I.type,ce,me&&me.is,me),_e&8?p(fe,I.children):_e&16&&w(I.children,fe,null,re,ne,ce&&ve!=="foreignObject",we,pe),Se&&ds(I,null,re,"created"),d(fe,I,I.scopeId,we,re),me){for(const Ae in me)Ae!=="value"&&!vu(Ae)&&a(fe,Ae,null,me[Ae],ce,I.children,re,ne,Te);"value"in me&&a(fe,"value",null,me.value),(se=me.onVnodeBeforeMount)&&Hn(se,re,I)}Se&&ds(I,null,re,"beforeMount");const Ie=(!ne||ne&&!ne.pendingBranch)&&Ee&&!Ee.persisted;Ie&&Ee.beforeEnter(fe),n(fe,R,q),((se=me&&me.onVnodeMounted)||Ie||Se)&&zr(()=>{se&&Hn(se,re,I),Ie&&Ee.enter(fe),Se&&ds(I,null,re,"mounted")},ne)},d=(I,R,q,re,ne)=>{if(q&&_(I,q),re)for(let ce=0;ce<re.length;ce++)_(I,re[ce]);if(ne){let ce=ne.subTree;if(R===ce){const we=ne.vnode;d(I,we,we.scopeId,we.slotScopeIds,ne.parent)}}},w=(I,R,q,re,ne,ce,we,pe,fe=0)=>{for(let se=fe;se<I.length;se++){const ve=I[se]=pe?Fi(I[se]):Wn(I[se]);N(null,ve,R,q,re,ne,ce,we,pe)}},Z=(I,R,q,re,ne,ce,we)=>{const pe=R.el=I.el;let{patchFlag:fe,dynamicChildren:se,dirs:ve}=R;fe|=I.patchFlag&16;const me=I.props||At,_e=R.props||At;let Ee;q&&ps(q,!1),(Ee=_e.onVnodeBeforeUpdate)&&Hn(Ee,q,R,I),ve&&ds(R,I,q,"beforeUpdate"),q&&ps(q,!0);const Se=ne&&R.type!=="foreignObject";if(se?B(I.dynamicChildren,se,pe,q,re,Se,ce):we||Q(I,R,pe,null,q,re,Se,ce,!1),fe>0){if(fe&16)V(pe,R,me,_e,q,re,ne);else if(fe&2&&me.class!==_e.class&&a(pe,"class",null,_e.class,ne),fe&4&&a(pe,"style",me.style,_e.style,ne),fe&8){const Ie=R.dynamicProps;for(let Ae=0;Ae<Ie.length;Ae++){const Me=Ie[Ae],Le=me[Me],Ve=_e[Me];(Ve!==Le||Me==="value")&&a(pe,Me,Le,Ve,ne,I.children,q,re,Te)}}fe&1&&I.children!==R.children&&p(pe,R.children)}else!we&&se==null&&V(pe,R,me,_e,q,re,ne);((Ee=_e.onVnodeUpdated)||ve)&&zr(()=>{Ee&&Hn(Ee,q,R,I),ve&&ds(R,I,q,"updated")},re)},B=(I,R,q,re,ne,ce,we)=>{for(let pe=0;pe<R.length;pe++){const fe=I[pe],se=R[pe],ve=fe.el&&(fe.type===Gn||!oa(fe,se)||fe.shapeFlag&70)?m(fe.el):q;N(fe,se,ve,null,re,ne,ce,we,!0)}},V=(I,R,q,re,ne,ce,we)=>{if(q!==re){if(q!==At)for(const pe in q)!vu(pe)&&!(pe in re)&&a(I,pe,q[pe],null,we,R.children,ne,ce,Te);for(const pe in re){if(vu(pe))continue;const fe=re[pe],se=q[pe];fe!==se&&pe!=="value"&&a(I,pe,se,fe,we,R.children,ne,ce,Te)}"value"in re&&a(I,"value",q.value,re.value)}},ee=(I,R,q,re,ne,ce,we,pe,fe)=>{const se=R.el=I?I.el:u(""),ve=R.anchor=I?I.anchor:u("");let{patchFlag:me,dynamicChildren:_e,slotScopeIds:Ee}=R;Ee&&(pe=pe?pe.concat(Ee):Ee),I==null?(n(se,q,re),n(ve,q,re),w(R.children,q,ve,ne,ce,we,pe,fe)):me>0&&me&64&&_e&&I.dynamicChildren?(B(I.dynamicChildren,_e,q,ne,ce,we,pe),(R.key!=null||ne&&R===ne.subTree)&&z1(I,R,!0)):Q(I,R,q,ve,ne,ce,we,pe,fe)},ae=(I,R,q,re,ne,ce,we,pe,fe)=>{R.slotScopeIds=pe,I==null?R.shapeFlag&512?ne.ctx.activate(R,q,re,we,fe):E(R,q,re,ne,ce,we,fe):A(I,R,fe)},E=(I,R,q,re,ne,ce,we)=>{const pe=I.component=hS(I,re,ne);if(R1(I)&&(pe.ctx.renderer=j),dS(pe),pe.asyncDep){if(ne&&ne.registerDep(pe,Y),!I.el){const fe=pe.subTree=Yt(Ds);z(null,fe,R,q)}return}Y(pe,I,R,q,ne,ce,we)},A=(I,R,q)=>{const re=R.component=I.component;if(wP(I,R,q))if(re.asyncDep&&!re.asyncResolved){te(re,R,q);return}else re.next=R,pP(re.update),re.update();else R.el=I.el,re.vnode=R},Y=(I,R,q,re,ne,ce,we)=>{const pe=()=>{if(I.isMounted){let{next:ve,bu:me,u:_e,parent:Ee,vnode:Se}=I,Ie=ve,Ae;ps(I,!1),ve?(ve.el=Se.el,te(I,ve,we)):ve=Se,me&&wu(me),(Ae=ve.props&&ve.props.onVnodeBeforeUpdate)&&Hn(Ae,Ee,ve,Se),ps(I,!0);const Me=hh(I),Le=I.subTree;I.subTree=Me,N(Le,Me,m(Le.el),$(Le),I,ne,ce),ve.el=Me.el,Ie===null&&_P(I,Me.el),_e&&zr(_e,ne),(Ae=ve.props&&ve.props.onVnodeUpdated)&&zr(()=>Hn(Ae,Ee,ve,Se),ne)}else{let ve;const{el:me,props:_e}=R,{bm:Ee,m:Se,parent:Ie}=I,Ae=_u(R);if(ps(I,!1),Ee&&wu(Ee),!Ae&&(ve=_e&&_e.onVnodeBeforeMount)&&Hn(ve,Ie,R),ps(I,!0),me&&U){const Me=()=>{I.subTree=hh(I),U(me,I.subTree,I,ne,null)};Ae?R.type.__asyncLoader().then(()=>!I.isUnmounted&&Me()):Me()}else{const Me=I.subTree=hh(I);N(null,Me,q,re,I,ne,ce),R.el=Me.el}if(Se&&zr(Se,ne),!Ae&&(ve=_e&&_e.onVnodeMounted)){const Me=R;zr(()=>Hn(ve,Ie,Me),ne)}(R.shapeFlag&256||Ie&&_u(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&I.a&&zr(I.a,ne),I.isMounted=!0,R=q=re=null}},fe=I.effect=new Qd(pe,()=>op(se),I.scope),se=I.update=()=>fe.run();se.id=I.uid,ps(I,!0),se()},te=(I,R,q)=>{R.component=I;const re=I.vnode.props;I.vnode=R,I.next=null,XP(I,R.props,re,q),eS(I,R.children,q),Ao(),gy(),Co()},Q=(I,R,q,re,ne,ce,we,pe,fe=!1)=>{const se=I&&I.children,ve=I?I.shapeFlag:0,me=R.children,{patchFlag:_e,shapeFlag:Ee}=R;if(_e>0){if(_e&128){ie(se,me,q,re,ne,ce,we,pe,fe);return}else if(_e&256){J(se,me,q,re,ne,ce,we,pe,fe);return}}Ee&8?(ve&16&&Te(se,ne,ce),me!==se&&p(q,me)):ve&16?Ee&16?ie(se,me,q,re,ne,ce,we,pe,fe):Te(se,ne,ce,!0):(ve&8&&p(q,""),Ee&16&&w(me,q,re,ne,ce,we,pe,fe))},J=(I,R,q,re,ne,ce,we,pe,fe)=>{I=I||lo,R=R||lo;const se=I.length,ve=R.length,me=Math.min(se,ve);let _e;for(_e=0;_e<me;_e++){const Ee=R[_e]=fe?Fi(R[_e]):Wn(R[_e]);N(I[_e],Ee,q,null,ne,ce,we,pe,fe)}se>ve?Te(I,ne,ce,!0,!1,me):w(R,q,re,ne,ce,we,pe,fe,me)},ie=(I,R,q,re,ne,ce,we,pe,fe)=>{let se=0;const ve=R.length;let me=I.length-1,_e=ve-1;for(;se<=me&&se<=_e;){const Ee=I[se],Se=R[se]=fe?Fi(R[se]):Wn(R[se]);if(oa(Ee,Se))N(Ee,Se,q,null,ne,ce,we,pe,fe);else break;se++}for(;se<=me&&se<=_e;){const Ee=I[me],Se=R[_e]=fe?Fi(R[_e]):Wn(R[_e]);if(oa(Ee,Se))N(Ee,Se,q,null,ne,ce,we,pe,fe);else break;me--,_e--}if(se>me){if(se<=_e){const Ee=_e+1,Se=Ee<ve?R[Ee].el:re;for(;se<=_e;)N(null,R[se]=fe?Fi(R[se]):Wn(R[se]),q,Se,ne,ce,we,pe,fe),se++}}else if(se>_e)for(;se<=me;)xe(I[se],ne,ce,!0),se++;else{const Ee=se,Se=se,Ie=new Map;for(se=Se;se<=_e;se++){const ze=R[se]=fe?Fi(R[se]):Wn(R[se]);ze.key!=null&&Ie.set(ze.key,se)}let Ae,Me=0;const Le=_e-Se+1;let Ve=!1,tt=0;const Ze=new Array(Le);for(se=0;se<Le;se++)Ze[se]=0;for(se=Ee;se<=me;se++){const ze=I[se];if(Me>=Le){xe(ze,ne,ce,!0);continue}let Pt;if(ze.key!=null)Pt=Ie.get(ze.key);else for(Ae=Se;Ae<=_e;Ae++)if(Ze[Ae-Se]===0&&oa(ze,R[Ae])){Pt=Ae;break}Pt===void 0?xe(ze,ne,ce,!0):(Ze[Pt-Se]=se+1,Pt>=tt?tt=Pt:Ve=!0,N(ze,R[Pt],q,null,ne,ce,we,pe,fe),Me++)}const nt=Ve?nS(Ze):lo;for(Ae=nt.length-1,se=Le-1;se>=0;se--){const ze=Se+se,Pt=R[ze],mr=ze+1<ve?R[ze+1].el:re;Ze[se]===0?N(null,Pt,q,mr,ne,ce,we,pe,fe):Ve&&(Ae<0||se!==nt[Ae]?ue(Pt,q,mr,2):Ae--)}}},ue=(I,R,q,re,ne=null)=>{const{el:ce,type:we,transition:pe,children:fe,shapeFlag:se}=I;if(se&6){ue(I.component.subTree,R,q,re);return}if(se&128){I.suspense.move(R,q,re);return}if(se&64){we.move(I,R,q,j);return}if(we===Gn){n(ce,R,q);for(let me=0;me<fe.length;me++)ue(fe[me],R,q,re);n(I.anchor,R,q);return}if(we===xu){L(I,R,q);return}if(re!==2&&se&1&&pe)if(re===0)pe.beforeEnter(ce),n(ce,R,q),zr(()=>pe.enter(ce),ne);else{const{leave:me,delayLeave:_e,afterLeave:Ee}=pe,Se=()=>n(ce,R,q),Ie=()=>{me(ce,()=>{Se(),Ee&&Ee()})};_e?_e(ce,Se,Ie):Ie()}else n(ce,R,q)},xe=(I,R,q,re=!1,ne=!1)=>{const{type:ce,props:we,ref:pe,children:fe,dynamicChildren:se,shapeFlag:ve,patchFlag:me,dirs:_e}=I;if(pe!=null&&td(pe,null,q,I,!0),ve&256){R.ctx.deactivate(I);return}const Ee=ve&1&&_e,Se=!_u(I);let Ie;if(Se&&(Ie=we&&we.onVnodeBeforeUnmount)&&Hn(Ie,R,I),ve&6)Pe(I.component,q,re);else{if(ve&128){I.suspense.unmount(q,re);return}Ee&&ds(I,null,R,"beforeUnmount"),ve&64?I.type.remove(I,R,q,ne,j,re):se&&(ce!==Gn||me>0&&me&64)?Te(se,R,q,!1,!0):(ce===Gn&&me&384||!ne&&ve&16)&&Te(fe,R,q),re&&ye(I)}(Se&&(Ie=we&&we.onVnodeUnmounted)||Ee)&&zr(()=>{Ie&&Hn(Ie,R,I),Ee&&ds(I,null,R,"unmounted")},q)},ye=I=>{const{type:R,el:q,anchor:re,transition:ne}=I;if(R===Gn){Fe(q,re);return}if(R===xu){D(I);return}const ce=()=>{s(q),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(I.shapeFlag&1&&ne&&!ne.persisted){const{leave:we,delayLeave:pe}=ne,fe=()=>we(q,ce);pe?pe(I.el,ce,fe):fe()}else ce()},Fe=(I,R)=>{let q;for(;I!==R;)q=b(I),s(I),I=q;s(R)},Pe=(I,R,q)=>{const{bum:re,scope:ne,update:ce,subTree:we,um:pe}=I;re&&wu(re),ne.stop(),ce&&(ce.active=!1,xe(we,I,R,q)),pe&&zr(pe,R),zr(()=>{I.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},Te=(I,R,q,re=!1,ne=!1,ce=0)=>{for(let we=ce;we<I.length;we++)xe(I[we],R,q,re,ne)},$=I=>I.shapeFlag&6?$(I.component.subTree):I.shapeFlag&128?I.suspense.next():b(I.anchor||I.el),H=(I,R,q)=>{I==null?R._vnode&&xe(R._vnode,null,null,!0):N(R._vnode||null,I,R,null,null,null,q),gy(),I1(),R._vnode=I},j={p:N,um:xe,m:ue,r:ye,mt:E,mc:w,pc:Q,pbc:B,n:$,o:t};let y,U;return e&&([y,U]=e(j)),{render:H,hydrate:y,createApp:WP(H,y)}}function ps({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function z1(t,e,r=!1){const n=t.children,s=e.children;if(qe(n)&&qe(s))for(let a=0;a<n.length;a++){const c=n[a];let u=s[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=s[a]=Fi(s[a]),u.el=c.el),r||z1(c,u)),u.type===sl&&(u.el=c.el)}}function nS(t){const e=t.slice(),r=[0];let n,s,a,c,u;const f=t.length;for(n=0;n<f;n++){const h=t[n];if(h!==0){if(s=r[r.length-1],t[s]<h){e[n]=s,r.push(n);continue}for(a=0,c=r.length-1;a<c;)u=a+c>>1,t[r[u]]<h?a=u+1:c=u;h<t[r[a]]&&(a>0&&(e[n]=r[a-1]),r[a]=n)}}for(a=r.length,c=r[a-1];a-- >0;)r[a]=c,c=e[c];return r}const iS=t=>t.__isTeleport,Gn=Symbol.for("v-fgt"),sl=Symbol.for("v-txt"),Ds=Symbol.for("v-cmt"),xu=Symbol.for("v-stc"),Sa=[];let Tn=null;function pt(t=!1){Sa.push(Tn=t?null:[])}function sS(){Sa.pop(),Tn=Sa[Sa.length-1]||null}let Ma=1;function Dy(t){Ma+=t}function q1(t){return t.dynamicChildren=Ma>0?Tn||lo:null,sS(),Ma>0&&Tn&&Tn.push(t),t}function mt(t,e,r,n,s,a){return q1($e(t,e,r,n,s,a,!0))}function oS(t,e,r,n,s){return q1(Yt(t,e,r,n,s,!0))}function rd(t){return t?t.__v_isVNode===!0:!1}function oa(t,e){return t.type===e.type&&t.key===e.key}const ol="__vInternal",K1=({key:t})=>t??null,Pu=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?fr(t)||Mt(t)||Je(t)?{i:nn,r:t,k:e,f:!!r}:t:null);function $e(t,e=null,r=null,n=0,s=null,a=t===Gn?0:1,c=!1,u=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&K1(e),ref:e&&Pu(e),scopeId:A1,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:nn};return u?(lp(f,r),a&128&&t.normalize(f)):r&&(f.shapeFlag|=fr(r)?8:16),Ma>0&&!c&&Tn&&(f.patchFlag>0||a&6)&&f.patchFlag!==32&&Tn.push(f),f}const Yt=aS;function aS(t,e=null,r=null,n=0,s=null,a=!1){if((!t||t===LP)&&(t=Ds),rd(t)){const u=Eo(t,e,!0);return r&&lp(u,r),Ma>0&&!a&&Tn&&(u.shapeFlag&6?Tn[Tn.indexOf(t)]=u:Tn.push(u)),u.patchFlag|=-2,u}if(bS(t)&&(t=t.__vccOpts),e){e=cS(e);let{class:u,style:f}=e;u&&!fr(u)&&(e.class=Jd(u)),Ct(f)&&(b1(f)&&!qe(f)&&(f=yr({},f)),e.style=Yd(f))}const c=fr(t)?1:EP(t)?128:iS(t)?64:Ct(t)?4:Je(t)?2:0;return $e(t,e,r,n,s,c,a,!0)}function cS(t){return t?b1(t)||ol in t?yr({},t):t:null}function Eo(t,e,r=!1){const{props:n,ref:s,patchFlag:a,children:c}=t,u=e?uS(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&K1(u),ref:e&&e.ref?r&&s?qe(s)?s.concat(Pu(e)):[s,Pu(e)]:Pu(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Gn?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Eo(t.ssContent),ssFallback:t.ssFallback&&Eo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Li(t=" ",e=0){return Yt(sl,null,t,e)}function As(t,e){const r=Yt(xu,null,t);return r.staticCount=e,r}function pi(t="",e=!1){return e?(pt(),oS(Ds,null,t)):Yt(Ds,null,t)}function Wn(t){return t==null||typeof t=="boolean"?Yt(Ds):qe(t)?Yt(Gn,null,t.slice()):typeof t=="object"?Fi(t):Yt(sl,null,String(t))}function Fi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Eo(t)}function lp(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(qe(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),lp(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!(ol in e)?e._ctx=nn:s===3&&nn&&(nn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Je(e)?(e={default:e,_ctx:nn},r=32):(e=String(e),n&64?(r=16,e=[Li(e)]):r=8);t.children=e,t.shapeFlag|=r}function uS(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=Jd([e.class,n.class]));else if(s==="style")e.style=Yd([e.style,n.style]);else if(Yu(s)){const a=e[s],c=n[s];c&&a!==c&&!(qe(a)&&a.includes(c))&&(e[s]=a?[].concat(a,c):c)}else s!==""&&(e[s]=n[s])}return e}function Hn(t,e,r,n=null){Nn(t,e,7,[r,n])}const lS=j1();let fS=0;function hS(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||lS,a={uid:fS++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new i1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:U1(n,s),emitsOptions:O1(n,s),emit:null,emitted:null,propsDefaults:At,inheritAttrs:n.inheritAttrs,ctx:At,data:At,props:At,attrs:At,slots:At,refs:At,setupState:At,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=mP.bind(null,a),t.ce&&t.ce(a),a}let pr=null,fp,ro,Oy="__VUE_INSTANCE_SETTERS__";(ro=Vh()[Oy])||(ro=Vh()[Oy]=[]),ro.push(t=>pr=t),fp=t=>{ro.length>1?ro.forEach(e=>e(t)):ro[0](t)};const xo=t=>{fp(t),t.scope.on()},Is=()=>{pr&&pr.scope.off(),fp(null)};function V1(t){return t.vnode.shapeFlag&4}let ja=!1;function dS(t,e=!1){ja=e;const{props:r,children:n}=t.vnode,s=V1(t);JP(t,r,s,e),ZP(t,n);const a=s?pS(t,e):void 0;return ja=!1,a}function pS(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=el(new Proxy(t.ctx,kP));const{setup:n}=r;if(n){const s=t.setupContext=n.length>1?yS(t):null;xo(t),Ao();const a=Bi(n,t,0,[t.props,s]);if(Co(),Is(),Zb(a)){if(a.then(Is,Is),e)return a.then(c=>{Ay(t,c,e)}).catch(c=>{tl(c,t,0)});t.asyncDep=a}else Ay(t,a,e)}else G1(t,e)}function Ay(t,e,r){Je(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ct(e)&&(t.setupState=E1(e)),G1(t,r)}let Cy;function G1(t,e,r){const n=t.type;if(!t.render){if(!e&&Cy&&!n.render){const s=n.template||cp(t).template;if(s){const{isCustomElement:a,compilerOptions:c}=t.appContext.config,{delimiters:u,compilerOptions:f}=n,h=yr(yr({isCustomElement:a,delimiters:u},c),f);n.render=Cy(s,h)}}t.render=n.render||Rn}xo(t),Ao(),HP(t),Co(),Is()}function gS(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return Vr(t,"get","$attrs"),e[r]}}))}function yS(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return gS(t)},slots:t.slots,emit:t.emit,expose:e}}function al(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(E1(el(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Pa)return Pa[r](t)},has(e,r){return r in e||r in Pa}}))}function mS(t,e=!0){return Je(t)?t.displayName||t.name:t.name||e&&t.__name}function bS(t){return Je(t)&&"__vccOpts"in t}const rn=(t,e)=>fP(t,e,ja);function W1(t,e,r){const n=arguments.length;return n===2?Ct(e)&&!qe(e)?rd(e)?Yt(t,null,[e]):Yt(t,e):Yt(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&rd(r)&&(r=[r]),Yt(t,e,r))}const vS=Symbol.for("v-scx"),wS=()=>wn(vS),_S="3.3.4",ES="http://www.w3.org/2000/svg",_s=typeof document<"u"?document:null,Ty=_s&&_s.createElement("template"),xS={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e?_s.createElementNS(ES,t):_s.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>_s.createTextNode(t),createComment:t=>_s.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>_s.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,s,a){const c=r?r.previousSibling:e.lastChild;if(s&&(s===a||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===a||!(s=s.nextSibling)););else{Ty.innerHTML=n?`<svg>${t}</svg>`:t;const u=Ty.content;if(n){const f=u.firstChild;for(;f.firstChild;)u.appendChild(f.firstChild);u.removeChild(f)}e.insertBefore(u,r)}return[c?c.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function PS(t,e,r){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function SS(t,e,r){const n=t.style,s=fr(r);if(r&&!s){if(e&&!fr(e))for(const a in e)r[a]==null&&nd(n,a,"");for(const a in r)nd(n,a,r[a])}else{const a=n.display;s?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=a)}}const Ry=/\s*!important$/;function nd(t,e,r){if(qe(r))r.forEach(n=>nd(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=IS(t,e);Ry.test(r)?t.setProperty(Oo(n),r.replace(Ry,""),"important"):t[n]=r}}const Ny=["Webkit","Moz","ms"],ph={};function IS(t,e){const r=ph[e];if(r)return r;let n=Jn(e);if(n!=="filter"&&n in t)return ph[e]=n;n=Qu(n);for(let s=0;s<Ny.length;s++){const a=Ny[s]+n;if(a in t)return ph[e]=a}return e}const $y="http://www.w3.org/1999/xlink";function DS(t,e,r,n,s){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS($y,e.slice(6,e.length)):t.setAttributeNS($y,e,r);else{const a=I8(e);r==null||a&&!r1(r)?t.removeAttribute(e):t.setAttribute(e,a?"":r)}}function OS(t,e,r,n,s,a,c){if(e==="innerHTML"||e==="textContent"){n&&c(n,s,a),t[e]=r??"";return}const u=t.tagName;if(e==="value"&&u!=="PROGRESS"&&!u.includes("-")){t._value=r;const h=u==="OPTION"?t.getAttribute("value"):t.value,p=r??"";h!==p&&(t.value=p),r==null&&t.removeAttribute(e);return}let f=!1;if(r===""||r==null){const h=typeof t[e];h==="boolean"?r=r1(r):r==null&&h==="string"?(r="",f=!0):h==="number"&&(r=0,f=!0)}try{t[e]=r}catch{}f&&t.removeAttribute(e)}function oo(t,e,r,n){t.addEventListener(e,r,n)}function AS(t,e,r,n){t.removeEventListener(e,r,n)}function CS(t,e,r,n,s=null){const a=t._vei||(t._vei={}),c=a[e];if(n&&c)c.value=n;else{const[u,f]=TS(e);if(n){const h=a[e]=$S(n,s);oo(t,u,h,f)}else c&&(AS(t,u,c,f),a[e]=void 0)}}const Fy=/(?:Once|Passive|Capture)$/;function TS(t){let e;if(Fy.test(t)){e={};let n;for(;n=t.match(Fy);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Oo(t.slice(2)),e]}let gh=0;const RS=Promise.resolve(),NS=()=>gh||(RS.then(()=>gh=0),gh=Date.now());function $S(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Nn(FS(n,r.value),e,5,[n])};return r.value=t,r.attached=NS(),r}function FS(t,e){if(qe(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const My=/^on[a-z]/,MS=(t,e,r,n,s=!1,a,c,u,f)=>{e==="class"?PS(t,n,s):e==="style"?SS(t,r,n):Yu(e)?Kd(e)||CS(t,e,r,n,c):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):jS(t,e,n,s))?OS(t,e,n,a,c,u,f):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),DS(t,e,n,s))};function jS(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&My.test(e)&&Je(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||My.test(e)&&fr(r)?!1:e in t}const jy=t=>{const e=t.props["onUpdate:modelValue"]||!1;return qe(e)?r=>wu(e,r):e};function LS(t){t.target.composing=!0}function Ly(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const US={created(t,{modifiers:{lazy:e,trim:r,number:n}},s){t._assign=jy(s);const a=n||s.props&&s.props.type==="number";oo(t,e?"change":"input",c=>{if(c.target.composing)return;let u=t.value;r&&(u=u.trim()),a&&(u=Kh(u)),t._assign(u)}),r&&oo(t,"change",()=>{t.value=t.value.trim()}),e||(oo(t,"compositionstart",LS),oo(t,"compositionend",Ly),oo(t,"change",Ly))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:n,number:s}},a){if(t._assign=jy(a),t.composing||document.activeElement===t&&t.type!=="range"&&(r||n&&t.value.trim()===e||(s||t.type==="number")&&Kh(t.value)===e))return;const c=e??"";t.value!==c&&(t.value=c)}},BS=yr({patchProp:MS},xS);let Uy;function kS(){return Uy||(Uy=tS(BS))}const HS=(...t)=>{const e=kS().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=zS(n);if(!s)return;const a=e._component;!Je(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.innerHTML="";const c=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),c},e};function zS(t){return fr(t)?document.querySelector(t):t}/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const ao=typeof window<"u";function qS(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const yt=Object.assign;function yh(t,e){const r={};for(const n in e){const s=e[n];r[n]=$n(s)?s.map(t):t(s)}return r}const Ia=()=>{},$n=Array.isArray,KS=/\/$/,VS=t=>t.replace(KS,"");function mh(t,e,r="/"){let n,s={},a="",c="";const u=e.indexOf("#");let f=e.indexOf("?");return u<f&&u>=0&&(f=-1),f>-1&&(n=e.slice(0,f),a=e.slice(f+1,u>-1?u:e.length),s=t(a)),u>-1&&(n=n||e.slice(0,u),c=e.slice(u,e.length)),n=JS(n??e,r),{fullPath:n+(a&&"?")+a+c,path:n,query:s,hash:c}}function GS(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function By(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function WS(t,e,r){const n=e.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&Po(e.matched[n],r.matched[s])&&Y1(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Po(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Y1(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!YS(t[r],e[r]))return!1;return!0}function YS(t,e){return $n(t)?ky(t,e):$n(e)?ky(e,t):t===e}function ky(t,e){return $n(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function JS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let a=r.length-1,c,u;for(c=0;c<n.length;c++)if(u=n[c],u!==".")if(u==="..")a>1&&a--;else break;return r.slice(0,a).join("/")+"/"+n.slice(c-(c===n.length?1:0)).join("/")}var La;(function(t){t.pop="pop",t.push="push"})(La||(La={}));var Da;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Da||(Da={}));function XS(t){if(!t)if(ao){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),VS(t)}const QS=/^[^#]+#/;function ZS(t,e){return t.replace(QS,"#")+e}function eI(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const cl=()=>({left:window.pageXOffset,top:window.pageYOffset});function tI(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;e=eI(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Hy(t,e){return(history.state?history.state.position-e:-1)+t}const id=new Map;function rI(t,e){id.set(t,e)}function nI(t){const e=id.get(t);return id.delete(t),e}let iI=()=>location.protocol+"//"+location.host;function J1(t,e){const{pathname:r,search:n,hash:s}=e,a=t.indexOf("#");if(a>-1){let u=s.includes(t.slice(a))?t.slice(a).length:1,f=s.slice(u);return f[0]!=="/"&&(f="/"+f),By(f,"")}return By(r,t)+n+s}function sI(t,e,r,n){let s=[],a=[],c=null;const u=({state:b})=>{const _=J1(t,location),x=r.value,N=e.value;let M=0;if(b){if(r.value=_,e.value=b,c&&c===x){c=null;return}M=N?b.position-N.position:0}else n(_);s.forEach(z=>{z(r.value,x,{delta:M,type:La.pop,direction:M?M>0?Da.forward:Da.back:Da.unknown})})};function f(){c=r.value}function h(b){s.push(b);const _=()=>{const x=s.indexOf(b);x>-1&&s.splice(x,1)};return a.push(_),_}function p(){const{history:b}=window;b.state&&b.replaceState(yt({},b.state,{scroll:cl()}),"")}function m(){for(const b of a)b();a=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:f,listen:h,destroy:m}}function zy(t,e,r,n=!1,s=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:s?cl():null}}function oI(t){const{history:e,location:r}=window,n={value:J1(t,r)},s={value:e.state};s.value||a(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(f,h,p){const m=t.indexOf("#"),b=m>-1?(r.host&&document.querySelector("base")?t:t.slice(m))+f:iI()+t+f;try{e[p?"replaceState":"pushState"](h,"",b),s.value=h}catch(_){console.error(_),r[p?"replace":"assign"](b)}}function c(f,h){const p=yt({},e.state,zy(s.value.back,f,s.value.forward,!0),h,{position:s.value.position});a(f,p,!0),n.value=f}function u(f,h){const p=yt({},s.value,e.state,{forward:f,scroll:cl()});a(p.current,p,!0);const m=yt({},zy(n.value,f,null),{position:p.position+1},h);a(f,m,!1),n.value=f}return{location:n,state:s,push:u,replace:c}}function aI(t){t=XS(t);const e=oI(t),r=sI(t,e.state,e.location,e.replace);function n(a,c=!0){c||r.pauseListeners(),history.go(a)}const s=yt({location:"",base:t,go:n,createHref:ZS.bind(null,t)},e,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function cI(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),aI(t)}function uI(t){return typeof t=="string"||t&&typeof t=="object"}function X1(t){return typeof t=="string"||typeof t=="symbol"}const Ni={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Q1=Symbol("");var qy;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(qy||(qy={}));function So(t,e){return yt(new Error,{type:t,[Q1]:!0},e)}function ui(t,e){return t instanceof Error&&Q1 in t&&(e==null||!!(t.type&e))}const Ky="[^/]+?",lI={sensitive:!1,strict:!1,start:!0,end:!0},fI=/[.+*?^${}()[\]/\\]/g;function hI(t,e){const r=yt({},lI,e),n=[];let s=r.start?"^":"";const a=[];for(const h of t){const p=h.length?[]:[90];r.strict&&!h.length&&(s+="/");for(let m=0;m<h.length;m++){const b=h[m];let _=40+(r.sensitive?.25:0);if(b.type===0)m||(s+="/"),s+=b.value.replace(fI,"\\$&"),_+=40;else if(b.type===1){const{value:x,repeatable:N,optional:M,regexp:z}=b;a.push({name:x,repeatable:N,optional:M});const C=z||Ky;if(C!==Ky){_+=10;try{new RegExp(`(${C})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${x}" (${C}): `+D.message)}}let L=N?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;m||(L=M&&h.length<2?`(?:/${L})`:"/"+L),M&&(L+="?"),s+=L,_+=20,M&&(_+=-8),N&&(_+=-20),C===".*"&&(_+=-50)}p.push(_)}n.push(p)}if(r.strict&&r.end){const h=n.length-1;n[h][n[h].length-1]+=.7000000000000001}r.strict||(s+="/?"),r.end?s+="$":r.strict&&(s+="(?:/|$)");const c=new RegExp(s,r.sensitive?"":"i");function u(h){const p=h.match(c),m={};if(!p)return null;for(let b=1;b<p.length;b++){const _=p[b]||"",x=a[b-1];m[x.name]=_&&x.repeatable?_.split("/"):_}return m}function f(h){let p="",m=!1;for(const b of t){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const _ of b)if(_.type===0)p+=_.value;else if(_.type===1){const{value:x,repeatable:N,optional:M}=_,z=x in h?h[x]:"";if($n(z)&&!N)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const C=$n(z)?z.join("/"):z;if(!C)if(M)b.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${x}"`);p+=C}}return p||"/"}return{re:c,score:n,keys:a,parse:u,stringify:f}}function dI(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function pI(t,e){let r=0;const n=t.score,s=e.score;for(;r<n.length&&r<s.length;){const a=dI(n[r],s[r]);if(a)return a;r++}if(Math.abs(s.length-n.length)===1){if(Vy(n))return 1;if(Vy(s))return-1}return s.length-n.length}function Vy(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const gI={type:0,value:""},yI=/[a-zA-Z0-9_]/;function mI(t){if(!t)return[[]];if(t==="/")return[[gI]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(_){throw new Error(`ERR (${r})/"${h}": ${_}`)}let r=0,n=r;const s=[];let a;function c(){a&&s.push(a),a=[]}let u=0,f,h="",p="";function m(){h&&(r===0?a.push({type:0,value:h}):r===1||r===2||r===3?(a.length>1&&(f==="*"||f==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:h,regexp:p,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):e("Invalid state to consume buffer"),h="")}function b(){h+=f}for(;u<t.length;){if(f=t[u++],f==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:f==="/"?(h&&m(),c()):f===":"?(m(),r=1):b();break;case 4:b(),r=n;break;case 1:f==="("?r=2:yI.test(f)?b():(m(),r=0,f!=="*"&&f!=="?"&&f!=="+"&&u--);break;case 2:f===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+f:r=3:p+=f;break;case 3:m(),r=0,f!=="*"&&f!=="?"&&f!=="+"&&u--,p="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${h}"`),m(),c(),s}function bI(t,e,r){const n=hI(mI(t.path),r),s=yt(n,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function vI(t,e){const r=[],n=new Map;e=Yy({strict:!1,end:!0,sensitive:!1},e);function s(p){return n.get(p)}function a(p,m,b){const _=!b,x=wI(p);x.aliasOf=b&&b.record;const N=Yy(e,p),M=[x];if("alias"in p){const L=typeof p.alias=="string"?[p.alias]:p.alias;for(const D of L)M.push(yt({},x,{components:b?b.record.components:x.components,path:D,aliasOf:b?b.record:x}))}let z,C;for(const L of M){const{path:D}=L;if(m&&D[0]!=="/"){const T=m.record.path,P=T[T.length-1]==="/"?"":"/";L.path=m.record.path+(D&&P+D)}if(z=bI(L,m,N),b?b.alias.push(z):(C=C||z,C!==z&&C.alias.push(z),_&&p.name&&!Wy(z)&&c(p.name)),x.children){const T=x.children;for(let P=0;P<T.length;P++)a(T[P],z,b&&b.children[P])}b=b||z,(z.record.components&&Object.keys(z.record.components).length||z.record.name||z.record.redirect)&&f(z)}return C?()=>{c(C)}:Ia}function c(p){if(X1(p)){const m=n.get(p);m&&(n.delete(p),r.splice(r.indexOf(m),1),m.children.forEach(c),m.alias.forEach(c))}else{const m=r.indexOf(p);m>-1&&(r.splice(m,1),p.record.name&&n.delete(p.record.name),p.children.forEach(c),p.alias.forEach(c))}}function u(){return r}function f(p){let m=0;for(;m<r.length&&pI(p,r[m])>=0&&(p.record.path!==r[m].record.path||!Z1(p,r[m]));)m++;r.splice(m,0,p),p.record.name&&!Wy(p)&&n.set(p.record.name,p)}function h(p,m){let b,_={},x,N;if("name"in p&&p.name){if(b=n.get(p.name),!b)throw So(1,{location:p});N=b.record.name,_=yt(Gy(m.params,b.keys.filter(C=>!C.optional).map(C=>C.name)),p.params&&Gy(p.params,b.keys.map(C=>C.name))),x=b.stringify(_)}else if("path"in p)x=p.path,b=r.find(C=>C.re.test(x)),b&&(_=b.parse(x),N=b.record.name);else{if(b=m.name?n.get(m.name):r.find(C=>C.re.test(m.path)),!b)throw So(1,{location:p,currentLocation:m});N=b.record.name,_=yt({},m.params,p.params),x=b.stringify(_)}const M=[];let z=b;for(;z;)M.unshift(z.record),z=z.parent;return{name:N,path:x,params:_,matched:M,meta:EI(M)}}return t.forEach(p=>a(p)),{addRoute:a,resolve:h,removeRoute:c,getRoutes:u,getRecordMatcher:s}}function Gy(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function wI(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:_I(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function _I(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="boolean"?r:r[n];return e}function Wy(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function EI(t){return t.reduce((e,r)=>yt(e,r.meta),{})}function Yy(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function Z1(t,e){return e.children.some(r=>r===t||Z1(t,r))}const ev=/#/g,xI=/&/g,PI=/\//g,SI=/=/g,II=/\?/g,tv=/\+/g,DI=/%5B/g,OI=/%5D/g,rv=/%5E/g,AI=/%60/g,nv=/%7B/g,CI=/%7C/g,iv=/%7D/g,TI=/%20/g;function hp(t){return encodeURI(""+t).replace(CI,"|").replace(DI,"[").replace(OI,"]")}function RI(t){return hp(t).replace(nv,"{").replace(iv,"}").replace(rv,"^")}function sd(t){return hp(t).replace(tv,"%2B").replace(TI,"+").replace(ev,"%23").replace(xI,"%26").replace(AI,"`").replace(nv,"{").replace(iv,"}").replace(rv,"^")}function NI(t){return sd(t).replace(SI,"%3D")}function $I(t){return hp(t).replace(ev,"%23").replace(II,"%3F")}function FI(t){return t==null?"":$I(t).replace(PI,"%2F")}function $u(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function MI(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const a=n[s].replace(tv," "),c=a.indexOf("="),u=$u(c<0?a:a.slice(0,c)),f=c<0?null:$u(a.slice(c+1));if(u in e){let h=e[u];$n(h)||(h=e[u]=[h]),h.push(f)}else e[u]=f}return e}function Jy(t){let e="";for(let r in t){const n=t[r];if(r=NI(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}($n(n)?n.map(a=>a&&sd(a)):[n&&sd(n)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+r,a!=null&&(e+="="+a))})}return e}function jI(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=$n(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const LI=Symbol(""),Xy=Symbol(""),ul=Symbol(""),dp=Symbol(""),od=Symbol("");function aa(){let t=[];function e(n){return t.push(n),()=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)}}function r(){t=[]}return{add:e,list:()=>t,reset:r}}function Mi(t,e,r,n,s){const a=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((c,u)=>{const f=m=>{m===!1?u(So(4,{from:r,to:e})):m instanceof Error?u(m):uI(m)?u(So(2,{from:e,to:m})):(a&&n.enterCallbacks[s]===a&&typeof m=="function"&&a.push(m),c())},h=t.call(n&&n.instances[s],e,r,f);let p=Promise.resolve(h);t.length<3&&(p=p.then(f)),p.catch(m=>u(m))})}function bh(t,e,r,n){const s=[];for(const a of t)for(const c in a.components){let u=a.components[c];if(!(e!=="beforeRouteEnter"&&!a.instances[c]))if(UI(u)){const h=(u.__vccOpts||u)[e];h&&s.push(Mi(h,r,n,a,c))}else{let f=u();s.push(()=>f.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${a.path}"`));const p=qS(h)?h.default:h;a.components[c]=p;const b=(p.__vccOpts||p)[e];return b&&Mi(b,r,n,a,c)()}))}}return s}function UI(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Qy(t){const e=wn(ul),r=wn(dp),n=rn(()=>e.resolve(Ke(t.to))),s=rn(()=>{const{matched:f}=n.value,{length:h}=f,p=f[h-1],m=r.matched;if(!p||!m.length)return-1;const b=m.findIndex(Po.bind(null,p));if(b>-1)return b;const _=Zy(f[h-2]);return h>1&&Zy(p)===_&&m[m.length-1].path!==_?m.findIndex(Po.bind(null,f[h-2])):b}),a=rn(()=>s.value>-1&&zI(r.params,n.value.params)),c=rn(()=>s.value>-1&&s.value===r.matched.length-1&&Y1(r.params,n.value.params));function u(f={}){return HI(f)?e[Ke(t.replace)?"replace":"push"](Ke(t.to)).catch(Ia):Promise.resolve()}return{route:n,href:rn(()=>n.value.href),isActive:a,isExactActive:c,navigate:u}}const BI=T1({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Qy,setup(t,{slots:e}){const r=To(Qy(t)),{options:n}=wn(ul),s=rn(()=>({[em(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[em(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const a=e.default&&e.default(r);return t.custom?a:W1("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},a)}}}),kI=BI;function HI(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function zI(t,e){for(const r in e){const n=e[r],s=t[r];if(typeof n=="string"){if(n!==s)return!1}else if(!$n(s)||s.length!==n.length||n.some((a,c)=>a!==s[c]))return!1}return!0}function Zy(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const em=(t,e,r)=>t??e??r,qI=T1({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=wn(od),s=rn(()=>t.route||n.value),a=wn(Xy,0),c=rn(()=>{let h=Ke(a);const{matched:p}=s.value;let m;for(;(m=p[h])&&!m.components;)h++;return h}),u=rn(()=>s.value.matched[c.value]);Eu(Xy,rn(()=>c.value+1)),Eu(LI,u),Eu(od,s);const f=Wt();return ki(()=>[f.value,u.value,t.name],([h,p,m],[b,_,x])=>{p&&(p.instances[m]=h,_&&_!==p&&h&&h===b&&(p.leaveGuards.size||(p.leaveGuards=_.leaveGuards),p.updateGuards.size||(p.updateGuards=_.updateGuards))),h&&p&&(!_||!Po(p,_)||!b)&&(p.enterCallbacks[m]||[]).forEach(N=>N(h))},{flush:"post"}),()=>{const h=s.value,p=t.name,m=u.value,b=m&&m.components[p];if(!b)return tm(r.default,{Component:b,route:h});const _=m.props[p],x=_?_===!0?h.params:typeof _=="function"?_(h):_:null,M=W1(b,yt({},x,e,{onVnodeUnmounted:z=>{z.component.isUnmounted&&(m.instances[p]=null)},ref:f}));return tm(r.default,{Component:M,route:h})||M}}});function tm(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const KI=qI;function VI(t){const e=vI(t.routes,t),r=t.parseQuery||MI,n=t.stringifyQuery||Jy,s=t.history,a=aa(),c=aa(),u=aa(),f=nP(Ni);let h=Ni;ao&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=yh.bind(null,$=>""+$),m=yh.bind(null,FI),b=yh.bind(null,$u);function _($,H){let j,y;return X1($)?(j=e.getRecordMatcher($),y=H):y=$,e.addRoute(y,j)}function x($){const H=e.getRecordMatcher($);H&&e.removeRoute(H)}function N(){return e.getRoutes().map($=>$.record)}function M($){return!!e.getRecordMatcher($)}function z($,H){if(H=yt({},H||f.value),typeof $=="string"){const q=mh(r,$,H.path),re=e.resolve({path:q.path},H),ne=s.createHref(q.fullPath);return yt(q,re,{params:b(re.params),hash:$u(q.hash),redirectedFrom:void 0,href:ne})}let j;if("path"in $)j=yt({},$,{path:mh(r,$.path,H.path).path});else{const q=yt({},$.params);for(const re in q)q[re]==null&&delete q[re];j=yt({},$,{params:m(q)}),H.params=m(H.params)}const y=e.resolve(j,H),U=$.hash||"";y.params=p(b(y.params));const I=GS(n,yt({},$,{hash:RI(U),path:y.path})),R=s.createHref(I);return yt({fullPath:I,hash:U,query:n===Jy?jI($.query):$.query||{}},y,{redirectedFrom:void 0,href:R})}function C($){return typeof $=="string"?mh(r,$,f.value.path):yt({},$)}function L($,H){if(h!==$)return So(8,{from:H,to:$})}function D($){return d($)}function T($){return D(yt(C($),{replace:!0}))}function P($){const H=$.matched[$.matched.length-1];if(H&&H.redirect){const{redirect:j}=H;let y=typeof j=="function"?j($):j;return typeof y=="string"&&(y=y.includes("?")||y.includes("#")?y=C(y):{path:y},y.params={}),yt({query:$.query,hash:$.hash,params:"path"in y?{}:$.params},y)}}function d($,H){const j=h=z($),y=f.value,U=$.state,I=$.force,R=$.replace===!0,q=P(j);if(q)return d(yt(C(q),{state:typeof q=="object"?yt({},U,q.state):U,force:I,replace:R}),H||j);const re=j;re.redirectedFrom=H;let ne;return!I&&WS(n,y,j)&&(ne=So(16,{to:re,from:y}),ue(y,y,!0,!1)),(ne?Promise.resolve(ne):B(re,y)).catch(ce=>ui(ce)?ui(ce,2)?ce:ie(ce):Q(ce,re,y)).then(ce=>{if(ce){if(ui(ce,2))return d(yt({replace:R},C(ce.to),{state:typeof ce.to=="object"?yt({},U,ce.to.state):U,force:I}),H||re)}else ce=ee(re,y,!0,R,U);return V(re,y,ce),ce})}function w($,H){const j=L($,H);return j?Promise.reject(j):Promise.resolve()}function Z($){const H=Fe.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext($):$()}function B($,H){let j;const[y,U,I]=GI($,H);j=bh(y.reverse(),"beforeRouteLeave",$,H);for(const q of y)q.leaveGuards.forEach(re=>{j.push(Mi(re,$,H))});const R=w.bind(null,$,H);return j.push(R),Te(j).then(()=>{j=[];for(const q of a.list())j.push(Mi(q,$,H));return j.push(R),Te(j)}).then(()=>{j=bh(U,"beforeRouteUpdate",$,H);for(const q of U)q.updateGuards.forEach(re=>{j.push(Mi(re,$,H))});return j.push(R),Te(j)}).then(()=>{j=[];for(const q of $.matched)if(q.beforeEnter&&!H.matched.includes(q))if($n(q.beforeEnter))for(const re of q.beforeEnter)j.push(Mi(re,$,H));else j.push(Mi(q.beforeEnter,$,H));return j.push(R),Te(j)}).then(()=>($.matched.forEach(q=>q.enterCallbacks={}),j=bh(I,"beforeRouteEnter",$,H),j.push(R),Te(j))).then(()=>{j=[];for(const q of c.list())j.push(Mi(q,$,H));return j.push(R),Te(j)}).catch(q=>ui(q,8)?q:Promise.reject(q))}function V($,H,j){for(const y of u.list())Z(()=>y($,H,j))}function ee($,H,j,y,U){const I=L($,H);if(I)return I;const R=H===Ni,q=ao?history.state:{};j&&(y||R?s.replace($.fullPath,yt({scroll:R&&q&&q.scroll},U)):s.push($.fullPath,U)),f.value=$,ue($,H,j,R),ie()}let ae;function E(){ae||(ae=s.listen(($,H,j)=>{if(!Pe.listening)return;const y=z($),U=P(y);if(U){d(yt(U,{replace:!0}),y).catch(Ia);return}h=y;const I=f.value;ao&&rI(Hy(I.fullPath,j.delta),cl()),B(y,I).catch(R=>ui(R,12)?R:ui(R,2)?(d(R.to,y).then(q=>{ui(q,20)&&!j.delta&&j.type===La.pop&&s.go(-1,!1)}).catch(Ia),Promise.reject()):(j.delta&&s.go(-j.delta,!1),Q(R,y,I))).then(R=>{R=R||ee(y,I,!1),R&&(j.delta&&!ui(R,8)?s.go(-j.delta,!1):j.type===La.pop&&ui(R,20)&&s.go(-1,!1)),V(y,I,R)}).catch(Ia)}))}let A=aa(),Y=aa(),te;function Q($,H,j){ie($);const y=Y.list();return y.length?y.forEach(U=>U($,H,j)):console.error($),Promise.reject($)}function J(){return te&&f.value!==Ni?Promise.resolve():new Promise(($,H)=>{A.add([$,H])})}function ie($){return te||(te=!$,E(),A.list().forEach(([H,j])=>$?j($):H()),A.reset()),$}function ue($,H,j,y){const{scrollBehavior:U}=t;if(!ao||!U)return Promise.resolve();const I=!j&&nI(Hy($.fullPath,0))||(y||!j)&&history.state&&history.state.scroll||null;return sp().then(()=>U($,H,I)).then(R=>R&&tI(R)).catch(R=>Q(R,$,H))}const xe=$=>s.go($);let ye;const Fe=new Set,Pe={currentRoute:f,listening:!0,addRoute:_,removeRoute:x,hasRoute:M,getRoutes:N,resolve:z,options:t,push:D,replace:T,go:xe,back:()=>xe(-1),forward:()=>xe(1),beforeEach:a.add,beforeResolve:c.add,afterEach:u.add,onError:Y.add,isReady:J,install($){const H=this;$.component("RouterLink",kI),$.component("RouterView",KI),$.config.globalProperties.$router=H,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>Ke(f)}),ao&&!ye&&f.value===Ni&&(ye=!0,D(s.location).catch(U=>{}));const j={};for(const U in Ni)j[U]=rn(()=>f.value[U]);$.provide(ul,H),$.provide(dp,To(j)),$.provide(od,f);const y=$.unmount;Fe.add($),$.unmount=function(){Fe.delete($),Fe.size<1&&(h=Ni,ae&&ae(),ae=null,f.value=Ni,ye=!1,te=!1),y()}}};function Te($){return $.reduce((H,j)=>H.then(()=>Z(j)),Promise.resolve())}return Pe}function GI(t,e){const r=[],n=[],s=[],a=Math.max(e.matched.length,t.matched.length);for(let c=0;c<a;c++){const u=e.matched[c];u&&(t.matched.find(h=>Po(h,u))?n.push(u):r.push(u));const f=t.matched[c];f&&(e.matched.find(h=>Po(h,f))||s.push(f))}return[r,n,s]}function WI(){return wn(ul)}function sv(){return wn(dp)}var YI=!1;/*!
  * pinia v2.1.3
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let ov;const ll=t=>ov=t,av=Symbol();function ad(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Oa;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Oa||(Oa={}));function JI(){const t=s1(!0),e=t.run(()=>Wt({}));let r=[],n=[];const s=el({install(a){ll(s),s._a=a,a.provide(av,s),a.config.globalProperties.$pinia=s,n.forEach(c=>r.push(c)),n=[]},use(a){return!this._a&&!YI?n.push(a):r.push(a),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const cv=()=>{};function rm(t,e,r,n=cv){t.push(e);const s=()=>{const a=t.indexOf(e);a>-1&&(t.splice(a,1),n())};return!r&&o1()&&O8(s),s}function no(t,...e){t.slice().forEach(r=>{r(...e)})}const XI=t=>t();function cd(t,e){t instanceof Map&&e instanceof Map&&e.forEach((r,n)=>t.set(n,r)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],s=t[r];ad(s)&&ad(n)&&t.hasOwnProperty(r)&&!Mt(n)&&!gi(n)?t[r]=cd(s,n):t[r]=n}return t}const QI=Symbol();function ZI(t){return!ad(t)||!t.hasOwnProperty(QI)}const{assign:$i}=Object;function eD(t){return!!(Mt(t)&&t.effect)}function tD(t,e,r,n){const{state:s,actions:a,getters:c}=e,u=r.state.value[t];let f;function h(){u||(r.state.value[t]=s?s():{});const p=oP(r.state.value[t]);return $i(p,a,Object.keys(c||{}).reduce((m,b)=>(m[b]=el(rn(()=>{ll(r);const _=r._s.get(t);return c[b].call(_,_)})),m),{}))}return f=uv(t,h,e,r,n,!0),f}function uv(t,e,r={},n,s,a){let c;const u=$i({actions:{}},r),f={deep:!0};let h,p,m=[],b=[],_;const x=n.state.value[t];!a&&!x&&(n.state.value[t]={}),Wt({});let N;function M(w){let Z;h=p=!1,typeof w=="function"?(w(n.state.value[t]),Z={type:Oa.patchFunction,storeId:t,events:_}):(cd(n.state.value[t],w),Z={type:Oa.patchObject,payload:w,storeId:t,events:_});const B=N=Symbol();sp().then(()=>{N===B&&(h=!0)}),p=!0,no(m,Z,n.state.value[t])}const z=a?function(){const{state:Z}=r,B=Z?Z():{};this.$patch(V=>{$i(V,B)})}:cv;function C(){c.stop(),m=[],b=[],n._s.delete(t)}function L(w,Z){return function(){ll(n);const B=Array.from(arguments),V=[],ee=[];function ae(Y){V.push(Y)}function E(Y){ee.push(Y)}no(b,{args:B,name:w,store:T,after:ae,onError:E});let A;try{A=Z.apply(this&&this.$id===t?this:T,B)}catch(Y){throw no(ee,Y),Y}return A instanceof Promise?A.then(Y=>(no(V,Y),Y)).catch(Y=>(no(ee,Y),Promise.reject(Y))):(no(V,A),A)}}const D={_p:n,$id:t,$onAction:rm.bind(null,b),$patch:M,$reset:z,$subscribe(w,Z={}){const B=rm(m,w,Z.detached,()=>V()),V=c.run(()=>ki(()=>n.state.value[t],ee=>{(Z.flush==="sync"?p:h)&&w({storeId:t,type:Oa.direct,events:_},ee)},$i({},f,Z)));return B},$dispose:C},T=To(D);n._s.set(t,T);const P=n._a&&n._a.runWithContext||XI,d=n._e.run(()=>(c=s1(),P(()=>c.run(e))));for(const w in d){const Z=d[w];if(Mt(Z)&&!eD(Z)||gi(Z))a||(x&&ZI(Z)&&(Mt(Z)?Z.value=x[w]:cd(Z,x[w])),n.state.value[t][w]=Z);else if(typeof Z=="function"){const B=L(w,Z);d[w]=B,u.actions[w]=Z}}return $i(T,d),$i(lt(T),d),Object.defineProperty(T,"$state",{get:()=>n.state.value[t],set:w=>{M(Z=>{$i(Z,w)})}}),n._p.forEach(w=>{$i(T,c.run(()=>w({store:T,app:n._a,pinia:n,options:u})))}),x&&a&&r.hydrate&&r.hydrate(T.$state,x),h=!0,p=!0,T}function rD(t,e,r){let n,s;const a=typeof e=="function";typeof t=="string"?(n=t,s=a?r:e):(s=t,n=t.id);function c(u,f){const h=YP();return u=u||(h?wn(av,null):null),u&&ll(u),u=ov,u._s.has(n)||(a?uv(n,e,s,u):tD(n,s,u)),u._s.get(n)}return c.$id=n,c}function fl(t){{t=lt(t);const e={};for(const r in t){const n=t[r];(Mt(n)||gi(n))&&(e[r]=uP(t,r))}return e}}const nD="/logo.svg";function Cs(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new ED(t.type);return`${t.name}(${hl(t.inputs,{includeName:e})})`}function hl(t,{includeName:e=!1}={}){return t?t.map(r=>iD(r,{includeName:e})).join(e?", ":","):""}function iD(t,{includeName:e}){return t.type.startsWith("tuple")?`(${hl(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function qi(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Qt(t){return qi(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const sD="0.3.50",oD=t=>t,dl=t=>t,aD=()=>`viem@${sD}`;var lv=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Fu,fv;class De extends Error{constructor(e,r={}){var a;super(),Fu.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:aD()});const n=r.cause instanceof De?r.cause.details:(a=r.cause)!=null&&a.message?r.cause.message:r.details,s=r.cause instanceof De&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: https://viem.sh${s}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=s,this.metaMessages=r.metaMessages,this.shortMessage=e}walk(e){return lv(this,Fu,"m",fv).call(this,this,e)}}Fu=new WeakSet,fv=function t(e,r){return r!=null&&r(e)?e:e.cause?lv(this,Fu,"m",t).call(this,e.cause,r):e};class cD extends De{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class nm extends De{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class pp extends De{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${hl(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class pl extends De{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class uD extends De{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class lD extends De{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Qt(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class fD extends De{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class hD extends De{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"})}}class dD extends De{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class pD extends De{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class im extends De{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class Mu extends De{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class gD extends De{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class yD extends De{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class mD extends De{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${hl(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class bD extends De{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Cs(e,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"})}}class vD extends De{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class wD extends De{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class _D extends De{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class ED extends De{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class xD extends De{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class hv extends De{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class dv extends De{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function Ro(t,{dir:e,size:r=32}={}){return typeof t=="string"?Hi(t,{dir:e,size:r}):PD(t,{dir:e,size:r})}function Hi(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new dv({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function PD(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new dv({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let s=0;s<r;s++){const a=e==="right";n[a?s:r-s-1]=t[a?s:t.length-s-1]}return n}class SD extends De{constructor({max:e,min:r,signed:n,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class ID extends De{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class DD extends De{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function go(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let s=0;s<r.length-1&&r[e==="left"?s:r.length-s-1].toString()==="0";s++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function Gi(t,{size:e}){if(Qt(t)>e)throw new DD({givenSize:Qt(t),maxSize:e})}function gp(t,e={}){const{signed:r}=e;e.size&&Gi(t,{size:e.size});const n=BigInt(t);if(!r)return n;const s=(t.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return n<=a?n:n-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function OD(t,e={}){let r=t;if(e.size&&(Gi(r,{size:e.size}),r=go(r)),go(r)==="0x00")return!1;if(go(r)==="0x01")return!0;throw new ID(r)}function Fr(t,e={}){return Number(gp(t,e))}function AD(t,e={}){let r=mp(t);return e.size&&(Gi(r,{size:e.size}),r=go(r,{dir:"right"})),new TextDecoder().decode(r)}const CD=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wi(t,e={}){return typeof t=="number"||typeof t=="bigint"?ot(t,e):typeof t=="string"?yp(t,e):typeof t=="boolean"?pv(t,e):ju(t,e)}function pv(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Gi(r,{size:e.size}),Ro(r,{size:e.size})):r}function ju(t,e={}){let r="";for(let s=0;s<t.length;s++)r+=CD[t[s]];const n=`0x${r}`;return typeof e.size=="number"?(Gi(n,{size:e.size}),Ro(n,{dir:"right",size:e.size})):n}function ot(t,e={}){const{signed:r,size:n}=e,s=BigInt(t);let a;n?r?a=(1n<<BigInt(n)*8n-1n)-1n:a=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&r?-a-1n:0;if(a&&s>a||s<c){const f=typeof t=="bigint"?"n":"";throw new SD({max:a?`${a}${f}`:void 0,min:`${c}${f}`,signed:r,size:n,value:`${t}${f}`})}const u=`0x${(r&&s<0?(1n<<BigInt(n*8))+BigInt(s):s).toString(16)}`;return n?Ro(u,{size:n}):u}const TD=new TextEncoder;function yp(t,e={}){const r=TD.encode(t);return ju(r,e)}const RD=new TextEncoder;function Io(t,e={}){return typeof t=="number"||typeof t=="bigint"?$D(t,e):typeof t=="boolean"?ND(t,e):qi(t)?mp(t,e):Os(t,e)}function ND(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Gi(r,{size:e.size}),Ro(r,{size:e.size})):r}function mp(t,e={}){let r=t;e.size&&(Gi(r,{size:e.size}),r=Ro(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const s=new Uint8Array(n.length/2);for(let a=0;a<s.length;a++){const c=a*2,u=n.slice(c,c+2),f=Number.parseInt(u,16);if(Number.isNaN(f)||f<0)throw new De(`Invalid byte sequence ("${u}" in "${n}").`);s[a]=f}return s}function $D(t,e){const r=ot(t,e);return mp(r)}function Os(t,e={}){const r=RD.encode(t);return typeof e.size=="number"?(Gi(r,{size:e.size}),Ro(r,{dir:"right",size:e.size})):r}const FD=/((function|event)\s)?(.*)(\((.*)\))/;function gv(t){const e=t.match(FD),r=(e==null?void 0:e[2])||void 0,n=e==null?void 0:e[3],s=(e==null?void 0:e[5])||void 0;return{type:r,name:n,params:s}}function MD(t){return gv(t).name}function jD(t){const e=gv(t).params,r=e==null?void 0:e.split(",").map(n=>n.trim().split(" "));return r==null?void 0:r.map(n=>({type:n[0],name:n[1]==="indexed"?n[2]:n[1],...n[1]==="indexed"?{indexed:!0}:{}}))}function ud(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function LD(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function yv(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function UD(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ud(t.outputLen),ud(t.blockLen)}function BD(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function kD(t,e){yv(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const io={number:ud,bool:LD,bytes:yv,hash:UD,exists:BD,output:kD},du=BigInt(2**32-1),ld=BigInt(32);function mv(t,e=!1){return e?{h:Number(t&du),l:Number(t>>ld&du)}:{h:Number(t>>ld&du)|0,l:Number(t&du)|0}}function HD(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:a,l:c}=mv(t[s],e);[r[s],n[s]]=[a,c]}return[r,n]}const zD=(t,e)=>BigInt(t>>>0)<<ld|BigInt(e>>>0),qD=(t,e,r)=>t>>>r,KD=(t,e,r)=>t<<32-r|e>>>r,VD=(t,e,r)=>t>>>r|e<<32-r,GD=(t,e,r)=>t<<32-r|e>>>r,WD=(t,e,r)=>t<<64-r|e>>>r-32,YD=(t,e,r)=>t>>>r-32|e<<64-r,JD=(t,e)=>e,XD=(t,e)=>t,QD=(t,e,r)=>t<<r|e>>>32-r,ZD=(t,e,r)=>e<<r|t>>>32-r,eO=(t,e,r)=>e<<r-32|t>>>64-r,tO=(t,e,r)=>t<<r-32|e>>>64-r;function rO(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const nO=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),iO=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,sO=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),oO=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,aO=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),cO=(t,e,r,n,s,a)=>e+r+n+s+a+(t/2**32|0)|0,Ua={fromBig:mv,split:HD,toBig:zD,shrSH:qD,shrSL:KD,rotrSH:VD,rotrSL:GD,rotrBH:WD,rotrBL:YD,rotr32H:JD,rotr32L:XD,rotlSH:QD,rotlSL:ZD,rotlBH:eO,rotlBL:tO,add:rO,add3L:nO,add3H:iO,add4L:sO,add4H:oO,add5H:cO,add5L:aO};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uO=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),lO=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!lO)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fO(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function bp(t){if(typeof t=="string"&&(t=fO(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class hO{clone(){return this._cloneInto()}}function dO(t){const e=n=>t().update(bp(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function pO(t){const e=(n,s)=>t(s).update(bp(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const[bv,vv,wv]=[[],[],[]],gO=BigInt(0),ca=BigInt(1),yO=BigInt(2),mO=BigInt(7),bO=BigInt(256),vO=BigInt(113);for(let t=0,e=ca,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],bv.push(2*(5*n+r)),vv.push((t+1)*(t+2)/2%64);let s=gO;for(let a=0;a<7;a++)e=(e<<ca^(e>>mO)*vO)%bO,e&yO&&(s^=ca<<(ca<<BigInt(a))-ca);wv.push(s)}const[wO,_O]=Ua.split(wv,!0),sm=(t,e,r)=>r>32?Ua.rotlBH(t,e,r):Ua.rotlSH(t,e,r),om=(t,e,r)=>r>32?Ua.rotlBL(t,e,r):Ua.rotlSL(t,e,r);function EO(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let c=0;c<10;c++)r[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,f=(c+2)%10,h=r[f],p=r[f+1],m=sm(h,p,1)^r[u],b=om(h,p,1)^r[u+1];for(let _=0;_<50;_+=10)t[c+_]^=m,t[c+_+1]^=b}let s=t[2],a=t[3];for(let c=0;c<24;c++){const u=vv[c],f=sm(s,a,u),h=om(s,a,u),p=bv[c];s=t[p],a=t[p+1],t[p]=f,t[p+1]=h}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)r[u]=t[c+u];for(let u=0;u<10;u++)t[c+u]^=~r[(u+2)%10]&r[(u+4)%10]}t[0]^=wO[n],t[1]^=_O[n]}r.fill(0)}class gl extends hO{constructor(e,r,n,s=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,io.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=uO(this.state)}keccak(){EO(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){io.exists(this);const{blockLen:r,state:n}=this;e=bp(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(r-this.pos,s-a);for(let u=0;u<c;u++)n[this.pos++]^=e[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){io.exists(this,!1),io.bytes(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,a=e.length;s<a;){this.posOut>=n&&this.keccak();const c=Math.min(n-this.posOut,a-s);e.set(r.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return io.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(io.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:a,enableXOF:c}=this;return e||(e=new gl(r,n,s,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}}const Wi=(t,e,r)=>dO(()=>new gl(e,t,r));Wi(6,144,224/8);Wi(6,136,256/8);Wi(6,104,384/8);Wi(6,72,512/8);Wi(1,144,224/8);const xO=Wi(1,136,256/8);Wi(1,104,384/8);Wi(1,72,512/8);const _v=(t,e,r)=>pO((n={})=>new gl(e,t,n.dkLen===void 0?r:n.dkLen,!0));_v(31,168,128/8);_v(31,136,256/8);function sn(t,e){const r=e||"hex",n=xO(qi(t,{strict:!1})?Io(t):t);return r==="bytes"?n:wi(n)}const PO=t=>sn(Io(t));function Ev(t){const e=MD(t),r=jD(t)||[];return PO(`${e}(${r.map(({type:n})=>n).join(",")})`)}const xv=t=>Ev(t);class Ba extends De{constructor({address:e}){super(`Address "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const SO=/^0x[a-fA-F0-9]{40}$/;function Do(t){return SO.test(t)}function mi(t){return typeof t[0]=="string"?vp(t):IO(t)}function IO(t){let e=0;for(const s of t)e+=s.length;const r=new Uint8Array(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return r}function vp(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function Xt(t,e,r,{strict:n}={}){return qi(t,{strict:!1})?OO(t,e,r,{strict:n}):DO(t,e,r,{strict:n})}function Pv(t,e){if(typeof e=="number"&&e>0&&e>Qt(t)-1)throw new hv({offset:e,position:"start",size:Qt(t)})}function Sv(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Qt(t)!==r-e)throw new hv({offset:r,position:"end",size:Qt(t)})}function DO(t,e,r,{strict:n}={}){Pv(t,e);const s=t.slice(e,r);return n&&Sv(s,e,r),s}function OO(t,e,r,{strict:n}={}){Pv(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&Sv(s,e,r),s}function Va(t,e){if(t.length!==e.length)throw new fD({expectedLength:t.length,givenLength:e.length});const r=AO({params:t,values:e}),n=_p(r);return n.length===0?"0x":n}function AO({params:t,values:e}){const r=[];for(let n=0;n<t.length;n++)r.push(wp({param:t[n],value:e[n]}));return r}function wp({param:t,value:e}){const r=yl(t.type);if(r){const[n,s]=r;return TO(e,{length:n,param:{...t,type:s}})}if(t.type==="tuple")return MO(e,{param:t});if(t.type==="address")return CO(e);if(t.type==="bool")return NO(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const n=t.type.startsWith("int");return $O(e,{signed:n})}if(t.type.startsWith("bytes"))return RO(e,{param:t});if(t.type==="string")return FO(e);throw new vD(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function _p(t){let e=0;for(let a=0;a<t.length;a++){const{dynamic:c,encoded:u}=t[a];c?e+=32:e+=Qt(u)}const r=[],n=[];let s=0;for(let a=0;a<t.length;a++){const{dynamic:c,encoded:u}=t[a];c?(r.push(ot(e+s,{size:32})),n.push(u),s+=Qt(u)):r.push(u)}return mi([...r,...n])}function CO(t){if(!Do(t))throw new Ba({address:t});return{dynamic:!1,encoded:Hi(t.toLowerCase())}}function TO(t,{length:e,param:r}){const n=e===null;if(!Array.isArray(t))throw new _D(t);if(!n&&t.length!==e)throw new uD({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let s=!1;const a=[];for(let c=0;c<t.length;c++){const u=wp({param:r,value:t[c]});u.dynamic&&(s=!0),a.push(u)}if(n||s){const c=_p(a);if(n){const u=ot(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?mi([u,c]):u}}if(s)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:mi(a.map(({encoded:c})=>c))}}function RO(t,{param:e}){const[r,n]=e.type.split("bytes");if(!n){const s=Math.ceil(Qt(t)/32),a=[];for(let c=0;c<s;c++)a.push(Hi(Xt(t,c*32,(c+1)*32),{dir:"right"}));return{dynamic:!0,encoded:mi([Hi(ot(Qt(t),{size:32})),...a])}}if(Qt(t)!==parseInt(n))throw new lD({expectedSize:parseInt(n),value:t});return{dynamic:!1,encoded:Hi(t,{dir:"right"})}}function NO(t){return{dynamic:!1,encoded:Hi(pv(t))}}function $O(t,{signed:e}){return{dynamic:!1,encoded:ot(t,{size:32,signed:e})}}function FO(t){const e=yp(t),r=Math.ceil(Qt(e)/32),n=[];for(let s=0;s<r;s++)n.push(Hi(Xt(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:mi([Hi(ot(Qt(e),{size:32})),...n])}}function MO(t,{param:e}){let r=!1;const n=[];for(let s=0;s<e.components.length;s++){const a=e.components[s],c=Array.isArray(t)?s:a.name,u=wp({param:a,value:t[c]});n.push(u),u.dynamic&&(r=!0)}return{dynamic:r,encoded:r?_p(n):mi(n.map(({encoded:s})=>s))}}function yl(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Ga({abi:t,args:e=[],name:r}){const n=t.filter(s=>"name"in s&&s.name===r);if(n.length!==0){if(n.length===1)return n[0];for(const s of n){if(!("inputs"in s))continue;if(!e||e.length===0){if(!s.inputs||s.inputs.length===0)return s;continue}if(!s.inputs||s.inputs.length===0)continue;if(e.every((c,u)=>{const f="inputs"in s&&s.inputs[u];return f?fd(c,f):!1}))return s}return n[0]}}function fd(t,e){const r=typeof t,n=e.type;switch(n){case"address":return Do(t);case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((s,a)=>fd(Object.values(t)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(s=>fd(s,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ep({abi:t,eventName:e,args:r}){var u;let n=t[0];if(e&&(n=Ga({abi:t,args:r,name:e}),!n))throw new im(e,{docsPath:"/docs/contract/encodeEventTopics"});if(n.type!=="event")throw new im(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const s=Cs(n),a=xv(s);let c=[];if(r&&"inputs"in n){const f=(u=n.inputs)==null?void 0:u.filter(p=>"indexed"in p&&p.indexed),h=Array.isArray(r)?r:(f==null?void 0:f.map(p=>r[p.name]))??[];c=(f==null?void 0:f.map((p,m)=>Array.isArray(h[m])?h[m].map((b,_)=>am({param:p,value:h[m][_]})):h[m]?am({param:p,value:h[m]}):null))??[]}return[a,...c]}function am({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return sn(Io(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new xD(t.type);return Va([t],[e])}function ml(t,{method:e}){var n,s;const r={};return t.transport.type==="fallback"&&((s=(n=t.transport).onResponse)==null||s.call(n,({method:a,response:c,status:u,transport:f})=>{u==="success"&&e===a&&(r[c]=f.request)})),a=>r[a]||t.request}async function Iv(t,{address:e,abi:r,args:n,eventName:s,fromBlock:a,toBlock:c}){const u=ml(t,{method:"eth_newFilter"}),f=s?Ep({abi:r,args:n,eventName:s}):void 0,h=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof a=="bigint"?ot(a):a,toBlock:typeof c=="bigint"?ot(c):c,topics:f}]});return{abi:r,args:n,eventName:s,id:h,request:u(h),type:"event"}}function Fn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const Dv=t=>Xt(Ev(t),0,4);function Yi({abi:t,args:e,functionName:r}){let n=t[0];if(r&&(n=Ga({abi:t,args:e,name:r}),!n))throw new Mu(r,{docsPath:"/docs/contract/encodeFunctionData"});if(n.type!=="function")throw new Mu(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const s=Cs(n),a=Dv(s),c="inputs"in n&&n.inputs?Va(n.inputs,e??[]):void 0;return vp([a,c??"0x"])}const Ov={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},jO={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},LO={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function xp(t,e){const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=sn(Os(r),"bytes"),s=(e?r.substring(`${e}0x`.length):r).split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(n[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());return`0x${s.join("")}`}function UO(t,e){if(!Do(t))throw new Ba({address:t});return xp(t,e)}function bl(t,e){if(e==="0x"&&t.length>0)throw new pl;if(Qt(e)&&Qt(e)<32)throw new pp({data:e,params:t,size:Qt(e)});return BO({data:e,params:t})}function BO({data:t,params:e}){const r=[];let n=0;for(let s=0;s<e.length;s++){if(n>=Qt(t))throw new pp({data:t,params:e,size:Qt(t)});const a=e[s],{consumed:c,value:u}=yo({data:t,param:a,position:n});r.push(u),n+=c}return r}function yo({data:t,param:e,position:r}){const n=yl(e.type);if(n){const[a,c]=n;return HO(t,{length:a,param:{...e,type:c},position:r})}if(e.type==="tuple")return GO(t,{param:e,position:r});if(e.type==="string")return VO(t,{position:r});if(e.type.startsWith("bytes"))return qO(t,{param:e,position:r});const s=Xt(t,r,r+32,{strict:!0});if(e.type.startsWith("uint")||e.type.startsWith("int"))return KO(s,{param:e});if(e.type==="address")return kO(s);if(e.type==="bool")return zO(s);throw new wD(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function kO(t){return{consumed:32,value:xp(Xt(t,-20))}}function HO(t,{param:e,length:r,position:n}){if(!r){const c=Fr(Xt(t,n,n+32,{strict:!0})),u=Fr(Xt(t,c,c+32,{strict:!0}));let f=0;const h=[];for(let p=0;p<u;++p){const m=yo({data:Xt(t,c+32),param:e,position:f});f+=m.consumed,h.push(m.value)}return{value:h,consumed:32}}if(Lu(e)){const c=yl(e.type),u=!(c!=null&&c[0]);let f=0;const h=[];for(let p=0;p<r;++p){const m=Fr(Xt(t,n,n+32,{strict:!0})),b=yo({data:Xt(t,m),param:e,position:u?f:p*32});f+=b.consumed,h.push(b.value)}return{value:h,consumed:32}}let s=0;const a=[];for(let c=0;c<r;++c){const u=yo({data:t,param:e,position:n+s});s+=u.consumed,a.push(u.value)}return{value:a,consumed:s}}function zO(t){return{consumed:32,value:OD(t)}}function qO(t,{param:e,position:r}){const[n,s]=e.type.split("bytes");if(!s){const c=Fr(Xt(t,r,r+32,{strict:!0})),u=Fr(Xt(t,c,c+32,{strict:!0}));return u===0?{consumed:32,value:"0x"}:{consumed:32,value:Xt(t,c+32,c+32+u,{strict:!0})}}return{consumed:32,value:Xt(t,r,r+parseInt(s),{strict:!0})}}function KO(t,{param:e}){const r=e.type.startsWith("int");return{consumed:32,value:parseInt(e.type.split("int")[1]||"256")>48?gp(t,{signed:r}):Fr(t,{signed:r})}}function VO(t,{position:e}){const r=Fr(Xt(t,e,e+32,{strict:!0})),n=Fr(Xt(t,r,r+32,{strict:!0}));return n===0?{consumed:32,value:""}:{consumed:32,value:AD(go(Xt(t,r+32,r+32+n,{strict:!0})))}}function GO(t,{param:e,position:r}){const n=e.components.length===0||e.components.some(({name:c})=>!c),s=n?[]:{};let a=0;if(Lu(e)){const c=Fr(Xt(t,r,r+32,{strict:!0}));for(let u=0;u<e.components.length;++u){const f=e.components[u],h=yo({data:Xt(t,c),param:f,position:a});a+=h.consumed,s[n?u:f==null?void 0:f.name]=h.value}return{consumed:32,value:s}}for(let c=0;c<e.components.length;++c){const u=e.components[c],f=yo({data:t,param:u,position:r+a});a+=f.consumed,s[n?c:u==null?void 0:u.name]=f.value}return{consumed:a,value:s}}function Lu(t){var n;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(n=t.components)==null?void 0:n.some(Lu);const r=yl(t.type);return!!(r&&Lu({...t,type:r[1]}))}function WO({abi:t,data:e}){const r=Xt(e,0,4);if(r==="0x")throw new pl;const s=[...t||[],jO,LO].find(a=>a.type==="error"&&r===Dv(Cs(a)));if(!s)throw new hD(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?bl(s.inputs,Xt(e,4)):void 0,errorName:s.name}}const Gr=(t,e,r)=>JSON.stringify(t,(n,s)=>{const a=typeof s=="bigint"?s.toString():s;return typeof e=="function"?e(n,a):a},r);function Av({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((s,a)=>`${n&&s.name?`${s.name}: `:""}${typeof e[a]=="object"?Gr(e[a]):e[a]}`).join(", ")})`}const YO={gwei:9,wei:18},JO={ether:-9,wei:9};function Cv(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[s,a]=[r.slice(0,r.length-e),r.slice(r.length-e)];return a=a.replace(/(0+)$/,""),`${n?"-":""}${s||"0"}${a?`.${a}`:""}`}function Pp(t,e="wei"){return Cv(t,YO[e])}function on(t,e="wei"){return Cv(t,JO[e])}function vl(t){const e=Object.entries(t).map(([n,s])=>s===void 0||s===!1?null:[n,s]).filter(Boolean),r=e.reduce((n,[s])=>Math.max(n,s.length),0);return e.map(([n,s])=>`  ${`${n}:`.padEnd(r+1)}  ${s}`).join(`
`)}class XO extends De{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class QO extends De{constructor(e,{account:r,docsPath:n,chain:s,data:a,gas:c,gasPrice:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:m,value:b}){const _=vl({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:r==null?void 0:r.address,to:m,value:typeof b<"u"&&`${Pp(b)} ${(s==null?void 0:s.nativeCurrency.symbol)||"ETH"}`,data:a,gas:c,gasPrice:typeof u<"u"&&`${on(u)} gwei`,maxFeePerGas:typeof f<"u"&&`${on(f)} gwei`,maxPriorityFeePerGas:typeof h<"u"&&`${on(h)} gwei`,nonce:p});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",_].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}class Tv extends De{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:s,index:a}){let c="Transaction";n&&a!==void 0&&(c=`Transaction at block time "${n}" at index "${a}"`),e&&a!==void 0&&(c=`Transaction at block hash "${e}" at index "${a}"`),r&&a!==void 0&&(c=`Transaction at block number "${r}" at index "${a}"`),s&&(c=`Transaction with hash "${s}"`),super(`${c} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class Rv extends De{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class ZO extends De{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class Nv extends De{constructor(e,{account:r,docsPath:n,chain:s,data:a,gas:c,gasPrice:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:m,value:b}){const _=r?Fn(r):void 0,x=vl({from:_==null?void 0:_.address,to:m,value:typeof b<"u"&&`${Pp(b)} ${(s==null?void 0:s.nativeCurrency.symbol)||"ETH"}`,data:a,gas:c,gasPrice:typeof u<"u"&&`${on(u)} gwei`,maxFeePerGas:typeof f<"u"&&`${on(f)} gwei`,maxPriorityFeePerGas:typeof h<"u"&&`${on(h)} gwei`,nonce:p});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",x].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class $v extends De{constructor(e,{abi:r,args:n,contractAddress:s,docsPath:a,functionName:c,sender:u}){const f=Ga({abi:r,args:n,name:c}),h=f?Av({abiItem:f,args:n,includeFunctionName:!1,includeName:!1}):void 0,p=f?Cs(f,{includeName:!0}):void 0,m=vl({address:s&&oD(s),function:p,args:h&&h!=="()"&&`${[...Array((c==null?void 0:c.length)??0).keys()].map(()=>" ").join("")}${h}`,sender:u});super(e.shortMessage||`An unknown error occurred while executing the contract function "${c}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",m].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=s,this.functionName=c,this.sender=u}}class eA extends De{constructor({abi:e,data:r,functionName:n,message:s}){let a,c,u;if(r&&r!=="0x"){a=WO({abi:e,data:r});const{abiItem:f,errorName:h,args:p}=a;if(h==="Error")u=p[0];else if(h==="Panic"){const[m]=p;u=Ov[m]}else{const m=f?Cs(f,{includeName:!0}):void 0,b=f&&p?Av({abiItem:f,args:p,includeFunctionName:!1,includeName:!1}):void 0;c=[m?`Error: ${m}`:"",b&&b!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}else s&&(u=s);super(u&&u!=="execution reverted"?[`The contract function "${n}" reverted with the following reason:`,u].join(`
`):`The contract function "${n}" reverted.`,{metaMessages:c}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.reason=u,this.data=a}}class tA extends De{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class Sp extends De{constructor({data:e,message:r}){super(r||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}const rA=3;function ka(t,{abi:e,address:r,args:n,docsPath:s,functionName:a,sender:c}){const{code:u,data:f,message:h,shortMessage:p}=t instanceof Sp?t:t instanceof De?t.walk(b=>"data"in b):{};let m=t;return t instanceof pl?m=new tA({functionName:a}):u===rA&&(f||h||p)&&(m=new eA({abi:e,data:typeof f=="object"?f.data:f,functionName:a,message:p??h})),new $v(m,{abi:e,args:n,contractAddress:r,docsPath:s,functionName:a,sender:c})}class Wa extends De{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class nA extends De{constructor(e,{account:r,docsPath:n,chain:s,data:a,gas:c,gasPrice:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:m,value:b}){const _=vl({from:r==null?void 0:r.address,to:m,value:typeof b<"u"&&`${Pp(b)} ${(s==null?void 0:s.nativeCurrency.symbol)||"ETH"}`,data:a,gas:c,gasPrice:typeof u<"u"&&`${on(u)} gwei`,maxFeePerGas:typeof f<"u"&&`${on(f)} gwei`,maxPriorityFeePerGas:typeof h<"u"&&`${on(h)} gwei`,nonce:p});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",_].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}class mo extends De{constructor({cause:e,message:r}={}){var s;const n=(s=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(mo,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(mo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Uu extends De{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${on(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(Uu,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class hd extends De{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${on(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(hd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class dd extends De{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(dd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class pd extends De{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(pd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported/});class gd extends De{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(gd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class yd extends De{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(yd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class md extends De{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(md,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class bd extends De{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(bd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class vd extends De{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(vd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Bu extends De{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${on(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${on(n)} gwei`:""}).`].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(Bu,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class iA extends De{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.message}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}class Aa extends De{constructor({body:e,details:r,headers:n,status:s,url:a}){super("HTTP request failed.",{details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${dl(a)}`,e&&`Request body: ${Gr(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=n,this.status=s,this.url=a}}class sA extends De{constructor({body:e,details:r,url:n}){super("WebSocket request failed.",{details:r,metaMessages:[`URL: ${dl(n)}`,`Request body: ${Gr(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class Ha extends De{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${dl(n)}`,`Request body: ${Gr(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code}}class wd extends De{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${dl(r)}`,`Request body: ${Gr(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const oA=-1;class Wr extends De{constructor(e,{code:r,docsPath:n,metaMessages:s,shortMessage:a}){super(a,{cause:e,docsPath:n,metaMessages:s||(e==null?void 0:e.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof Ha?e.code:r??oA}}class No extends Wr{constructor(e,r){super(e,r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class aA extends Wr{constructor(e){super(e,{code:-32700,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}class cA extends Wr{constructor(e){super(e,{code:-32600,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}class uA extends Wr{constructor(e){super(e,{code:-32601,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}class lA extends Wr{constructor(e){super(e,{code:-32602,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}class fA extends Wr{constructor(e){super(e,{code:-32603,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}class Fv extends Wr{constructor(e){super(e,{code:-32e3,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}class hA extends Wr{constructor(e){super(e,{code:-32001,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}class dA extends Wr{constructor(e){super(e,{code:-32002,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}class Mv extends Wr{constructor(e){super(e,{code:-32003,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}class cm extends Wr{constructor(e){super(e,{code:-32004,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}class pA extends Wr{constructor(e){super(e,{code:-32005,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}class gA extends Wr{constructor(e){super(e,{code:-32006,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}class yA extends No{constructor(e){super(e,{code:4001,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}class mA extends No{constructor(e){super(e,{code:4100,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}class bA extends No{constructor(e){super(e,{code:4200,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}class vA extends No{constructor(e){super(e,{code:4900,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}class wA extends No{constructor(e){super(e,{code:4901,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}class _A extends No{constructor(e){super(e,{code:4902,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}class EA extends Wr{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}function Ip(t){return t instanceof Mv||t instanceof Fv||t instanceof Ha&&t.code===mo.code}function Dp(t,e){var n;const r=t.details.toLowerCase();return Uu.nodeMessage.test(r)?new Uu({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):hd.nodeMessage.test(r)?new hd({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):dd.nodeMessage.test(r)?new dd({cause:t,nonce:e==null?void 0:e.nonce}):pd.nodeMessage.test(r)?new pd({cause:t,nonce:e==null?void 0:e.nonce}):gd.nodeMessage.test(r)?new gd({cause:t,nonce:e==null?void 0:e.nonce}):yd.nodeMessage.test(r)?new yd({cause:t}):md.nodeMessage.test(r)?new md({cause:t,gas:e==null?void 0:e.gas}):bd.nodeMessage.test(r)?new bd({cause:t,gas:e==null?void 0:e.gas}):vd.nodeMessage.test(r)?new vd({cause:t}):Bu.nodeMessage.test(r)?new Bu({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):r.match(mo.nodeMessage)||"code"in t.cause&&((n=t.cause)==null?void 0:n.code)===mo.code?new mo({cause:t,message:t.cause.details||t.details}):new iA({cause:t.cause.cause})}function xA(t,{docsPath:e,...r}){let n=t;return Ip(t)&&(n=Dp(t,r)),new nA(n,{docsPath:e,...r})}function Op(t,{formatter:e}){return e?Object.keys(e({})).reduce((n,s)=>(t!=null&&t.hasOwnProperty(s)&&(n[s]=t[s]),n),{}):{}}function $o(t,{formatter:e}){return e(t)}function Ap(t){return{...t,gas:typeof t.gas<"u"?ot(t.gas):void 0,gasPrice:typeof t.gasPrice<"u"?ot(t.gasPrice):void 0,maxFeePerGas:typeof t.maxFeePerGas<"u"?ot(t.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof t.maxPriorityFeePerGas<"u"?ot(t.maxPriorityFeePerGas):void 0,nonce:typeof t.nonce<"u"?ot(t.nonce):void 0,value:typeof t.value<"u"?ot(t.value):void 0}}function wl(t){const{account:e,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:s,to:a}=t,c=e?Fn(e):void 0;if(c&&!Do(c.address))throw new Ba({address:c.address});if(a&&!Do(a))throw new Ba({address:a});if(typeof r<"u"&&(typeof n<"u"||typeof s<"u"))throw new XO;if(n&&n>2n**256n-1n)throw new Uu({maxFeePerGas:n});if(s&&n&&s>n)throw new Bu({maxFeePerGas:n,maxPriorityFeePerGas:s})}class PA extends De{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const jv={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function Lv(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Fr(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Fr(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?jv[t.type]:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip2930"&&(delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e}function SA(t){var r;const e=(r=t.transactions)==null?void 0:r.map(n=>typeof n=="string"?n:Lv(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,difficulty:t.difficulty?BigInt(t.difficulty):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function za(t,{blockHash:e,blockNumber:r,blockTag:n="latest",includeTransactions:s=!1}={}){var u,f;const a=r!==void 0?ot(r):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,s]}):c=await t.request({method:"eth_getBlockByNumber",params:[a||n,s]}),!c)throw new PA({blockHash:e,blockNumber:r});return $o(c,{formatter:((f=(u=t.chain)==null?void 0:u.formatters)==null?void 0:f.block)||SA})}async function Uv(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Bv(t,{address:e,blockTag:r="latest",blockNumber:n}){const s=await t.request({method:"eth_getTransactionCount",params:[e,n?ot(n):r]});return Fr(s)}const vh=1500000000n;async function kv(t,e){const{account:r,gas:n,gasPrice:s,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:u}=e;if(!r)throw new Wa;const f=Fn(r),h=await za(t,{blockTag:"latest"}),p={...e,from:f.address};if(typeof u>"u"&&(p.nonce=await Bv(t,{address:f.address,blockTag:"pending"})),h.baseFeePerGas){if(typeof s<"u")throw new De("Chain does not support legacy `gasPrice`.");if(typeof a>"u")p.maxPriorityFeePerGas=c??vh,p.maxFeePerGas=h.baseFeePerGas*120n/100n+p.maxPriorityFeePerGas;else{if(typeof c>"u"&&a<vh)throw new De("`maxFeePerGas` cannot be less than the default `maxPriorityFeePerGas` (1.5 gwei).");p.maxFeePerGas=a,p.maxPriorityFeePerGas=c??vh}}else{if(typeof a<"u"||typeof c<"u")throw new De("Chain does not support EIP-1559 fees.");typeof s>"u"&&(p.gasPrice=await Uv(t)*120n/100n)}return typeof n>"u"&&(p.gas=await Cp(t,{...p,account:{address:f.address,type:"json-rpc"}})),wl(p),p}async function Cp(t,e){var s,a;const r=e.account??t.account;if(!r)throw new Wa({docsPath:"/docs/actions/public/estimateGas"});const n=Fn(r);try{const{accessList:c,blockNumber:u,blockTag:f,data:h,gas:p,gasPrice:m,maxFeePerGas:b,maxPriorityFeePerGas:_,nonce:x,to:N,value:M,...z}=n.type==="local"?await kv(t,e):e,L=(u?ot(u):void 0)||f;wl(e);const D=(a=(s=t.chain)==null?void 0:s.formatters)==null?void 0:a.transactionRequest,T=$o({from:n.address,accessList:c,data:h,gas:p,gasPrice:m,maxFeePerGas:b,maxPriorityFeePerGas:_,nonce:x,to:N,value:M,...Op(z,{formatter:D})},{formatter:D||Ap}),P=await t.request({method:"eth_estimateGas",params:L?[T,L]:[T]});return BigInt(P)}catch(c){throw xA(c,{...e,account:n,chain:t.chain})}}async function IA(t,{abi:e,address:r,args:n,functionName:s,...a}){const c=Yi({abi:e,args:n,functionName:s});try{return await Cp(t,{data:c,to:r,...a})}catch(u){const f=a.account?Fn(a.account):void 0;throw ka(u,{abi:e,address:r,args:n,docsPath:"/docs/contract/simulateContract",functionName:s,sender:f==null?void 0:f.address})}}const wh="/docs/contract/decodeFunctionResult";function Fo({abi:t,args:e,functionName:r,data:n}){let s=t[0];if(r&&(s=Ga({abi:t,args:e,name:r}),!s))throw new Mu(r,{docsPath:wh});if(s.type!=="function")throw new Mu(void 0,{docsPath:wh});if(!s.outputs)throw new gD(s.name,{docsPath:wh});const a=bl(s.outputs,n);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const DA="modulepreload",OA=function(t){return"/"+t},um={},Hv=function(e,r,n){if(!r||r.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=OA(a),a in um)return;um[a]=!0;const c=a.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!n)for(let p=s.length-1;p>=0;p--){const m=s[p];if(m.href===a&&(!c||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":DA,c||(h.as="script",h.crossOrigin=""),h.href=a,document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e())},_d=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],zv=[{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],lm=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],fm=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]}],AA=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],CA="0x82ad56cb";class Ed extends De{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class TA extends De{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id}  ${e.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class RA extends De{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class qv extends De{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}function NA({chain:t,currentChainId:e}){if(!t)throw new RA;if(e!==t.id)throw new TA({chain:t,currentChainId:e})}function Mo({blockNumber:t,chain:e,contract:r}){var s;const n=(s=e==null?void 0:e.contracts)==null?void 0:s[r];if(!n)throw new Ed({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new Ed({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function $A(t,{docsPath:e,...r}){let n=t;return Ip(t)&&(n=Dp(t,r)),new Nv(n,{docsPath:e,...r})}const _h=new Map;function FA({fn:t,id:e,shouldSplitBatch:r,wait:n=0}){const s=async()=>{const h=u();a();const p=h.map(({args:m})=>m);p.length!==0&&t(p).then(m=>{h.forEach(({pendingPromise:b},_)=>{var x;return(x=b.resolve)==null?void 0:x.call(b,[m[_],m])})}).catch(m=>{h.forEach(({pendingPromise:b})=>{var _;return(_=b.reject)==null?void 0:_.call(b,m)})})},a=()=>_h.delete(e),c=()=>u().map(({args:h})=>h),u=()=>_h.get(e)||[],f=h=>_h.set(e,[...u(),h]);return{flush:a,async schedule(h){const p={},m=new Promise((x,N)=>{p.resolve=x,p.reject=N});return(r==null?void 0:r([...c(),h]))&&s(),u().length>0?(f({args:h,pendingPromise:p}),m):(f({args:h,pendingPromise:p}),setTimeout(s,n),m)}}}async function _l(t,e){var z,C,L;const{account:r,batch:n=!!((z=t.batch)!=null&&z.multicall),blockNumber:s,blockTag:a="latest",accessList:c,data:u,gas:f,gasPrice:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:b,to:_,value:x,...N}=e,M=r?Fn(r):void 0;try{wl(e);const T=(s?ot(s):void 0)||a,P=(L=(C=t.chain)==null?void 0:C.formatters)==null?void 0:L.transactionRequest,d=$o({from:M==null?void 0:M.address,accessList:c,data:u,gas:f,gasPrice:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:b,to:_,value:x,...Op(N,{formatter:P})},{formatter:P||Ap});if(n&&MA({request:d}))try{return await jA(t,{...d,blockNumber:s,blockTag:a})}catch(Z){if(!(Z instanceof qv)&&!(Z instanceof Ed))throw Z}const w=await t.request({method:"eth_call",params:T?[d,T]:[d]});return w==="0x"?{data:void 0}:{data:w}}catch(D){const T=LA(D),{offchainLookup:P,offchainLookupSignature:d}=await Hv(()=>import("./ccip-f22d6531.js"),[]);if((T==null?void 0:T.slice(0,10))===d&&_)return{data:await P(t,{data:T,to:_})};throw $A(D,{...e,account:M,chain:t.chain})}}function MA({request:t}){const{data:e,to:r,...n}=t;return!(!e||e.startsWith(CA)||!r||Object.values(n).filter(s=>typeof s<"u").length>0)}async function jA(t,e){var N,M;const{batchSize:r=1024,wait:n=0}=typeof((N=t.batch)==null?void 0:N.multicall)=="object"?(M=t.batch)==null?void 0:M.multicall:{},{blockNumber:s,blockTag:a="latest",data:c,multicallAddress:u,to:f}=e;let h=u;if(!h){if(!t.chain)throw new qv;h=Mo({blockNumber:s,chain:t.chain,contract:"multicall3"})}const m=(s?ot(s):void 0)||a,{schedule:b}=FA({id:`${t.uid}.${m}`,wait:n,shouldSplitBatch(z){return z.reduce((L,{data:D})=>L+(D.length-2),0)>r*2},fn:async z=>{const C=z.map(T=>({allowFailure:!0,callData:T.data,target:T.to})),L=Yi({abi:_d,args:[C],functionName:"aggregate3"}),D=await t.request({method:"eth_call",params:[{data:L,to:h},m]});return Fo({abi:_d,args:[C],functionName:"aggregate3",data:D||"0x"})}}),[{returnData:_,success:x}]=await b({data:c,to:f});if(!x)throw new Sp({data:_});return _==="0x"?{data:void 0}:{data:_}}function LA(t){if(!(t instanceof De))return;const e=t.walk();return typeof e.data=="object"?e.data.data:e.data}async function Ki(t,{abi:e,address:r,args:n,functionName:s,...a}){const c=Yi({abi:e,args:n,functionName:s});try{const{data:u}=await _l(t,{data:c,to:r,...a});return Fo({abi:e,args:n,functionName:s,data:u||"0x"})}catch(u){throw ka(u,{abi:e,address:r,args:n,docsPath:"/docs/contract/readContract",functionName:s})}}async function UA(t,{abi:e,address:r,args:n,dataSuffix:s,functionName:a,...c}){const u=c.account?Fn(c.account):void 0,f=Yi({abi:e,args:n,functionName:a});try{const{data:h}=await _l(t,{batch:!1,data:`${f}${s?s.replace("0x",""):""}`,to:r,...c});return{result:Fo({abi:e,args:n,functionName:a,data:h||"0x"}),request:{abi:e,address:r,args:n,functionName:a,...c}}}catch(h){throw ka(h,{abi:e,address:r,args:n,docsPath:"/docs/contract/simulateContract",functionName:a,sender:u==null?void 0:u.address})}}const Eh=new Map,hm=new Map;let BA=0;function jo(t,e,r){const n=++BA,s=()=>Eh.get(t)||[],a=()=>{const p=s();Eh.set(t,p.filter(m=>m.id!==n))},c=()=>{const p=hm.get(t);s().length===1&&p&&p(),a()},u=s();if(Eh.set(t,[...u,{id:n,fns:e}]),u&&u.length>0)return c;const f={};for(const p in e)f[p]=(...m)=>{const b=s();b.length!==0&&b.forEach(_=>{var x,N;return(N=(x=_.fns)[p])==null?void 0:N.call(x,...m)})};const h=r(f);return typeof h=="function"&&hm.set(t,h),c}async function xd(t){return new Promise(e=>setTimeout(e,t))}function Ya(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let s=!0;const a=()=>s=!1;return(async()=>{let u;e&&(u=await t({unpoll:a}));const f=await(r==null?void 0:r(u))??n;await xd(f);const h=async()=>{s&&(await t({unpoll:a}),await xd(n),h())};h()})(),a}const kA=new Map,HA=new Map;function zA(t){const e=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:c=>a.set(s,c)}),r=e(t,kA),n=e(t,HA);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function qA(t,{cacheKey:e,maxAge:r=1/0}){const n=zA(e),s=n.response.get();if(s&&r>0&&new Date().getTime()-s.created.getTime()<r)return s.data;let a=n.promise.get();a||(a=t(),n.promise.set(a));try{const c=await a;return n.response.set({created:new Date,data:c}),c}finally{n.promise.clear()}}const KA=t=>`blockNumber.${t}`;async function Ja(t,{maxAge:e=t.pollingInterval}={}){const r=await qA(()=>t.request({method:"eth_blockNumber"}),{cacheKey:KA(t.uid),maxAge:e});return BigInt(r)}const dm="/docs/contract/decodeEventLog";function Tp({abi:t,data:e,topics:r}){const[n,...s]=r;if(!n)throw new dD({docsPath:dm});const a=t.find(b=>b.type==="event"&&n===xv(Cs(b)));if(!(a&&"name"in a))throw new pD(n,{docsPath:dm});const{name:c,inputs:u}=a,f=u==null?void 0:u.some(b=>!("name"in b&&b.name));let h=f?[]:{};const p=u.filter(b=>"indexed"in b&&b.indexed);if(s.length>0)for(let b=0;b<p.length;b++){const _=p[b],x=s[b];if(!x)throw new bD({abiItem:a,param:_});h[_.name||b]=VA({param:_,value:x})}const m=u.filter(b=>!("indexed"in b&&b.indexed));if(e&&e!=="0x")try{const b=bl(m,e);if(b)if(f)h=[...h,...b];else for(let _=0;_<m.length;_++)h[m[_].name]=b[_]}catch(b){throw b instanceof pp?new mD({data:b.data,params:b.params,size:b.size}):b}return{eventName:c,args:Object.values(h).length>0?h:void 0}}function VA({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(bl([t],e)||[])[0]}function El(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?BigInt(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?BigInt(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}async function xl(t,{filter:e}){return(await e.request({method:"eth_getFilterChanges",params:[e.id]})).map(n=>{if(typeof n=="string")return n;try{const{eventName:s,args:a}="abi"in e&&e.abi?Tp({abi:e.abi,data:n.data,topics:n.topics}):{eventName:void 0,args:void 0};return El(n,{args:a,eventName:s})}catch{return}}).filter(Boolean)}async function Rp(t,{address:e,blockHash:r,fromBlock:n,toBlock:s,event:a,args:c}={}){let u=[];a&&(u=Ep({abi:[a],eventName:a.name,args:c}));let f;return r?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:u,blockHash:r}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:u,fromBlock:typeof n=="bigint"?ot(n):n,toBlock:typeof s=="bigint"?ot(s):s}]}),f.map(h=>{try{const{eventName:p,args:m}=a?Tp({abi:[a],data:h.data,topics:h.topics}):{eventName:void 0,args:void 0};return El(h,{args:m,eventName:p})}catch{return}}).filter(Boolean)}async function Pl(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function GA(t,{abi:e,address:r,args:n,batch:s=!0,eventName:a,onError:c,onLogs:u,pollingInterval:f=t.pollingInterval}){const h=Gr(["watchContractEvent",r,n,s,t.uid,a,f]);return jo(h,{onLogs:u,onError:c},p=>{let m,b,_=!1;const x=Ya(async()=>{var N;if(!_){try{b=await Iv(t,{abi:e,address:r,args:n,eventName:a})}catch{}_=!0;return}try{let M;if(b)M=await xl(t,{filter:b});else{const z=await Ja(t);m&&m!==z?M=await Rp(t,{address:r,args:n,fromBlock:m+1n,toBlock:z,event:Ga({abi:e,name:a})}):M=[],m=z}if(M.length===0)return;s?p.onLogs(M):M.forEach(z=>p.onLogs([z]))}catch(M){(N=p.onError)==null||N.call(p,M)}},{emitOnBegin:!0,interval:f});return async()=>{b&&await Pl(t,{filter:b}),x()}})}function WA(t,{docsPath:e,...r}){let n=t;return Ip(t)&&(n=Dp(t,r)),new QO(n,{docsPath:e,...r})}async function ku(t){const e=await t.request({method:"eth_chainId"});return Fr(e)}async function Np(t,e){var N;const{account:r=t.account,chain:n=t.chain,accessList:s,data:a,gas:c,gasPrice:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:m,value:b,..._}=e;if(!r)throw new Wa({docsPath:"/docs/actions/wallet/sendTransaction"});const x=Fn(r);try{wl(e);let M;if(n!==null&&(M=await ku(t),NA({currentChainId:M,chain:n})),x.type==="local"){const L=await kv(t,{account:x,accessList:s,chain:n,data:a,gas:c,gasPrice:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:m,value:b,..._});M||(M=await ku(t));const D=await x.signTransaction({chainId:M,...L});return await t.request({method:"eth_sendRawTransaction",params:[D]})}const z=(N=n==null?void 0:n.formatters)==null?void 0:N.transactionRequest,C=$o({accessList:s,data:a,from:x.address,gas:c,gasPrice:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:m,value:b,...Op(_,{formatter:z})},{formatter:z||Ap});return await t.request({method:"eth_sendTransaction",params:[C]})}catch(M){throw WA(M,{...e,account:x,chain:e.chain||void 0})}}async function YA(t,{abi:e,address:r,args:n,dataSuffix:s,functionName:a,...c}){const u=Yi({abi:e,args:n,functionName:a});return await Np(t,{data:`${u}${s?s.replace("0x",""):""}`,to:r,...c})}async function Kv(t,{address:e,args:r,event:n,fromBlock:s,toBlock:a}={}){const c=ml(t,{method:"eth_newFilter"});let u=[];n&&(u=Ep({abi:[n],eventName:n.name,args:r}));const f=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?ot(s):s,toBlock:typeof a=="bigint"?ot(a):a,...u.length?{topics:u}:{}}]});return{abi:n?[n]:void 0,args:r,eventName:n?n.name:void 0,id:f,request:c(f),type:"event"}}const xh="/docs/contract/encodeDeployData";function Vv({abi:t,args:e,bytecode:r}){if(!e||e.length===0)return r;const n=t.find(a=>"type"in a&&a.type==="constructor");if(!n)throw new cD({docsPath:xh});if(!("inputs"in n))throw new nm({docsPath:xh});if(!n.inputs||n.inputs.length===0)throw new nm({docsPath:xh});const s=Va(n.inputs,e);return vp([r,s])}function JA(t,{abi:e,args:r,bytecode:n,...s}){const a=Vv({abi:e,args:r,bytecode:n});return Np(t,{...s,data:a})}async function XA(t,{address:e,blockNumber:r,blockTag:n="latest"}){const s=r?ot(r):void 0,a=await t.request({method:"eth_getBalance",params:[e,s||n]});return BigInt(a)}async function QA(t,{blockHash:e,blockNumber:r,blockTag:n="latest"}={}){const s=r!==void 0?ot(r):void 0;let a=null;return e?a=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]}):a=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||n]}),Fr(a)}async function ZA(t,{address:e,blockNumber:r,blockTag:n="latest"}){const s=r!==void 0?ot(r):void 0,a=await t.request({method:"eth_getCode",params:[e,s||n]});if(a!=="0x")return a}function Gv(t){let e=new Uint8Array(32).fill(0);if(!t)return ju(e);const r=t.split(".");for(let n=r.length-1;n>=0;n-=1){const s=sn(Os(r[n]),"bytes");e=sn(mi([e,s]),"bytes")}return ju(e)}function Sl(t){function e(c){return c==="."||c===".."?1:Os(c.replace(/^\.|\.$/gm,"")).length+2}const r=new Uint8Array(e(t)),n=t.replace(/^\.|\.$/gm,"");if(!n.length)return r;let s=0;const a=n.split(".");for(let c=0;c<a.length;c++){const u=Os(a[c]);r[s]=u.length,r.set(u,s+1),s+=u.length+1}return r}async function eC(t,{blockNumber:e,blockTag:r,name:n,universalResolverAddress:s}){let a=s;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Mo({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const c=await Ki(t,{address:a,abi:zv,functionName:"resolve",args:[wi(Sl(n)),Yi({abi:fm,functionName:"addr",args:[Gv(n)]})],blockNumber:e,blockTag:r});if(c[0]==="0x")return null;const u=Fo({abi:fm,functionName:"addr",data:c[0]});return go(u)==="0x00"?null:u}async function tC(t,{address:e,blockNumber:r,blockTag:n,universalResolverAddress:s}){let a=s;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Mo({blockNumber:r,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{return(await Ki(t,{address:a,abi:[{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],functionName:"reverse",args:[wi(Sl(c))],blockNumber:r,blockTag:n}))[0]}catch(u){if(u instanceof $v&&u.cause.reason===Ov[50])return null;throw u}}async function rC(t,{blockNumber:e,blockTag:r,name:n,universalResolverAddress:s}){let a=s;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Mo({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const[c]=await Ki(t,{address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[wi(Sl(n))],blockNumber:e,blockTag:r});return c}function nC(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(r=>BigInt(r)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(r=>r.map(n=>BigInt(n)))}}async function iC(t,{blockCount:e,blockNumber:r,blockTag:n="latest",rewardPercentiles:s}){const a=r?ot(r):void 0,c=await t.request({method:"eth_feeHistory",params:[ot(e),a||n,s]});return nC(c)}async function sC(t,{filter:e}){return(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(n=>{try{const{eventName:s,args:a}="abi"in e&&e.abi?Tp({abi:e.abi,data:n.data,topics:n.topics}):{eventName:void 0,args:void 0};return El(n,{args:a,eventName:s})}catch{return}}).filter(Boolean)}async function oC(t,{address:e,blockNumber:r,blockTag:n="latest",slot:s}){const a=r!==void 0?ot(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,a||n]})}async function $p(t,{blockHash:e,blockNumber:r,blockTag:n="latest",hash:s,index:a}){var f,h;const c=r!==void 0?ot(r):void 0;let u=null;if(s?u=await t.request({method:"eth_getTransactionByHash",params:[s]}):e?u=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,ot(a)]}):(c||n)&&(u=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[c||n,ot(a)]})),!u)throw new Tv({blockHash:e,blockNumber:r,blockTag:n,hash:s,index:a});return $o(u,{formatter:((h=(f=t.chain)==null?void 0:f.formatters)==null?void 0:h.transaction)||Lv})}async function aC(t,{hash:e,transactionReceipt:r}){const[n,s]=await Promise.all([Ja(t),e?$p(t,{hash:e}):void 0]),a=(r==null?void 0:r.blockNumber)||(s==null?void 0:s.blockNumber);return a?n-a+1n:0n}const cC={"0x0":"reverted","0x1":"success"};function uC(t){return{...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(e=>El(e)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Fr(t.transactionIndex):null,status:t.status?cC[t.status]:null,type:t.type?jv[t.type]:null}}async function Pd(t,{hash:e}){var n,s;const r=await t.request({method:"eth_getTransactionReceipt",params:[e]});if(!r)throw new Rv({hash:e});return $o(r,{formatter:((s=(n=t.chain)==null?void 0:n.formatters)==null?void 0:s.transactionReceipt)||uC})}async function lC(t,e){var N;const{allowFailure:r=!0,batchSize:n,blockNumber:s,blockTag:a,contracts:c,multicallAddress:u}=e,f=n??(typeof((N=t.batch)==null?void 0:N.multicall)=="object"&&t.batch.multicall.batchSize||1024),h=c;let p=u;if(!p){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");p=Mo({blockNumber:s,chain:t.chain,contract:"multicall3"})}const m=[[]];let b=0,_=0;for(let M=0;M<h.length;M++){const{abi:z,address:C,args:L,functionName:D}=h[M];try{const T=Yi({abi:z,args:L,functionName:D});_+=T.length,f>0&&_>f&&(b++,_=(T.length-2)/2,m[b]=[]),m[b]=[...m[b],{allowFailure:!0,callData:T,target:C}]}catch(T){const P=ka(T,{abi:z,address:C,args:L,docsPath:"/docs/contract/multicall",functionName:D});if(!r)throw P;m[b]=[...m[b],{allowFailure:!0,callData:"0x",target:C}]}}return(await Promise.all(m.map(M=>Ki(t,{abi:_d,address:p,args:[M],blockNumber:s,blockTag:a,functionName:"aggregate3"})))).flat().map(({returnData:M,success:z},C)=>{const L=m.flat(),{callData:D}=L[C],{abi:T,address:P,functionName:d,args:w}=h[C];try{if(D==="0x")throw new pl;if(!z)throw new Sp({data:M});const Z=Fo({abi:T,data:M,functionName:d});return r?{result:Z,status:"success"}:Z}catch(Z){const B=ka(Z,{abi:T,address:P,args:w,docsPath:"/docs/contract/multicall",functionName:d});if(!r)throw B;return{error:B,result:void 0,status:"failure"}}})}function fC(t,{blockTag:e="latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:s,onError:a,includeTransactions:c=!1,poll:u,pollingInterval:f=t.pollingInterval}){const h=typeof u<"u"?u:t.transport.type!=="webSocket";let p;return h?(()=>{const _=Gr(["watchBlocks",t.uid,r,n,c,f]);return jo(_,{onBlock:s,onError:a},x=>Ya(async()=>{var N;try{const M=await za(t,{blockTag:e,includeTransactions:c});if(M.number&&(p!=null&&p.number)){if(M.number===p.number)return;if(M.number-p.number>1&&r)for(let z=(p==null?void 0:p.number)+1n;z<M.number;z++){const C=await za(t,{blockNumber:z,includeTransactions:c});x.onBlock(C,p),p=C}}(!(p!=null&&p.number)||e==="pending"&&!(M!=null&&M.number)||M.number&&M.number>p.number)&&(x.onBlock(M,p),p=M)}catch(M){(N=x.onError)==null||N.call(x,M)}},{emitOnBegin:n,interval:f}))})():(()=>{let _=!0,x=()=>_=!1;return(async()=>{try{const{unsubscribe:N}=await t.transport.subscribe({params:["newHeads"],onData(M){if(!_)return;const z=M.result;s(z,p),p=z},onError(M){a==null||a(M)}});x=N,_||x()}catch(N){a==null||a(N)}})(),x})()}function Wv(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:s,poll:a,pollingInterval:c=t.pollingInterval}){const u=typeof a<"u"?a:t.transport.type!=="webSocket";let f;return u?(()=>{const m=Gr(["watchBlockNumber",t.uid,e,r,c]);return jo(m,{onBlockNumber:n,onError:s},b=>Ya(async()=>{var _;try{const x=await Ja(t,{maxAge:0});if(f){if(x===f)return;if(x-f>1&&r)for(let N=f+1n;N<x;N++)b.onBlockNumber(N,f),f=N}(!f||x>f)&&(b.onBlockNumber(x,f),f=x)}catch(x){(_=b.onError)==null||_.call(b,x)}},{emitOnBegin:e,interval:c}))})():(()=>{let m=!0,b=()=>m=!1;return(async()=>{try{const{unsubscribe:_}=await t.transport.subscribe({params:["newHeads"],onData(x){var M;if(!m)return;const N=gp((M=x.result)==null?void 0:M.number);n(N,f),f=N},onError(x){s==null||s(x)}});b=_,m||b()}catch(_){s==null||s(_)}})(),b})()}function hC(t,{address:e,args:r,batch:n=!0,event:s,onError:a,onLogs:c,pollingInterval:u=t.pollingInterval}){const f=Gr(["watchEvent",e,r,n,t.uid,s,u]);return jo(f,{onLogs:c,onError:a},h=>{let p,m,b=!1;const _=Ya(async()=>{var x;if(!b){try{m=await Kv(t,{address:e,args:r,event:s})}catch{}b=!0;return}try{let N;if(m)N=await xl(t,{filter:m});else{const M=await Ja(t);p&&p!==M?N=await Rp(t,{address:e,args:r,fromBlock:p+1n,toBlock:M,event:s}):N=[],p=M}if(N.length===0)return;n?h.onLogs(N):N.forEach(M=>h.onLogs([M]))}catch(N){(x=h.onError)==null||x.call(h,N)}},{emitOnBegin:!0,interval:u});return async()=>{m&&await Pl(t,{filter:m}),_()}})}async function Yv(t){const e=ml(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}function dC(t,{batch:e=!0,onError:r,onTransactions:n,poll:s,pollingInterval:a=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket")?(()=>{const h=Gr(["watchPendingTransactions",t.uid,e,a]);return jo(h,{onTransactions:n,onError:r},p=>{let m;const b=Ya(async()=>{var _;try{if(!m)try{m=await Yv(t);return}catch(N){throw b(),N}const x=await xl(t,{filter:m});if(x.length===0)return;e?p.onTransactions(x):x.forEach(N=>p.onTransactions([N]))}catch(x){(_=p.onError)==null||_.call(p,x)}},{emitOnBegin:!0,interval:a});return async()=>{m&&await Pl(t,{filter:m}),b()}})})():(()=>{let h=!0,p=()=>h=!1;return(async()=>{try{const{unsubscribe:m}=await t.transport.subscribe({params:["newPendingTransactions"],onData(b){if(!h)return;const _=b.result;n([_])},onError(b){r==null||r(b)}});p=m,h||p()}catch(m){r==null||r(m)}})(),p})()}function Jv(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((s,a)=>{const c=async({count:u=0}={})=>{const f=async({error:h})=>{const p=typeof e=="function"?e({count:u,error:h}):e;p&&await xd(p),c({count:u+1})};try{const h=await t();s(h)}catch(h){if(u<r&&await n({count:u,error:h}))return f({error:h});a(h)}};c()})}async function pC(t,{confirmations:e=1,hash:r,onReplaced:n,pollingInterval:s=t.pollingInterval,timeout:a}){const c=Gr(["waitForTransactionReceipt",t.uid,r]);let u,f,h,p=!1;return new Promise((m,b)=>{a&&setTimeout(()=>b(new ZO({hash:r})),a);const _=jo(c,{onReplaced:n,resolve:m,reject:b},x=>{const N=Wv(t,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(M){if(p)return;let z=M;const C=async L=>{N(),L(),_()};try{if(h){if(z-h.blockNumber+1n<e)return;C(()=>x.resolve(h));return}if(u||(p=!0,await Jv(async()=>{u=await $p(t,{hash:r}),u.blockNumber&&(z=u.blockNumber)},{delay:({count:L})=>~~(1<<L)*200,retryCount:6}),p=!1),h=await Pd(t,{hash:r}),e>0&&z-h.blockNumber+1n<e)return;C(()=>x.resolve(h))}catch(L){if(u&&(L instanceof Tv||L instanceof Rv)){f=u;const T=(await za(t,{blockNumber:z,includeTransactions:!0})).transactions.find(({from:d,nonce:w})=>d===f.from&&w===f.nonce);if(!T||(h=await Pd(t,{hash:T.hash}),z-h.blockNumber+1n<e))return;let P="replaced";T.to===f.to&&T.value===f.value?P="repriced":T.from===T.to&&T.value===0n&&(P="cancelled"),C(()=>{var d;(d=x.onReplaced)==null||d.call(x,{reason:P,replacedTransaction:f,transaction:T,transactionReceipt:h}),x.resolve(h)})}else C(()=>x.reject(L))}}});return N})})}async function gC(t,e){return t.request({method:"wallet_requestPermissions",params:[e]})}async function yC(t,{account:e=t.account,message:r}){if(!e)throw new Wa({docsPath:"/docs/actions/wallet/signMessage"});const n=Fn(e);if(n.type==="local")return n.signMessage({message:r});const s=(()=>typeof r=="string"?yp(r):r.raw instanceof Uint8Array?wi(r.raw):r.raw)();return t.request({method:"personal_sign",params:[s,n.address]})}const mC=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,bC=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Xv({domain:t,message:e,primaryType:r,types:n}){const s=n,a=(c,u)=>{for(const f of c){const{name:h,type:p}=f,m=p,b=u[h],_=m.match(bC);if(_&&(typeof b=="number"||typeof b=="bigint")){const[M,z,C]=_;ot(b,{signed:z==="int",size:parseInt(C)/8})}if(m==="address"&&typeof b=="string"&&!Do(b))throw new Ba({address:b});const x=m.match(mC);if(x){const[M,z]=x;if(z&&Qt(b)!==parseInt(z))throw new yD({expectedSize:parseInt(z),givenSize:Qt(b)})}const N=s[m];N&&a(N,b)}};if(s.EIP712Domain&&t&&a(s.EIP712Domain,t),r!=="EIP712Domain"){const c=s[r];a(c,e)}}async function vC(t,{account:e=t.account,domain:r,message:n,primaryType:s,types:a}){if(!e)throw new Wa({docsPath:"/docs/actions/wallet/signTypedData"});const c=Fn(e),u={EIP712Domain:[(r==null?void 0:r.name)&&{name:"name",type:"string"},(r==null?void 0:r.version)&&{name:"version",type:"string"},(r==null?void 0:r.chainId)&&{name:"chainId",type:"uint256"},(r==null?void 0:r.verifyingContract)&&{name:"verifyingContract",type:"address"},(r==null?void 0:r.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean),...a};if(Xv({domain:r,message:n,primaryType:s,types:u}),c.type==="local")return c.signTypedData({domain:r,primaryType:s,types:u,message:n});const f=Gr({domain:r??{},primaryType:s,types:u,message:n},(h,p)=>qi(p)?p.toLowerCase():p);return t.request({method:"eth_signTypedData_v4",params:[c.address,f]})}async function wC(t,e){return await t.request({method:"wallet_watchAsset",params:e})}const Sd=256;let pu=Sd,gu;function _C(t=11){if(!gu||pu+t>Sd*2){gu="",pu=0;for(let e=0;e<Sd;e++)gu+=(256+Math.random()*256|0).toString(16).substring(1)}return gu.substring(pu,pu+++t)}function Qv({chain:t,key:e="base",name:r="Base Client",pollingInterval:n=4e3,transport:s,type:a="base"}){const{config:c,request:u,value:f}=s({chain:t,pollingInterval:n});return{chain:t,key:e,name:r,pollingInterval:n,request:u,transport:{...c,...f},type:a,uid:_C()}}const EC=t=>"code"in t?t.code!==-1&&t.code!==-32004&&t.code!==-32005&&t.code!==-32042&&t.code!==-32603:t instanceof Aa&&t.status?t.status!==403&&t.status!==408&&t.status!==413&&t.status!==429&&t.status!==500&&t.status!==502&&t.status!==503&&t.status!==504:!1;function xC(t,{retryDelay:e=150,retryCount:r=3}={}){return async n=>Jv(async()=>{try{return await t(n)}catch(s){const a=s;throw a.code===-32700?new aA(a):a.code===-32600?new cA(a):a.code===-32601?new uA(a):a.code===-32602?new lA(a):a.code===-32603?new fA(a):a.code===-32e3?new Fv(a):a.code===-32001?new hA(a):a.code===-32002?new dA(a):a.code===-32003?new Mv(a):a.code===-32004?new cm(a):a.code===-32005?new pA(a):a.code===-32006?new gA(a):a.code===-32042?new cm(a):a.code===4001?new yA(a):a.code===4100?new mA(a):a.code===4200?new bA(a):a.code===4900?new vA(a):a.code===4901?new wA(a):a.code===4902?new _A(a):s instanceof De?s:new EA(a)}},{delay:({count:s,error:a})=>{var c;if(a&&a instanceof Aa){const u=(c=a==null?void 0:a.headers)==null?void 0:c.get("Retry-After");if(u!=null&&u.match(/\d/))return parseInt(u)*1e3}return~~(1<<s)*e},retryCount:r,shouldRetry:({error:s})=>!EC(s)})}function Zv({key:t,name:e,request:r,retryCount:n=3,retryDelay:s=150,timeout:a,type:c},u){return{config:{key:t,name:e,request:r,retryCount:n,retryDelay:s,timeout:a,type:c},request:xC(r,{retryCount:n,retryDelay:s}),value:u}}function pm(t,e={}){const{key:r="custom",name:n="Custom Provider",retryDelay:s}=e;return({retryCount:a})=>Zv({key:r,name:n,request:t.request.bind(t),retryCount:e.retryCount??a,retryDelay:s,type:"custom"})}class PC extends De{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function ew(t,{errorInstance:e,timeout:r,signal:n}){return new Promise((s,a)=>{(async()=>{let c;try{const u=new AbortController;r>0&&(c=setTimeout(()=>{n?u.abort():a(e)},r)),s(await t({signal:u==null?void 0:u.signal}))}catch(u){u.name==="AbortError"&&a(e),a(u)}finally{clearTimeout(c)}})()})}let tw=0;async function SC(t,{body:e,fetchOptions:r={},timeout:n=1e4}){var u;const{headers:s,method:a,signal:c}=r;try{const f=await ew(async({signal:p})=>await fetch(t,{...r,body:Gr({jsonrpc:"2.0",id:tw++,...e}),headers:{...s,"Content-Type":"application/json"},method:a||"POST",signal:c||(n>0?p:void 0)}),{errorInstance:new wd({body:e,url:t}),timeout:n,signal:!0});let h;if((u=f.headers.get("Content-Type"))!=null&&u.startsWith("application/json")?h=await f.json():h=await f.text(),!f.ok)throw new Aa({body:e,details:Gr(h.error)||f.statusText,headers:f.headers,status:f.status,url:t});if(h.error)throw new Ha({body:e,error:h.error,url:t});return h}catch(f){throw f instanceof Aa||f instanceof Ha||f instanceof wd?f:new Aa({body:e,details:f.message,url:t})}}function IC(t,{body:e,onData:r,onError:n}){if(t.readyState===t.CLOSED||t.readyState===t.CLOSING)throw new sA({body:e,url:t.url,details:"Socket is closed."});const s=tw++,a=({data:c})=>{var f;const u=JSON.parse(c);typeof u.id=="number"&&s!==u.id||(u.error?n==null||n(new Ha({body:e,error:u.error,url:t.url})):r==null||r(u),e.method==="eth_subscribe"&&typeof u.result=="string"&&t.subscriptions.set(u.result,a),e.method==="eth_unsubscribe"&&t.subscriptions.delete((f=e.params)==null?void 0:f[0]))};return t.requests.set(s,a),t.send(JSON.stringify({jsonrpc:"2.0",...e,id:s})),t}async function DC(t,{body:e,timeout:r=1e4}){return ew(()=>new Promise((n,s)=>rw.webSocket(t,{body:e,onData:n,onError:s})),{errorInstance:new wd({body:e,url:t.url}),timeout:r})}const rw={http:SC,webSocket:IC,webSocketAsync:DC};function OC(t,e={}){const{fetchOptions:r,key:n="http",name:s="HTTP JSON-RPC",retryDelay:a}=e;return({chain:c,retryCount:u,timeout:f})=>{const h=e.retryCount??u,p=f??e.timeout??1e4,m=t||(c==null?void 0:c.rpcUrls.default.http[0]);if(!m)throw new PC;return Zv({key:n,name:s,async request({method:b,params:_}){const{result:x}=await rw.http(m,{body:{method:b,params:_},fetchOptions:r,timeout:p});return x},retryCount:h,retryDelay:a,timeout:p,type:"http"},{url:t})}}class AC extends De{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class ua extends De{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Fp extends De{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class CC extends De{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const TC=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,RC=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,NC=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,$C=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function FC(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const r=e.headers.get("content-type");return r==null?void 0:r.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function gm(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function nw({uri:t,gatewayUrls:e}){const r=NC.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const n=gm(e==null?void 0:e.ipfs,"https://ipfs.io"),s=gm(e==null?void 0:e.arweave,"https://arweave.net"),a=t.match(TC),{protocol:c,subpath:u,target:f,subtarget:h=""}=(a==null?void 0:a.groups)||{},p=c==="ipns:/"||u==="ipns/",m=c==="ipfs:/"||u==="ipfs/"||RC.test(t);if(t.startsWith("http")&&!p&&!m){let _=t;return e!=null&&e.arweave&&(_=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:_,isOnChain:!1,isEncoded:!1}}if((p||m)&&f)return{uri:`${n}/${p?"ipns":"ipfs"}/${f}${h}`,isOnChain:!1,isEncoded:!1};if(c==="ar:/"&&f)return{uri:`${s}/${f}${h||""}`,isOnChain:!1,isEncoded:!1};let b=t.replace($C,"");if(b.startsWith("<svg")&&(b=`data:image/svg+xml;base64,${btoa(b)}`),b.startsWith("data:")||b.startsWith("{"))return{uri:b,isOnChain:!0,isEncoded:!1};throw new Fp({uri:t})}function iw(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new AC({data:t});return t.image||t.image_url||t.image_data}async function MC({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then(s=>s.json());return await Mp({gatewayUrls:t,uri:iw(r)})}catch{throw new Fp({uri:e})}}async function Mp({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:n}=nw({uri:e,gatewayUrls:t});if(n||await FC(r))return r;throw new Fp({uri:e})}function jC(t){t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[e,r,n]=t.split("/"),[s,a]=e.split(":"),[c,u]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new ua({reason:"Only EIP-155 supported"});if(!a)throw new ua({reason:"Chain ID not found"});if(!u)throw new ua({reason:"Contract address not found"});if(!n)throw new ua({reason:"Token ID not found"});if(!c)throw new ua({reason:"ERC namespace not found"});return{chainID:parseInt(a),namespace:c.toLowerCase(),contractAddress:u,tokenID:n}}async function LC(t,{nft:e}){if(e.namespace==="erc721")return Ki(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Ki(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new CC({namespace:e.namespace})}async function UC(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?BC(t,{gatewayUrls:e,record:r}):Mp({uri:r,gatewayUrls:e})}async function BC(t,{gatewayUrls:e,record:r}){const n=jC(r),s=await LC(t,{nft:n}),{uri:a,isOnChain:c,isEncoded:u}=nw({uri:s,gatewayUrls:e});if(c&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const h=u?atob(a.replace("data:application/json;base64,","")):a,p=JSON.parse(h);return Mp({uri:iw(p),gatewayUrls:e})}let f=n.tokenID;return n.namespace==="erc1155"&&(f=f.replace("0x","").padStart(64,"0")),MC({gatewayUrls:e,uri:a.replace(/(?:0x)?{id}/,f)})}async function sw(t,{blockNumber:e,blockTag:r,name:n,key:s,universalResolverAddress:a}){let c=a;if(!c){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Mo({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const u=await Ki(t,{address:c,abi:zv,functionName:"resolve",args:[wi(Sl(n)),Yi({abi:lm,functionName:"text",args:[Gv(n),s]})],blockNumber:e,blockTag:r});if(u[0]==="0x")return null;const f=Fo({abi:lm,functionName:"text",data:u[0]});return f===""?null:f}async function kC(t,{blockNumber:e,blockTag:r,gatewayUrls:n,name:s,universalResolverAddress:a}){const c=await sw(t,{blockNumber:e,blockTag:r,key:"avatar",name:s,universalResolverAddress:a});if(!c)return null;try{return await UC(t,{record:c,gatewayUrls:n})}catch{return null}}async function HC(t){const e=ml(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}function zC({domain:t,message:e,primaryType:r,types:n}){const s=typeof t>"u"?{}:t,a={EIP712Domain:[(s==null?void 0:s.name)&&{name:"name",type:"string"},(s==null?void 0:s.version)&&{name:"version",type:"string"},(s==null?void 0:s.chainId)&&{name:"chainId",type:"uint256"},(s==null?void 0:s.verifyingContract)&&{name:"verifyingContract",type:"address"},(s==null?void 0:s.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean),...n};Xv({domain:s,message:e,primaryType:r,types:a});const c=["0x1901"];return s&&c.push(qC({domain:s,types:a})),r!=="EIP712Domain"&&c.push(ow({data:e,primaryType:r,types:a})),sn(mi(c))}function qC({domain:t,types:e}){return ow({data:t,primaryType:"EIP712Domain",types:e})}function ow({data:t,primaryType:e,types:r}){const n=aw({data:t,primaryType:e,types:r});return sn(n)}function aw({data:t,primaryType:e,types:r}){const n=[{type:"bytes32"}],s=[KC({primaryType:e,types:r})];for(const a of r[e]){const[c,u]=uw({types:r,name:a.name,type:a.type,value:t[a.name]});n.push(c),s.push(u)}return Va(n,s)}function KC({primaryType:t,types:e}){const r=wi(VC({primaryType:t,types:e}));return sn(r)}function VC({primaryType:t,types:e}){let r="";const n=cw({primaryType:t,types:e});n.delete(t);const s=[t,...Array.from(n).sort()];for(const a of s)r+=`${a}(${e[a].map(({name:c,type:u})=>`${u} ${c}`).join(",")})`;return r}function cw({primaryType:t,types:e},r=new Set){const n=t.match(/^\w*/u),s=n==null?void 0:n[0];if(r.has(s)||e[s]===void 0)return r;r.add(s);for(const a of e[s])cw({primaryType:a.type,types:e},r);return r}function uw({types:t,name:e,type:r,value:n}){if(t[r]!==void 0)return[{type:"bytes32"},sn(aw({data:n,primaryType:r,types:t}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},sn(n)];if(r==="string")return[{type:"bytes32"},sn(wi(n))];if(r.lastIndexOf("]")===r.length-1){const s=r.slice(0,r.lastIndexOf("[")),a=n.map(c=>uw({name:e,type:s,types:t,value:c}));return[{type:"bytes32"},sn(Va(a.map(([c])=>c),a.map(([,c])=>c)))]}return[{type:r},n]}function GC(t,e){const r=(()=>typeof t=="string"?Os(t):t.raw instanceof Uint8Array?t.raw:Io(t.raw))(),n=Os(`Ethereum Signed Message:
${r.length}`);return sn(mi([n,r]),e)}const WC="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);BigInt(2);Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function YC(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function JC(t,e){const r=qi(t)?Io(t):t,n=qi(e)?Io(e):e;return YC(r,n)}async function lw(t,{address:e,hash:r,signature:n,...s}){const a=qi(n)?n:wi(n);try{const{data:c}=await _l(t,{data:Vv({abi:AA,args:[e,r,a],bytecode:WC}),...s});return JC(c??"0x0","0x1")}catch(c){if(c instanceof Nv)return!1;throw c}}async function XC(t,{address:e,message:r,signature:n,...s}){const a=GC(r);return lw(t,{address:e,hash:a,signature:n,...s})}async function QC(t,{address:e,signature:r,message:n,primaryType:s,types:a,domain:c,...u}){const f=zC({message:n,primaryType:s,types:a,domain:c});return lw(t,{address:e,hash:f,signature:r,...u})}const ZC=t=>({call:e=>_l(t,e),createBlockFilter:()=>HC(t),createContractEventFilter:e=>Iv(t,e),createEventFilter:e=>Kv(t,e),createPendingTransactionFilter:()=>Yv(t),estimateContractGas:e=>IA(t,e),estimateGas:e=>Cp(t,e),getBalance:e=>XA(t,e),getBlock:e=>za(t,e),getBlockNumber:e=>Ja(t,e),getBlockTransactionCount:e=>QA(t,e),getBytecode:e=>ZA(t,e),getChainId:()=>ku(t),getEnsAddress:e=>eC(t,e),getEnsAvatar:e=>kC(t,e),getEnsName:e=>tC(t,e),getEnsResolver:e=>rC(t,e),getEnsText:e=>sw(t,e),getFeeHistory:e=>iC(t,e),getFilterChanges:e=>xl(t,e),getFilterLogs:e=>sC(t,e),getGasPrice:()=>Uv(t),getLogs:e=>Rp(t,e),getStorageAt:e=>oC(t,e),getTransaction:e=>$p(t,e),getTransactionConfirmations:e=>aC(t,e),getTransactionCount:e=>Bv(t,e),getTransactionReceipt:e=>Pd(t,e),multicall:e=>lC(t,e),readContract:e=>Ki(t,e),simulateContract:e=>UA(t,e),verifyMessage:e=>XC(t,e),verifyTypedData:e=>QC(t,e),uninstallFilter:e=>Pl(t,e),waitForTransactionReceipt:e=>pC(t,e),watchBlocks:e=>fC(t,e),watchBlockNumber:e=>Wv(t,e),watchContractEvent:e=>GA(t,e),watchEvent:e=>hC(t,e),watchPendingTransactions:e=>dC(t,e)});function eT({batch:t,chain:e,key:r="public",name:n="Public Client",transport:s,pollingInterval:a}){const c={batch:t,...Qv({chain:e,key:r,name:n,pollingInterval:a,transport:s,type:"publicClient"})};return{...c,...ZC(c)}}async function tT(t,{chain:e}){const{id:r,name:n,nativeCurrency:s,rpcUrls:a,blockExplorers:c}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:ot(r),chainName:n,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:c?Object.values(c).map(({url:u})=>u):void 0}]})}async function rT(t){return(await t.request({method:"eth_accounts"})).map(r=>xp(r))}async function nT(t){return await t.request({method:"wallet_getPermissions"})}async function iT(t){return(await t.request({method:"eth_requestAccounts"})).map(r=>UO(r))}async function sT(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:ot(e)}]})}const oT=t=>({addChain:e=>tT(t,e),deployContract:e=>JA(t,e),getAddresses:()=>rT(t),getChainId:()=>ku(t),getPermissions:()=>nT(t),requestAddresses:()=>iT(t),requestPermissions:e=>gC(t,e),sendTransaction:e=>Np(t,e),signMessage:e=>yC(t,e),signTypedData:e=>vC(t,e),switchChain:e=>sT(t,e),watchAsset:e=>wC(t,e),writeContract:e=>YA(t,e)});function ym({account:t,chain:e,transport:r,key:n="wallet",name:s="Wallet Client",pollingInterval:a}){const c={...Qv({chain:e,key:n,name:s,pollingInterval:a,transport:u=>r({...u,retryCount:0}),type:"walletClient"}),account:t?Fn(t):void 0};return{...c,...oT(c)}}var aT={id:80001,name:"Polygon Mumbai",network:"maticmum",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:{http:["https://polygon-mumbai.g.alchemy.com/v2"],webSocket:["wss://polygon-mumbai.g.alchemy.com/v2"]},infura:{http:["https://polygon-mumbai.infura.io/v3"],webSocket:["wss://polygon-mumbai.infura.io/ws/v3"]},default:{http:["https://matic-mumbai.chainstacklabs.com"]},public:{http:["https://matic-mumbai.chainstacklabs.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://mumbai.polygonscan.com"},default:{name:"PolygonScan",url:"https://mumbai.polygonscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}},testnet:!0};const cT=aT;var Pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var s=[null];s.push.apply(s,arguments);var a=Function.bind.apply(e,s);return new a}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Lp={exports:{}},bo=typeof Reflect=="object"?Reflect:null,mm=bo&&typeof bo.apply=="function"?bo.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Su;bo&&typeof bo.ownKeys=="function"?Su=bo.ownKeys:Object.getOwnPropertySymbols?Su=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Su=function(e){return Object.getOwnPropertyNames(e)};function uT(t){console&&console.warn&&console.warn(t)}var hw=Number.isNaN||function(e){return e!==e};function vt(){vt.init.call(this)}Lp.exports=vt;Lp.exports.once=dT;vt.EventEmitter=vt;vt.prototype._events=void 0;vt.prototype._eventsCount=0;vt.prototype._maxListeners=void 0;var bm=10;function Il(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(vt,"defaultMaxListeners",{enumerable:!0,get:function(){return bm},set:function(t){if(typeof t!="number"||t<0||hw(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");bm=t}});vt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};vt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||hw(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function dw(t){return t._maxListeners===void 0?vt.defaultMaxListeners:t._maxListeners}vt.prototype.getMaxListeners=function(){return dw(this)};vt.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=e==="error",a=this._events;if(a!==void 0)s=s&&a.error===void 0;else if(!s)return!1;if(s){var c;if(r.length>0&&(c=r[0]),c instanceof Error)throw c;var u=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw u.context=c,u}var f=a[e];if(f===void 0)return!1;if(typeof f=="function")mm(f,this,r);else for(var h=f.length,p=bw(f,h),n=0;n<h;++n)mm(p[n],this,r);return!0};function pw(t,e,r,n){var s,a,c;if(Il(r),a=t._events,a===void 0?(a=t._events=Object.create(null),t._eventsCount=0):(a.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),c=a[e]),c===void 0)c=a[e]=r,++t._eventsCount;else if(typeof c=="function"?c=a[e]=n?[r,c]:[c,r]:n?c.unshift(r):c.push(r),s=dw(t),s>0&&c.length>s&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=c.length,uT(u)}return t}vt.prototype.addListener=function(e,r){return pw(this,e,r,!1)};vt.prototype.on=vt.prototype.addListener;vt.prototype.prependListener=function(e,r){return pw(this,e,r,!0)};function lT(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function gw(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=lT.bind(n);return s.listener=r,n.wrapFn=s,s}vt.prototype.once=function(e,r){return Il(r),this.on(e,gw(this,e,r)),this};vt.prototype.prependOnceListener=function(e,r){return Il(r),this.prependListener(e,gw(this,e,r)),this};vt.prototype.removeListener=function(e,r){var n,s,a,c,u;if(Il(r),s=this._events,s===void 0)return this;if(n=s[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(a=-1,c=n.length-1;c>=0;c--)if(n[c]===r||n[c].listener===r){u=n[c].listener,a=c;break}if(a<0)return this;a===0?n.shift():fT(n,a),n.length===1&&(s[e]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",e,u||r)}return this};vt.prototype.off=vt.prototype.removeListener;vt.prototype.removeAllListeners=function(e){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var a=Object.keys(n),c;for(s=0;s<a.length;++s)c=a[s],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(e,r[s]);return this};function yw(t,e,r){var n=t._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?hT(s):bw(s,s.length)}vt.prototype.listeners=function(e){return yw(this,e,!0)};vt.prototype.rawListeners=function(e){return yw(this,e,!1)};vt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):mw.call(t,e)};vt.prototype.listenerCount=mw;function mw(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}vt.prototype.eventNames=function(){return this._eventsCount>0?Su(this._events):[]};function bw(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function fT(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function hT(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function dT(t,e){return new Promise(function(r,n){function s(c){t.removeListener(e,a),n(c)}function a(){typeof t.removeListener=="function"&&t.removeListener("error",s),r([].slice.call(arguments))}vw(t,e,a,{once:!0}),e!=="error"&&pT(t,s,{once:!0})})}function pT(t,e,r){typeof t.on=="function"&&vw(t,"error",e,r)}function vw(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(a){n.once&&t.removeEventListener(e,s),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var an=Lp.exports;const Up=jp(an);var Bp={},Dl={},Xe={},ww={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(u,f){var h=u>>>16&65535,p=u&65535,m=f>>>16&65535,b=f&65535;return p*b+(h*b+p*m<<16>>>0)|0}t.mul=Math.imul||e;function r(u,f){return u+f|0}t.add=r;function n(u,f){return u-f|0}t.sub=n;function s(u,f){return u<<f|u>>>32-f}t.rotl=s;function a(u,f){return u<<32-f|u>>>f}t.rotr=a;function c(u){return typeof u=="number"&&isFinite(u)&&Math.floor(u)===u}t.isInteger=Number.isInteger||c,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(u){return t.isInteger(u)&&u>=-t.MAX_SAFE_INTEGER&&u<=t.MAX_SAFE_INTEGER}})(ww);Object.defineProperty(Xe,"__esModule",{value:!0});var _w=ww;function gT(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Xe.readInt16BE=gT;function yT(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Xe.readUint16BE=yT;function mT(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Xe.readInt16LE=mT;function bT(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Xe.readUint16LE=bT;function Ew(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}Xe.writeUint16BE=Ew;Xe.writeInt16BE=Ew;function xw(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}Xe.writeUint16LE=xw;Xe.writeInt16LE=xw;function Id(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Xe.readInt32BE=Id;function Dd(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Xe.readUint32BE=Dd;function Od(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Xe.readInt32LE=Od;function Ad(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Xe.readUint32LE=Ad;function Hu(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}Xe.writeUint32BE=Hu;Xe.writeInt32BE=Hu;function zu(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}Xe.writeUint32LE=zu;Xe.writeInt32LE=zu;function vT(t,e){e===void 0&&(e=0);var r=Id(t,e),n=Id(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Xe.readInt64BE=vT;function wT(t,e){e===void 0&&(e=0);var r=Dd(t,e),n=Dd(t,e+4);return r*4294967296+n}Xe.readUint64BE=wT;function _T(t,e){e===void 0&&(e=0);var r=Od(t,e),n=Od(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Xe.readInt64LE=_T;function ET(t,e){e===void 0&&(e=0);var r=Ad(t,e),n=Ad(t,e+4);return n*4294967296+r}Xe.readUint64LE=ET;function Pw(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Hu(t/4294967296>>>0,e,r),Hu(t>>>0,e,r+4),e}Xe.writeUint64BE=Pw;Xe.writeInt64BE=Pw;function Sw(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),zu(t>>>0,e,r),zu(t/4294967296>>>0,e,r+4),e}Xe.writeUint64LE=Sw;Xe.writeInt64LE=Sw;function xT(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,s=1,a=t/8+r-1;a>=r;a--)n+=e[a]*s,s*=256;return n}Xe.readUintBE=xT;function PT(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,s=1,a=r;a<r+t/8;a++)n+=e[a]*s,s*=256;return n}Xe.readUintLE=PT;function ST(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!_w.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var s=1,a=t/8+n-1;a>=n;a--)r[a]=e/s&255,s*=256;return r}Xe.writeUintBE=ST;function IT(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!_w.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var s=1,a=n;a<n+t/8;a++)r[a]=e/s&255,s*=256;return r}Xe.writeUintLE=IT;function DT(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}Xe.readFloat32BE=DT;function OT(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}Xe.readFloat32LE=OT;function AT(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}Xe.readFloat64BE=AT;function CT(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}Xe.readFloat64LE=CT;function TT(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}Xe.writeFloat32BE=TT;function RT(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}Xe.writeFloat32LE=RT;function NT(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}Xe.writeFloat64BE=NT;function $T(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}Xe.writeFloat64LE=$T;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});function FT(t){for(var e=0;e<t.length;e++)t[e]=0;return t}cn.wipe=FT;Object.defineProperty(Dl,"__esModule",{value:!0});var xr=Xe,Cd=cn,MT=20;function jT(t,e,r){for(var n=1634760805,s=857760878,a=2036477234,c=1797285236,u=r[3]<<24|r[2]<<16|r[1]<<8|r[0],f=r[7]<<24|r[6]<<16|r[5]<<8|r[4],h=r[11]<<24|r[10]<<16|r[9]<<8|r[8],p=r[15]<<24|r[14]<<16|r[13]<<8|r[12],m=r[19]<<24|r[18]<<16|r[17]<<8|r[16],b=r[23]<<24|r[22]<<16|r[21]<<8|r[20],_=r[27]<<24|r[26]<<16|r[25]<<8|r[24],x=r[31]<<24|r[30]<<16|r[29]<<8|r[28],N=e[3]<<24|e[2]<<16|e[1]<<8|e[0],M=e[7]<<24|e[6]<<16|e[5]<<8|e[4],z=e[11]<<24|e[10]<<16|e[9]<<8|e[8],C=e[15]<<24|e[14]<<16|e[13]<<8|e[12],L=n,D=s,T=a,P=c,d=u,w=f,Z=h,B=p,V=m,ee=b,ae=_,E=x,A=N,Y=M,te=z,Q=C,J=0;J<MT;J+=2)L=L+d|0,A^=L,A=A>>>32-16|A<<16,V=V+A|0,d^=V,d=d>>>32-12|d<<12,D=D+w|0,Y^=D,Y=Y>>>32-16|Y<<16,ee=ee+Y|0,w^=ee,w=w>>>32-12|w<<12,T=T+Z|0,te^=T,te=te>>>32-16|te<<16,ae=ae+te|0,Z^=ae,Z=Z>>>32-12|Z<<12,P=P+B|0,Q^=P,Q=Q>>>32-16|Q<<16,E=E+Q|0,B^=E,B=B>>>32-12|B<<12,T=T+Z|0,te^=T,te=te>>>32-8|te<<8,ae=ae+te|0,Z^=ae,Z=Z>>>32-7|Z<<7,P=P+B|0,Q^=P,Q=Q>>>32-8|Q<<8,E=E+Q|0,B^=E,B=B>>>32-7|B<<7,D=D+w|0,Y^=D,Y=Y>>>32-8|Y<<8,ee=ee+Y|0,w^=ee,w=w>>>32-7|w<<7,L=L+d|0,A^=L,A=A>>>32-8|A<<8,V=V+A|0,d^=V,d=d>>>32-7|d<<7,L=L+w|0,Q^=L,Q=Q>>>32-16|Q<<16,ae=ae+Q|0,w^=ae,w=w>>>32-12|w<<12,D=D+Z|0,A^=D,A=A>>>32-16|A<<16,E=E+A|0,Z^=E,Z=Z>>>32-12|Z<<12,T=T+B|0,Y^=T,Y=Y>>>32-16|Y<<16,V=V+Y|0,B^=V,B=B>>>32-12|B<<12,P=P+d|0,te^=P,te=te>>>32-16|te<<16,ee=ee+te|0,d^=ee,d=d>>>32-12|d<<12,T=T+B|0,Y^=T,Y=Y>>>32-8|Y<<8,V=V+Y|0,B^=V,B=B>>>32-7|B<<7,P=P+d|0,te^=P,te=te>>>32-8|te<<8,ee=ee+te|0,d^=ee,d=d>>>32-7|d<<7,D=D+Z|0,A^=D,A=A>>>32-8|A<<8,E=E+A|0,Z^=E,Z=Z>>>32-7|Z<<7,L=L+w|0,Q^=L,Q=Q>>>32-8|Q<<8,ae=ae+Q|0,w^=ae,w=w>>>32-7|w<<7;xr.writeUint32LE(L+n|0,t,0),xr.writeUint32LE(D+s|0,t,4),xr.writeUint32LE(T+a|0,t,8),xr.writeUint32LE(P+c|0,t,12),xr.writeUint32LE(d+u|0,t,16),xr.writeUint32LE(w+f|0,t,20),xr.writeUint32LE(Z+h|0,t,24),xr.writeUint32LE(B+p|0,t,28),xr.writeUint32LE(V+m|0,t,32),xr.writeUint32LE(ee+b|0,t,36),xr.writeUint32LE(ae+_|0,t,40),xr.writeUint32LE(E+x|0,t,44),xr.writeUint32LE(A+N|0,t,48),xr.writeUint32LE(Y+M|0,t,52),xr.writeUint32LE(te+z|0,t,56),xr.writeUint32LE(Q+C|0,t,60)}function Iw(t,e,r,n,s){if(s===void 0&&(s=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var a,c;if(s===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");a=new Uint8Array(16),c=a.length-e.length,a.set(e,c)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");a=e,c=s}for(var u=new Uint8Array(64),f=0;f<r.length;f+=64){jT(u,a,t);for(var h=f;h<f+64&&h<r.length;h++)n[h]=r[h]^u[h-f];UT(a,0,c)}return Cd.wipe(u),s===0&&Cd.wipe(a),n}Dl.streamXOR=Iw;function LT(t,e,r,n){return n===void 0&&(n=0),Cd.wipe(r),Iw(t,e,r,r,n)}Dl.stream=LT;function UT(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var Dw={},Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});function BT(t,e,r){return~(t-1)&e|t-1&r}Ji.select=BT;function kT(t,e){return(t|0)-(e|0)-1>>>31&1}Ji.lessOrEqual=kT;function Ow(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Ji.compare=Ow;function HT(t,e){return t.length===0||e.length===0?!1:Ow(t,e)!==0}Ji.equal=HT;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ji,r=cn;t.DIGEST_LENGTH=16;var n=function(){function c(u){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var f=u[0]|u[1]<<8;this._r[0]=f&8191;var h=u[2]|u[3]<<8;this._r[1]=(f>>>13|h<<3)&8191;var p=u[4]|u[5]<<8;this._r[2]=(h>>>10|p<<6)&7939;var m=u[6]|u[7]<<8;this._r[3]=(p>>>7|m<<9)&8191;var b=u[8]|u[9]<<8;this._r[4]=(m>>>4|b<<12)&255,this._r[5]=b>>>1&8190;var _=u[10]|u[11]<<8;this._r[6]=(b>>>14|_<<2)&8191;var x=u[12]|u[13]<<8;this._r[7]=(_>>>11|x<<5)&8065;var N=u[14]|u[15]<<8;this._r[8]=(x>>>8|N<<8)&8191,this._r[9]=N>>>5&127,this._pad[0]=u[16]|u[17]<<8,this._pad[1]=u[18]|u[19]<<8,this._pad[2]=u[20]|u[21]<<8,this._pad[3]=u[22]|u[23]<<8,this._pad[4]=u[24]|u[25]<<8,this._pad[5]=u[26]|u[27]<<8,this._pad[6]=u[28]|u[29]<<8,this._pad[7]=u[30]|u[31]<<8}return c.prototype._blocks=function(u,f,h){for(var p=this._fin?0:2048,m=this._h[0],b=this._h[1],_=this._h[2],x=this._h[3],N=this._h[4],M=this._h[5],z=this._h[6],C=this._h[7],L=this._h[8],D=this._h[9],T=this._r[0],P=this._r[1],d=this._r[2],w=this._r[3],Z=this._r[4],B=this._r[5],V=this._r[6],ee=this._r[7],ae=this._r[8],E=this._r[9];h>=16;){var A=u[f+0]|u[f+1]<<8;m+=A&8191;var Y=u[f+2]|u[f+3]<<8;b+=(A>>>13|Y<<3)&8191;var te=u[f+4]|u[f+5]<<8;_+=(Y>>>10|te<<6)&8191;var Q=u[f+6]|u[f+7]<<8;x+=(te>>>7|Q<<9)&8191;var J=u[f+8]|u[f+9]<<8;N+=(Q>>>4|J<<12)&8191,M+=J>>>1&8191;var ie=u[f+10]|u[f+11]<<8;z+=(J>>>14|ie<<2)&8191;var ue=u[f+12]|u[f+13]<<8;C+=(ie>>>11|ue<<5)&8191;var xe=u[f+14]|u[f+15]<<8;L+=(ue>>>8|xe<<8)&8191,D+=xe>>>5|p;var ye=0,Fe=ye;Fe+=m*T,Fe+=b*(5*E),Fe+=_*(5*ae),Fe+=x*(5*ee),Fe+=N*(5*V),ye=Fe>>>13,Fe&=8191,Fe+=M*(5*B),Fe+=z*(5*Z),Fe+=C*(5*w),Fe+=L*(5*d),Fe+=D*(5*P),ye+=Fe>>>13,Fe&=8191;var Pe=ye;Pe+=m*P,Pe+=b*T,Pe+=_*(5*E),Pe+=x*(5*ae),Pe+=N*(5*ee),ye=Pe>>>13,Pe&=8191,Pe+=M*(5*V),Pe+=z*(5*B),Pe+=C*(5*Z),Pe+=L*(5*w),Pe+=D*(5*d),ye+=Pe>>>13,Pe&=8191;var Te=ye;Te+=m*d,Te+=b*P,Te+=_*T,Te+=x*(5*E),Te+=N*(5*ae),ye=Te>>>13,Te&=8191,Te+=M*(5*ee),Te+=z*(5*V),Te+=C*(5*B),Te+=L*(5*Z),Te+=D*(5*w),ye+=Te>>>13,Te&=8191;var $=ye;$+=m*w,$+=b*d,$+=_*P,$+=x*T,$+=N*(5*E),ye=$>>>13,$&=8191,$+=M*(5*ae),$+=z*(5*ee),$+=C*(5*V),$+=L*(5*B),$+=D*(5*Z),ye+=$>>>13,$&=8191;var H=ye;H+=m*Z,H+=b*w,H+=_*d,H+=x*P,H+=N*T,ye=H>>>13,H&=8191,H+=M*(5*E),H+=z*(5*ae),H+=C*(5*ee),H+=L*(5*V),H+=D*(5*B),ye+=H>>>13,H&=8191;var j=ye;j+=m*B,j+=b*Z,j+=_*w,j+=x*d,j+=N*P,ye=j>>>13,j&=8191,j+=M*T,j+=z*(5*E),j+=C*(5*ae),j+=L*(5*ee),j+=D*(5*V),ye+=j>>>13,j&=8191;var y=ye;y+=m*V,y+=b*B,y+=_*Z,y+=x*w,y+=N*d,ye=y>>>13,y&=8191,y+=M*P,y+=z*T,y+=C*(5*E),y+=L*(5*ae),y+=D*(5*ee),ye+=y>>>13,y&=8191;var U=ye;U+=m*ee,U+=b*V,U+=_*B,U+=x*Z,U+=N*w,ye=U>>>13,U&=8191,U+=M*d,U+=z*P,U+=C*T,U+=L*(5*E),U+=D*(5*ae),ye+=U>>>13,U&=8191;var I=ye;I+=m*ae,I+=b*ee,I+=_*V,I+=x*B,I+=N*Z,ye=I>>>13,I&=8191,I+=M*w,I+=z*d,I+=C*P,I+=L*T,I+=D*(5*E),ye+=I>>>13,I&=8191;var R=ye;R+=m*E,R+=b*ae,R+=_*ee,R+=x*V,R+=N*B,ye=R>>>13,R&=8191,R+=M*Z,R+=z*w,R+=C*d,R+=L*P,R+=D*T,ye+=R>>>13,R&=8191,ye=(ye<<2)+ye|0,ye=ye+Fe|0,Fe=ye&8191,ye=ye>>>13,Pe+=ye,m=Fe,b=Pe,_=Te,x=$,N=H,M=j,z=y,C=U,L=I,D=R,f+=16,h-=16}this._h[0]=m,this._h[1]=b,this._h[2]=_,this._h[3]=x,this._h[4]=N,this._h[5]=M,this._h[6]=z,this._h[7]=C,this._h[8]=L,this._h[9]=D},c.prototype.finish=function(u,f){f===void 0&&(f=0);var h=new Uint16Array(10),p,m,b,_;if(this._leftover){for(_=this._leftover,this._buffer[_++]=1;_<16;_++)this._buffer[_]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(p=this._h[1]>>>13,this._h[1]&=8191,_=2;_<10;_++)this._h[_]+=p,p=this._h[_]>>>13,this._h[_]&=8191;for(this._h[0]+=p*5,p=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=p,p=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=p,h[0]=this._h[0]+5,p=h[0]>>>13,h[0]&=8191,_=1;_<10;_++)h[_]=this._h[_]+p,p=h[_]>>>13,h[_]&=8191;for(h[9]-=8192,m=(p^1)-1,_=0;_<10;_++)h[_]&=m;for(m=~m,_=0;_<10;_++)this._h[_]=this._h[_]&m|h[_];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,b=this._h[0]+this._pad[0],this._h[0]=b&65535,_=1;_<8;_++)b=(this._h[_]+this._pad[_]|0)+(b>>>16)|0,this._h[_]=b&65535;return u[f+0]=this._h[0]>>>0,u[f+1]=this._h[0]>>>8,u[f+2]=this._h[1]>>>0,u[f+3]=this._h[1]>>>8,u[f+4]=this._h[2]>>>0,u[f+5]=this._h[2]>>>8,u[f+6]=this._h[3]>>>0,u[f+7]=this._h[3]>>>8,u[f+8]=this._h[4]>>>0,u[f+9]=this._h[4]>>>8,u[f+10]=this._h[5]>>>0,u[f+11]=this._h[5]>>>8,u[f+12]=this._h[6]>>>0,u[f+13]=this._h[6]>>>8,u[f+14]=this._h[7]>>>0,u[f+15]=this._h[7]>>>8,this._finished=!0,this},c.prototype.update=function(u){var f=0,h=u.length,p;if(this._leftover){p=16-this._leftover,p>h&&(p=h);for(var m=0;m<p;m++)this._buffer[this._leftover+m]=u[f+m];if(h-=p,f+=p,this._leftover+=p,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(h>=16&&(p=h-h%16,this._blocks(u,f,p),f+=p,h-=p),h){for(var m=0;m<h;m++)this._buffer[this._leftover+m]=u[f+m];this._leftover+=h}return this},c.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var u=new Uint8Array(16);return this.finish(u),u},c.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},c}();t.Poly1305=n;function s(c,u){var f=new n(c);f.update(u);var h=f.digest();return f.clean(),h}t.oneTimeAuth=s;function a(c,u){return c.length!==t.DIGEST_LENGTH||u.length!==t.DIGEST_LENGTH?!1:e.equal(c,u)}t.equal=a})(Dw);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Dl,r=Dw,n=cn,s=Xe,a=Ji;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var c=new Uint8Array(16),u=function(){function f(h){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,h.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(h)}return f.prototype.seal=function(h,p,m,b){if(h.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var _=new Uint8Array(16);_.set(h,_.length-h.length);var x=new Uint8Array(32);e.stream(this._key,_,x,4);var N=p.length+this.tagLength,M;if(b){if(b.length!==N)throw new Error("ChaCha20Poly1305: incorrect destination length");M=b}else M=new Uint8Array(N);return e.streamXOR(this._key,_,p,M,4),this._authenticate(M.subarray(M.length-this.tagLength,M.length),x,M.subarray(0,M.length-this.tagLength),m),n.wipe(_),M},f.prototype.open=function(h,p,m,b){if(h.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(p.length<this.tagLength)return null;var _=new Uint8Array(16);_.set(h,_.length-h.length);var x=new Uint8Array(32);e.stream(this._key,_,x,4);var N=new Uint8Array(this.tagLength);if(this._authenticate(N,x,p.subarray(0,p.length-this.tagLength),m),!a.equal(N,p.subarray(p.length-this.tagLength,p.length)))return null;var M=p.length-this.tagLength,z;if(b){if(b.length!==M)throw new Error("ChaCha20Poly1305: incorrect destination length");z=b}else z=new Uint8Array(M);return e.streamXOR(this._key,_,p.subarray(0,p.length-this.tagLength),z,4),n.wipe(_),z},f.prototype.clean=function(){return n.wipe(this._key),this},f.prototype._authenticate=function(h,p,m,b){var _=new r.Poly1305(p);b&&(_.update(b),b.length%16>0&&_.update(c.subarray(b.length%16))),_.update(m),m.length%16>0&&_.update(c.subarray(m.length%16));var x=new Uint8Array(8);b&&s.writeUint64LE(b.length,x),_.update(x),s.writeUint64LE(m.length,x),_.update(x);for(var N=_.digest(),M=0;M<N.length;M++)h[M]=N[M];_.clean(),n.wipe(N),n.wipe(x)},f}();t.ChaCha20Poly1305=u})(Bp);var Aw={},Xa={},kp={};Object.defineProperty(kp,"__esModule",{value:!0});function zT(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}kp.isSerializableHash=zT;Object.defineProperty(Xa,"__esModule",{value:!0});var zn=kp,qT=Ji,KT=cn,Cw=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var s=0;s<n.length;s++)n[s]^=54;this._inner.update(n);for(var s=0;s<n.length;s++)n[s]^=106;this._outer.update(n),zn.isSerializableHash(this._inner)&&zn.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),KT.wipe(n)}return t.prototype.reset=function(){if(!zn.isSerializableHash(this._inner)||!zn.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){zn.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),zn.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!zn.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!zn.isSerializableHash(this._inner)||!zn.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!zn.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();Xa.HMAC=Cw;function VT(t,e,r){var n=new Cw(t,e);n.update(r);var s=n.digest();return n.clean(),s}Xa.hmac=VT;Xa.equal=qT.equal;Object.defineProperty(Aw,"__esModule",{value:!0});var vm=Xa,wm=cn,GT=function(){function t(e,r,n,s){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=s;var a=vm.hmac(this._hash,n,r);this._hmac=new vm.HMAC(e,a),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),wm.wipe(this._buffer),wm.wipe(this._counter),this._bufpos=0},t}(),WT=Aw.HKDF=GT,Lo={},Ol={},Al={};Object.defineProperty(Al,"__esModule",{value:!0});Al.BrowserRandomSource=void 0;const _m=65536;class YT{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(e);for(let n=0;n<r.length;n+=_m)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,_m)));return r}}Al.BrowserRandomSource=YT;function JT(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Cl={};const XT={},QT=Object.freeze(Object.defineProperty({__proto__:null,default:XT},Symbol.toStringTag,{value:"Module"})),ZT=fw(QT);Object.defineProperty(Cl,"__esModule",{value:!0});Cl.NodeRandomSource=void 0;const e4=cn;class t4{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof JT<"u"){const e=ZT;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let s=0;s<n.length;s++)n[s]=r[s];return(0,e4.wipe)(r),n}}Cl.NodeRandomSource=t4;Object.defineProperty(Ol,"__esModule",{value:!0});Ol.SystemRandomSource=void 0;const r4=Al,n4=Cl;class i4{constructor(){if(this.isAvailable=!1,this.name="",this._source=new r4.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new n4.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}Ol.SystemRandomSource=i4;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=Ol,r=Xe,n=cn;t.defaultRandomSource=new e.SystemRandomSource;function s(h,p=t.defaultRandomSource){return p.randomBytes(h)}t.randomBytes=s;function a(h=t.defaultRandomSource){const p=s(4,h),m=(0,r.readUint32LE)(p);return(0,n.wipe)(p),m}t.randomUint32=a;const c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function u(h,p=c,m=t.defaultRandomSource){if(p.length<2)throw new Error("randomString charset is too short");if(p.length>256)throw new Error("randomString charset is too long");let b="";const _=p.length,x=256-256%_;for(;h>0;){const N=s(Math.ceil(h*256/x),m);for(let M=0;M<N.length&&h>0;M++){const z=N[M];z<x&&(b+=p.charAt(z%_),h--)}(0,n.wipe)(N)}return b}t.randomString=u;function f(h,p=c,m=t.defaultRandomSource){const b=Math.ceil(h/(Math.log(p.length)/Math.LN2));return u(b,p,m)}t.randomStringForEntropy=f})(Lo);var Tl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Xe,r=cn;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function u(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return u.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},u.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},u.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},u.prototype.update=function(f,h){if(h===void 0&&(h=f.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var p=0;if(this._bytesHashed+=h,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&h>0;)this._buffer[this._bufferLength++]=f[p++],h--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(h>=this.blockSize&&(p=a(this._temp,this._state,f,p,h),h%=this.blockSize);h>0;)this._buffer[this._bufferLength++]=f[p++],h--;return this},u.prototype.finish=function(f){if(!this._finished){var h=this._bytesHashed,p=this._bufferLength,m=h/536870912|0,b=h<<3,_=h%64<56?64:128;this._buffer[p]=128;for(var x=p+1;x<_-8;x++)this._buffer[x]=0;e.writeUint32BE(m,this._buffer,_-8),e.writeUint32BE(b,this._buffer,_-4),a(this._temp,this._state,this._buffer,0,_),this._finished=!0}for(var x=0;x<this.digestLength/4;x++)e.writeUint32BE(this._state[x],f,x*4);return this},u.prototype.digest=function(){var f=new Uint8Array(this.digestLength);return this.finish(f),f},u.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},u.prototype.restoreState=function(f){return this._state.set(f.state),this._bufferLength=f.bufferLength,f.buffer&&this._buffer.set(f.buffer),this._bytesHashed=f.bytesHashed,this._finished=!1,this},u.prototype.cleanSavedState=function(f){r.wipe(f.state),f.buffer&&r.wipe(f.buffer),f.bufferLength=0,f.bytesHashed=0},u}();t.SHA256=n;var s=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(u,f,h,p,m){for(;m>=64;){for(var b=f[0],_=f[1],x=f[2],N=f[3],M=f[4],z=f[5],C=f[6],L=f[7],D=0;D<16;D++){var T=p+D*4;u[D]=e.readUint32BE(h,T)}for(var D=16;D<64;D++){var P=u[D-2],d=(P>>>17|P<<32-17)^(P>>>19|P<<32-19)^P>>>10;P=u[D-15];var w=(P>>>7|P<<32-7)^(P>>>18|P<<32-18)^P>>>3;u[D]=(d+u[D-7]|0)+(w+u[D-16]|0)}for(var D=0;D<64;D++){var d=(((M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))+(M&z^~M&C)|0)+(L+(s[D]+u[D]|0)|0)|0,w=((b>>>2|b<<32-2)^(b>>>13|b<<32-13)^(b>>>22|b<<32-22))+(b&_^b&x^_&x)|0;L=C,C=z,z=M,M=N+d|0,N=x,x=_,_=b,b=d+w|0}f[0]+=b,f[1]+=_,f[2]+=x,f[3]+=N,f[4]+=M,f[5]+=z,f[6]+=C,f[7]+=L,p+=64,m-=64}return p}function c(u){var f=new n;f.update(u);var h=f.digest();return f.clean(),h}t.hash=c})(Tl);var Hp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const e=Lo,r=cn;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(D){const T=new Float64Array(16);if(D)for(let P=0;P<D.length;P++)T[P]=D[P];return T}const s=new Uint8Array(32);s[0]=9;const a=n([56129,1]);function c(D){let T=1;for(let P=0;P<16;P++){let d=D[P]+T+65535;T=Math.floor(d/65536),D[P]=d-T*65536}D[0]+=T-1+37*(T-1)}function u(D,T,P){const d=~(P-1);for(let w=0;w<16;w++){const Z=d&(D[w]^T[w]);D[w]^=Z,T[w]^=Z}}function f(D,T){const P=n(),d=n();for(let w=0;w<16;w++)d[w]=T[w];c(d),c(d),c(d);for(let w=0;w<2;w++){P[0]=d[0]-65517;for(let B=1;B<15;B++)P[B]=d[B]-65535-(P[B-1]>>16&1),P[B-1]&=65535;P[15]=d[15]-32767-(P[14]>>16&1);const Z=P[15]>>16&1;P[14]&=65535,u(d,P,1-Z)}for(let w=0;w<16;w++)D[2*w]=d[w]&255,D[2*w+1]=d[w]>>8}function h(D,T){for(let P=0;P<16;P++)D[P]=T[2*P]+(T[2*P+1]<<8);D[15]&=32767}function p(D,T,P){for(let d=0;d<16;d++)D[d]=T[d]+P[d]}function m(D,T,P){for(let d=0;d<16;d++)D[d]=T[d]-P[d]}function b(D,T,P){let d,w,Z=0,B=0,V=0,ee=0,ae=0,E=0,A=0,Y=0,te=0,Q=0,J=0,ie=0,ue=0,xe=0,ye=0,Fe=0,Pe=0,Te=0,$=0,H=0,j=0,y=0,U=0,I=0,R=0,q=0,re=0,ne=0,ce=0,we=0,pe=0,fe=P[0],se=P[1],ve=P[2],me=P[3],_e=P[4],Ee=P[5],Se=P[6],Ie=P[7],Ae=P[8],Me=P[9],Le=P[10],Ve=P[11],tt=P[12],Ze=P[13],nt=P[14],ze=P[15];d=T[0],Z+=d*fe,B+=d*se,V+=d*ve,ee+=d*me,ae+=d*_e,E+=d*Ee,A+=d*Se,Y+=d*Ie,te+=d*Ae,Q+=d*Me,J+=d*Le,ie+=d*Ve,ue+=d*tt,xe+=d*Ze,ye+=d*nt,Fe+=d*ze,d=T[1],B+=d*fe,V+=d*se,ee+=d*ve,ae+=d*me,E+=d*_e,A+=d*Ee,Y+=d*Se,te+=d*Ie,Q+=d*Ae,J+=d*Me,ie+=d*Le,ue+=d*Ve,xe+=d*tt,ye+=d*Ze,Fe+=d*nt,Pe+=d*ze,d=T[2],V+=d*fe,ee+=d*se,ae+=d*ve,E+=d*me,A+=d*_e,Y+=d*Ee,te+=d*Se,Q+=d*Ie,J+=d*Ae,ie+=d*Me,ue+=d*Le,xe+=d*Ve,ye+=d*tt,Fe+=d*Ze,Pe+=d*nt,Te+=d*ze,d=T[3],ee+=d*fe,ae+=d*se,E+=d*ve,A+=d*me,Y+=d*_e,te+=d*Ee,Q+=d*Se,J+=d*Ie,ie+=d*Ae,ue+=d*Me,xe+=d*Le,ye+=d*Ve,Fe+=d*tt,Pe+=d*Ze,Te+=d*nt,$+=d*ze,d=T[4],ae+=d*fe,E+=d*se,A+=d*ve,Y+=d*me,te+=d*_e,Q+=d*Ee,J+=d*Se,ie+=d*Ie,ue+=d*Ae,xe+=d*Me,ye+=d*Le,Fe+=d*Ve,Pe+=d*tt,Te+=d*Ze,$+=d*nt,H+=d*ze,d=T[5],E+=d*fe,A+=d*se,Y+=d*ve,te+=d*me,Q+=d*_e,J+=d*Ee,ie+=d*Se,ue+=d*Ie,xe+=d*Ae,ye+=d*Me,Fe+=d*Le,Pe+=d*Ve,Te+=d*tt,$+=d*Ze,H+=d*nt,j+=d*ze,d=T[6],A+=d*fe,Y+=d*se,te+=d*ve,Q+=d*me,J+=d*_e,ie+=d*Ee,ue+=d*Se,xe+=d*Ie,ye+=d*Ae,Fe+=d*Me,Pe+=d*Le,Te+=d*Ve,$+=d*tt,H+=d*Ze,j+=d*nt,y+=d*ze,d=T[7],Y+=d*fe,te+=d*se,Q+=d*ve,J+=d*me,ie+=d*_e,ue+=d*Ee,xe+=d*Se,ye+=d*Ie,Fe+=d*Ae,Pe+=d*Me,Te+=d*Le,$+=d*Ve,H+=d*tt,j+=d*Ze,y+=d*nt,U+=d*ze,d=T[8],te+=d*fe,Q+=d*se,J+=d*ve,ie+=d*me,ue+=d*_e,xe+=d*Ee,ye+=d*Se,Fe+=d*Ie,Pe+=d*Ae,Te+=d*Me,$+=d*Le,H+=d*Ve,j+=d*tt,y+=d*Ze,U+=d*nt,I+=d*ze,d=T[9],Q+=d*fe,J+=d*se,ie+=d*ve,ue+=d*me,xe+=d*_e,ye+=d*Ee,Fe+=d*Se,Pe+=d*Ie,Te+=d*Ae,$+=d*Me,H+=d*Le,j+=d*Ve,y+=d*tt,U+=d*Ze,I+=d*nt,R+=d*ze,d=T[10],J+=d*fe,ie+=d*se,ue+=d*ve,xe+=d*me,ye+=d*_e,Fe+=d*Ee,Pe+=d*Se,Te+=d*Ie,$+=d*Ae,H+=d*Me,j+=d*Le,y+=d*Ve,U+=d*tt,I+=d*Ze,R+=d*nt,q+=d*ze,d=T[11],ie+=d*fe,ue+=d*se,xe+=d*ve,ye+=d*me,Fe+=d*_e,Pe+=d*Ee,Te+=d*Se,$+=d*Ie,H+=d*Ae,j+=d*Me,y+=d*Le,U+=d*Ve,I+=d*tt,R+=d*Ze,q+=d*nt,re+=d*ze,d=T[12],ue+=d*fe,xe+=d*se,ye+=d*ve,Fe+=d*me,Pe+=d*_e,Te+=d*Ee,$+=d*Se,H+=d*Ie,j+=d*Ae,y+=d*Me,U+=d*Le,I+=d*Ve,R+=d*tt,q+=d*Ze,re+=d*nt,ne+=d*ze,d=T[13],xe+=d*fe,ye+=d*se,Fe+=d*ve,Pe+=d*me,Te+=d*_e,$+=d*Ee,H+=d*Se,j+=d*Ie,y+=d*Ae,U+=d*Me,I+=d*Le,R+=d*Ve,q+=d*tt,re+=d*Ze,ne+=d*nt,ce+=d*ze,d=T[14],ye+=d*fe,Fe+=d*se,Pe+=d*ve,Te+=d*me,$+=d*_e,H+=d*Ee,j+=d*Se,y+=d*Ie,U+=d*Ae,I+=d*Me,R+=d*Le,q+=d*Ve,re+=d*tt,ne+=d*Ze,ce+=d*nt,we+=d*ze,d=T[15],Fe+=d*fe,Pe+=d*se,Te+=d*ve,$+=d*me,H+=d*_e,j+=d*Ee,y+=d*Se,U+=d*Ie,I+=d*Ae,R+=d*Me,q+=d*Le,re+=d*Ve,ne+=d*tt,ce+=d*Ze,we+=d*nt,pe+=d*ze,Z+=38*Pe,B+=38*Te,V+=38*$,ee+=38*H,ae+=38*j,E+=38*y,A+=38*U,Y+=38*I,te+=38*R,Q+=38*q,J+=38*re,ie+=38*ne,ue+=38*ce,xe+=38*we,ye+=38*pe,w=1,d=Z+w+65535,w=Math.floor(d/65536),Z=d-w*65536,d=B+w+65535,w=Math.floor(d/65536),B=d-w*65536,d=V+w+65535,w=Math.floor(d/65536),V=d-w*65536,d=ee+w+65535,w=Math.floor(d/65536),ee=d-w*65536,d=ae+w+65535,w=Math.floor(d/65536),ae=d-w*65536,d=E+w+65535,w=Math.floor(d/65536),E=d-w*65536,d=A+w+65535,w=Math.floor(d/65536),A=d-w*65536,d=Y+w+65535,w=Math.floor(d/65536),Y=d-w*65536,d=te+w+65535,w=Math.floor(d/65536),te=d-w*65536,d=Q+w+65535,w=Math.floor(d/65536),Q=d-w*65536,d=J+w+65535,w=Math.floor(d/65536),J=d-w*65536,d=ie+w+65535,w=Math.floor(d/65536),ie=d-w*65536,d=ue+w+65535,w=Math.floor(d/65536),ue=d-w*65536,d=xe+w+65535,w=Math.floor(d/65536),xe=d-w*65536,d=ye+w+65535,w=Math.floor(d/65536),ye=d-w*65536,d=Fe+w+65535,w=Math.floor(d/65536),Fe=d-w*65536,Z+=w-1+37*(w-1),w=1,d=Z+w+65535,w=Math.floor(d/65536),Z=d-w*65536,d=B+w+65535,w=Math.floor(d/65536),B=d-w*65536,d=V+w+65535,w=Math.floor(d/65536),V=d-w*65536,d=ee+w+65535,w=Math.floor(d/65536),ee=d-w*65536,d=ae+w+65535,w=Math.floor(d/65536),ae=d-w*65536,d=E+w+65535,w=Math.floor(d/65536),E=d-w*65536,d=A+w+65535,w=Math.floor(d/65536),A=d-w*65536,d=Y+w+65535,w=Math.floor(d/65536),Y=d-w*65536,d=te+w+65535,w=Math.floor(d/65536),te=d-w*65536,d=Q+w+65535,w=Math.floor(d/65536),Q=d-w*65536,d=J+w+65535,w=Math.floor(d/65536),J=d-w*65536,d=ie+w+65535,w=Math.floor(d/65536),ie=d-w*65536,d=ue+w+65535,w=Math.floor(d/65536),ue=d-w*65536,d=xe+w+65535,w=Math.floor(d/65536),xe=d-w*65536,d=ye+w+65535,w=Math.floor(d/65536),ye=d-w*65536,d=Fe+w+65535,w=Math.floor(d/65536),Fe=d-w*65536,Z+=w-1+37*(w-1),D[0]=Z,D[1]=B,D[2]=V,D[3]=ee,D[4]=ae,D[5]=E,D[6]=A,D[7]=Y,D[8]=te,D[9]=Q,D[10]=J,D[11]=ie,D[12]=ue,D[13]=xe,D[14]=ye,D[15]=Fe}function _(D,T){b(D,T,T)}function x(D,T){const P=n();for(let d=0;d<16;d++)P[d]=T[d];for(let d=253;d>=0;d--)_(P,P),d!==2&&d!==4&&b(P,P,T);for(let d=0;d<16;d++)D[d]=P[d]}function N(D,T){const P=new Uint8Array(32),d=new Float64Array(80),w=n(),Z=n(),B=n(),V=n(),ee=n(),ae=n();for(let te=0;te<31;te++)P[te]=D[te];P[31]=D[31]&127|64,P[0]&=248,h(d,T);for(let te=0;te<16;te++)Z[te]=d[te];w[0]=V[0]=1;for(let te=254;te>=0;--te){const Q=P[te>>>3]>>>(te&7)&1;u(w,Z,Q),u(B,V,Q),p(ee,w,B),m(w,w,B),p(B,Z,V),m(Z,Z,V),_(V,ee),_(ae,w),b(w,B,w),b(B,Z,ee),p(ee,w,B),m(w,w,B),_(Z,w),m(B,V,ae),b(w,B,a),p(w,w,V),b(B,B,w),b(w,V,ae),b(V,Z,d),_(Z,ee),u(w,Z,Q),u(B,V,Q)}for(let te=0;te<16;te++)d[te+16]=w[te],d[te+32]=B[te],d[te+48]=Z[te],d[te+64]=V[te];const E=d.subarray(32),A=d.subarray(16);x(E,E),b(A,A,E);const Y=new Uint8Array(32);return f(Y,A),Y}t.scalarMult=N;function M(D){return N(D,s)}t.scalarMultBase=M;function z(D){if(D.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const T=new Uint8Array(D);return{publicKey:M(T),secretKey:T}}t.generateKeyPairFromSeed=z;function C(D){const T=(0,e.randomBytes)(32,D),P=z(T);return(0,r.wipe)(T),P}t.generateKeyPair=C;function L(D,T,P=!1){if(D.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(T.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const d=N(D,T);if(P){let w=0;for(let Z=0;Z<d.length;Z++)w|=d[Z];if(w===0)throw new Error("X25519: invalid shared key")}return d}t.sharedKey=L})(Hp);function zp(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Tw(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?zp(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Td(t,e){e||(e=t.reduce((s,a)=>s+a.length,0));const r=Tw(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return zp(r)}function s4(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(r[c]!==255)throw new TypeError(a+" is ambiguous");r[c]=s}var u=t.length,f=t.charAt(0),h=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function m(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";for(var N=0,M=0,z=0,C=x.length;z!==C&&x[z]===0;)z++,N++;for(var L=(C-z)*p+1>>>0,D=new Uint8Array(L);z!==C;){for(var T=x[z],P=0,d=L-1;(T!==0||P<M)&&d!==-1;d--,P++)T+=256*D[d]>>>0,D[d]=T%u>>>0,T=T/u>>>0;if(T!==0)throw new Error("Non-zero carry");M=P,z++}for(var w=L-M;w!==L&&D[w]===0;)w++;for(var Z=f.repeat(N);w<L;++w)Z+=t.charAt(D[w]);return Z}function b(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;var N=0;if(x[N]!==" "){for(var M=0,z=0;x[N]===f;)M++,N++;for(var C=(x.length-N)*h+1>>>0,L=new Uint8Array(C);x[N];){var D=r[x.charCodeAt(N)];if(D===255)return;for(var T=0,P=C-1;(D!==0||T<z)&&P!==-1;P--,T++)D+=u*L[P]>>>0,L[P]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");z=T,N++}if(x[N]!==" "){for(var d=C-z;d!==C&&L[d]===0;)d++;for(var w=new Uint8Array(M+(C-d)),Z=M;d!==C;)w[Z++]=L[d++];return w}}}function _(x){var N=b(x);if(N)return N;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:b,decode:_}}var o4=s4,a4=o4;const c4=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},u4=t=>new TextEncoder().encode(t),l4=t=>new TextDecoder().decode(t);class f4{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class h4{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Rw(this,e)}}class d4{constructor(e){this.decoders=e}or(e){return Rw(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Rw=(t,e)=>new d4({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class p4{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new f4(e,r,n),this.decoder=new h4(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Rl=({name:t,prefix:e,encode:r,decode:n})=>new p4(t,e,r,n),Qa=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=a4(r,e);return Rl({prefix:t,name:e,encode:n,decode:a=>c4(s(a))})},g4=(t,e,r,n)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*r/8|0);let u=0,f=0,h=0;for(let p=0;p<a;++p){const m=s[t[p]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|m,u+=r,u>=8&&(u-=8,c[h++]=255&f>>u)}if(u>=r||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return c},y4=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let a="",c=0,u=0;for(let f=0;f<t.length;++f)for(u=u<<8|t[f],c+=8;c>r;)c-=r,a+=e[s&u>>c];if(c&&(a+=e[s&u<<r-c]),n)for(;a.length*r&7;)a+="=";return a},vr=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Rl({prefix:e,name:t,encode(s){return y4(s,n,r)},decode(s){return g4(s,n,r,t)}}),m4=Rl({prefix:"\0",name:"identity",encode:t=>l4(t),decode:t=>u4(t)}),b4=Object.freeze(Object.defineProperty({__proto__:null,identity:m4},Symbol.toStringTag,{value:"Module"})),v4=vr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),w4=Object.freeze(Object.defineProperty({__proto__:null,base2:v4},Symbol.toStringTag,{value:"Module"})),_4=vr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),E4=Object.freeze(Object.defineProperty({__proto__:null,base8:_4},Symbol.toStringTag,{value:"Module"})),x4=Qa({prefix:"9",name:"base10",alphabet:"0123456789"}),P4=Object.freeze(Object.defineProperty({__proto__:null,base10:x4},Symbol.toStringTag,{value:"Module"})),S4=vr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),I4=vr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),D4=Object.freeze(Object.defineProperty({__proto__:null,base16:S4,base16upper:I4},Symbol.toStringTag,{value:"Module"})),O4=vr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),A4=vr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),C4=vr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),T4=vr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),R4=vr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),N4=vr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),$4=vr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),F4=vr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),M4=vr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),j4=Object.freeze(Object.defineProperty({__proto__:null,base32:O4,base32hex:R4,base32hexpad:$4,base32hexpadupper:F4,base32hexupper:N4,base32pad:C4,base32padupper:T4,base32upper:A4,base32z:M4},Symbol.toStringTag,{value:"Module"})),L4=Qa({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),U4=Qa({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),B4=Object.freeze(Object.defineProperty({__proto__:null,base36:L4,base36upper:U4},Symbol.toStringTag,{value:"Module"})),k4=Qa({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),H4=Qa({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),z4=Object.freeze(Object.defineProperty({__proto__:null,base58btc:k4,base58flickr:H4},Symbol.toStringTag,{value:"Module"})),q4=vr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),K4=vr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),V4=vr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),G4=vr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),W4=Object.freeze(Object.defineProperty({__proto__:null,base64:q4,base64pad:K4,base64url:V4,base64urlpad:G4},Symbol.toStringTag,{value:"Module"})),Nw=Array.from(""),Y4=Nw.reduce((t,e,r)=>(t[r]=e,t),[]),J4=Nw.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function X4(t){return t.reduce((e,r)=>(e+=Y4[r],e),"")}function Q4(t){const e=[];for(const r of t){const n=J4[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Z4=Rl({prefix:"",name:"base256emoji",encode:X4,decode:Q4}),eR=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Z4},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Em={...b4,...w4,...E4,...P4,...D4,...j4,...B4,...z4,...W4,...eR};function $w(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const xm=$w("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Ph=$w("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Tw(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Fw={utf8:xm,"utf-8":xm,hex:Em.base16,latin1:Ph,ascii:Ph,binary:Ph,...Em};function Kr(t,e="utf8"){const r=Fw[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?zp(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function jr(t,e="utf8"){const r=Fw[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var Pm=globalThis&&globalThis.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},tR=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),rR=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),nR=function(){function t(e,r,n,s){this.name=e,this.version=r,this.os=n,this.bot=s,this.type="bot-device"}return t}(),iR=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),sR=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),oR=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,aR=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Sm=3,cR=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",oR]],Im=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function uR(t){return t?Dm(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new sR:typeof navigator<"u"?Dm(navigator.userAgent):hR()}function lR(t){return t!==""&&cR.reduce(function(e,r){var n=r[0],s=r[1];if(e)return e;var a=s.exec(t);return!!a&&[n,a]},!1)}function Dm(t){var e=lR(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new iR;var s=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);s?s.length<Sm&&(s=Pm(Pm([],s,!0),dR(Sm-s.length),!0)):s=[];var a=s.join("."),c=fR(t),u=aR.exec(t);return u&&u[1]?new nR(r,a,c,u[1]):new tR(r,a,c)}function fR(t){for(var e=0,r=Im.length;e<r;e++){var n=Im[e],s=n[0],a=n[1],c=a.exec(t);if(c)return s}return null}function hR(){var t=typeof process<"u"&&process.version;return t?new rR(process.version.slice(1)):null}function dR(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var Ue={},Mw={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(t){var e,r,n,s,a,c,u,f,h,p,m,b,_,x,N,M,z,C,L,D,T,P,d;(function(w){var Z=typeof Pr=="object"?Pr:typeof self=="object"?self:typeof this=="object"?this:{};w(B(Z,B(t.exports)));function B(V,ee){return V!==Z&&(typeof Object.create=="function"?Object.defineProperty(V,"__esModule",{value:!0}):V.__esModule=!0),function(ae,E){return V[ae]=ee?ee(ae,E):E}}})(function(w){var Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,V){B.__proto__=V}||function(B,V){for(var ee in V)V.hasOwnProperty(ee)&&(B[ee]=V[ee])};e=function(B,V){Z(B,V);function ee(){this.constructor=B}B.prototype=V===null?Object.create(V):(ee.prototype=V.prototype,new ee)},r=Object.assign||function(B){for(var V,ee=1,ae=arguments.length;ee<ae;ee++){V=arguments[ee];for(var E in V)Object.prototype.hasOwnProperty.call(V,E)&&(B[E]=V[E])}return B},n=function(B,V){var ee={};for(var ae in B)Object.prototype.hasOwnProperty.call(B,ae)&&V.indexOf(ae)<0&&(ee[ae]=B[ae]);if(B!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,ae=Object.getOwnPropertySymbols(B);E<ae.length;E++)V.indexOf(ae[E])<0&&Object.prototype.propertyIsEnumerable.call(B,ae[E])&&(ee[ae[E]]=B[ae[E]]);return ee},s=function(B,V,ee,ae){var E=arguments.length,A=E<3?V:ae===null?ae=Object.getOwnPropertyDescriptor(V,ee):ae,Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(B,V,ee,ae);else for(var te=B.length-1;te>=0;te--)(Y=B[te])&&(A=(E<3?Y(A):E>3?Y(V,ee,A):Y(V,ee))||A);return E>3&&A&&Object.defineProperty(V,ee,A),A},a=function(B,V){return function(ee,ae){V(ee,ae,B)}},c=function(B,V){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(B,V)},u=function(B,V,ee,ae){function E(A){return A instanceof ee?A:new ee(function(Y){Y(A)})}return new(ee||(ee=Promise))(function(A,Y){function te(ie){try{J(ae.next(ie))}catch(ue){Y(ue)}}function Q(ie){try{J(ae.throw(ie))}catch(ue){Y(ue)}}function J(ie){ie.done?A(ie.value):E(ie.value).then(te,Q)}J((ae=ae.apply(B,V||[])).next())})},f=function(B,V){var ee={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},ae,E,A,Y;return Y={next:te(0),throw:te(1),return:te(2)},typeof Symbol=="function"&&(Y[Symbol.iterator]=function(){return this}),Y;function te(J){return function(ie){return Q([J,ie])}}function Q(J){if(ae)throw new TypeError("Generator is already executing.");for(;ee;)try{if(ae=1,E&&(A=J[0]&2?E.return:J[0]?E.throw||((A=E.return)&&A.call(E),0):E.next)&&!(A=A.call(E,J[1])).done)return A;switch(E=0,A&&(J=[J[0]&2,A.value]),J[0]){case 0:case 1:A=J;break;case 4:return ee.label++,{value:J[1],done:!1};case 5:ee.label++,E=J[1],J=[0];continue;case 7:J=ee.ops.pop(),ee.trys.pop();continue;default:if(A=ee.trys,!(A=A.length>0&&A[A.length-1])&&(J[0]===6||J[0]===2)){ee=0;continue}if(J[0]===3&&(!A||J[1]>A[0]&&J[1]<A[3])){ee.label=J[1];break}if(J[0]===6&&ee.label<A[1]){ee.label=A[1],A=J;break}if(A&&ee.label<A[2]){ee.label=A[2],ee.ops.push(J);break}A[2]&&ee.ops.pop(),ee.trys.pop();continue}J=V.call(B,ee)}catch(ie){J=[6,ie],E=0}finally{ae=A=0}if(J[0]&5)throw J[1];return{value:J[0]?J[1]:void 0,done:!0}}},d=function(B,V,ee,ae){ae===void 0&&(ae=ee),B[ae]=V[ee]},h=function(B,V){for(var ee in B)ee!=="default"&&!V.hasOwnProperty(ee)&&(V[ee]=B[ee])},p=function(B){var V=typeof Symbol=="function"&&Symbol.iterator,ee=V&&B[V],ae=0;if(ee)return ee.call(B);if(B&&typeof B.length=="number")return{next:function(){return B&&ae>=B.length&&(B=void 0),{value:B&&B[ae++],done:!B}}};throw new TypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")},m=function(B,V){var ee=typeof Symbol=="function"&&B[Symbol.iterator];if(!ee)return B;var ae=ee.call(B),E,A=[],Y;try{for(;(V===void 0||V-- >0)&&!(E=ae.next()).done;)A.push(E.value)}catch(te){Y={error:te}}finally{try{E&&!E.done&&(ee=ae.return)&&ee.call(ae)}finally{if(Y)throw Y.error}}return A},b=function(){for(var B=[],V=0;V<arguments.length;V++)B=B.concat(m(arguments[V]));return B},_=function(){for(var B=0,V=0,ee=arguments.length;V<ee;V++)B+=arguments[V].length;for(var ae=Array(B),E=0,V=0;V<ee;V++)for(var A=arguments[V],Y=0,te=A.length;Y<te;Y++,E++)ae[E]=A[Y];return ae},x=function(B){return this instanceof x?(this.v=B,this):new x(B)},N=function(B,V,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae=ee.apply(B,V||[]),E,A=[];return E={},Y("next"),Y("throw"),Y("return"),E[Symbol.asyncIterator]=function(){return this},E;function Y(xe){ae[xe]&&(E[xe]=function(ye){return new Promise(function(Fe,Pe){A.push([xe,ye,Fe,Pe])>1||te(xe,ye)})})}function te(xe,ye){try{Q(ae[xe](ye))}catch(Fe){ue(A[0][3],Fe)}}function Q(xe){xe.value instanceof x?Promise.resolve(xe.value.v).then(J,ie):ue(A[0][2],xe)}function J(xe){te("next",xe)}function ie(xe){te("throw",xe)}function ue(xe,ye){xe(ye),A.shift(),A.length&&te(A[0][0],A[0][1])}},M=function(B){var V,ee;return V={},ae("next"),ae("throw",function(E){throw E}),ae("return"),V[Symbol.iterator]=function(){return this},V;function ae(E,A){V[E]=B[E]?function(Y){return(ee=!ee)?{value:x(B[E](Y)),done:E==="return"}:A?A(Y):Y}:A}},z=function(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V=B[Symbol.asyncIterator],ee;return V?V.call(B):(B=typeof p=="function"?p(B):B[Symbol.iterator](),ee={},ae("next"),ae("throw"),ae("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function ae(A){ee[A]=B[A]&&function(Y){return new Promise(function(te,Q){Y=B[A](Y),E(te,Q,Y.done,Y.value)})}}function E(A,Y,te,Q){Promise.resolve(Q).then(function(J){A({value:J,done:te})},Y)}},C=function(B,V){return Object.defineProperty?Object.defineProperty(B,"raw",{value:V}):B.raw=V,B},L=function(B){if(B&&B.__esModule)return B;var V={};if(B!=null)for(var ee in B)Object.hasOwnProperty.call(B,ee)&&(V[ee]=B[ee]);return V.default=B,V},D=function(B){return B&&B.__esModule?B:{default:B}},T=function(B,V){if(!V.has(B))throw new TypeError("attempted to get private field on non-instance");return V.get(B)},P=function(B,V,ee){if(!V.has(B))throw new TypeError("attempted to set private field on non-instance");return V.set(B,ee),ee},w("__extends",e),w("__assign",r),w("__rest",n),w("__decorate",s),w("__param",a),w("__metadata",c),w("__awaiter",u),w("__generator",f),w("__exportStar",h),w("__createBinding",d),w("__values",p),w("__read",m),w("__spread",b),w("__spreadArrays",_),w("__await",x),w("__asyncGenerator",N),w("__asyncDelegator",M),w("__asyncValues",z),w("__makeTemplateObject",C),w("__importStar",L),w("__importDefault",D),w("__classPrivateFieldGet",T),w("__classPrivateFieldSet",P)})})(Mw);var En=Mw.exports,Sh={},la={},Om;function pR(){if(Om)return la;Om=1,Object.defineProperty(la,"__esModule",{value:!0}),la.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return la.delay=t,la}var gs={},Ih={},ys={},Am;function gR(){return Am||(Am=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.ONE_THOUSAND=ys.ONE_HUNDRED=void 0,ys.ONE_HUNDRED=100,ys.ONE_THOUSAND=1e3),ys}var Dh={},Cm;function yR(){return Cm||(Cm=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Dh)),Dh}var Tm;function jw(){return Tm||(Tm=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=En;e.__exportStar(gR(),t),e.__exportStar(yR(),t)}(Ih)),Ih}var Rm;function mR(){if(Rm)return gs;Rm=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.fromMiliseconds=gs.toMiliseconds=void 0;const t=jw();function e(n){return n*t.ONE_THOUSAND}gs.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return gs.fromMiliseconds=r,gs}var Nm;function bR(){return Nm||(Nm=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=En;e.__exportStar(pR(),t),e.__exportStar(mR(),t)}(Sh)),Sh}var so={},$m;function vR(){if($m)return so;$m=1,Object.defineProperty(so,"__esModule",{value:!0}),so.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const s=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:s})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return so.Watch=t,so.default=t,so}var Oh={},fa={},Fm;function wR(){if(Fm)return fa;Fm=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.IWatch=void 0;class t{}return fa.IWatch=t,fa}var Mm;function _R(){return Mm||(Mm=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),En.__exportStar(wR(),t)}(Oh)),Oh}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=En;e.__exportStar(bR(),t),e.__exportStar(vR(),t),e.__exportStar(_R(),t),e.__exportStar(jw(),t)})(Ue);var It={};Object.defineProperty(It,"__esModule",{value:!0});It.getLocalStorage=It.getLocalStorageOrThrow=It.getCrypto=It.getCryptoOrThrow=Uw=It.getLocation=It.getLocationOrThrow=qp=It.getNavigator=It.getNavigatorOrThrow=Lw=It.getDocument=It.getDocumentOrThrow=It.getFromWindowOrThrow=It.getFromWindow=void 0;function Ts(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}It.getFromWindow=Ts;function Uo(t){const e=Ts(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}It.getFromWindowOrThrow=Uo;function ER(){return Uo("document")}It.getDocumentOrThrow=ER;function xR(){return Ts("document")}var Lw=It.getDocument=xR;function PR(){return Uo("navigator")}It.getNavigatorOrThrow=PR;function SR(){return Ts("navigator")}var qp=It.getNavigator=SR;function IR(){return Uo("location")}It.getLocationOrThrow=IR;function DR(){return Ts("location")}var Uw=It.getLocation=DR;function OR(){return Uo("crypto")}It.getCryptoOrThrow=OR;function AR(){return Ts("crypto")}It.getCrypto=AR;function CR(){return Uo("localStorage")}It.getLocalStorageOrThrow=CR;function TR(){return Ts("localStorage")}It.getLocalStorage=TR;var Kp={};Object.defineProperty(Kp,"__esModule",{value:!0});var Bw=Kp.getWindowMetadata=void 0;const jm=It;function RR(){let t,e;try{t=jm.getDocumentOrThrow(),e=jm.getLocationOrThrow()}catch{return null}function r(){const m=t.getElementsByTagName("link"),b=[];for(let _=0;_<m.length;_++){const x=m[_],N=x.getAttribute("rel");if(N&&N.toLowerCase().indexOf("icon")>-1){const M=x.getAttribute("href");if(M)if(M.toLowerCase().indexOf("https:")===-1&&M.toLowerCase().indexOf("http:")===-1&&M.indexOf("//")!==0){let z=e.protocol+"//"+e.host;if(M.indexOf("/")===0)z+=M;else{const C=e.pathname.split("/");C.pop();const L=C.join("/");z+=L+"/"+M}b.push(z)}else if(M.indexOf("//")===0){const z=e.protocol+M;b.push(z)}else b.push(M)}}return b}function n(...m){const b=t.getElementsByTagName("meta");for(let _=0;_<b.length;_++){const x=b[_],N=["itemprop","property","name"].map(M=>x.getAttribute(M)).filter(M=>M?m.includes(M):!1);if(N.length&&N){const M=x.getAttribute("content");if(M)return M}}return""}function s(){let m=n("name","og:site_name","og:title","twitter:title");return m||(m=t.title),m}function a(){return n("description","og:description","twitter:description","keywords")}const c=s(),u=a(),f=e.origin,h=r();return{description:u,url:f,icons:h,name:c}}Bw=Kp.getWindowMetadata=RR;var qa={},NR=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),kw="%[a-f0-9]{2}",Lm=new RegExp("("+kw+")|([^%]+?)","gi"),Um=new RegExp("("+kw+")+","gi");function Rd(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],Rd(r),Rd(n))}function $R(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(Lm)||[],r=1;r<e.length;r++)t=Rd(e,r).join(""),e=t.match(Lm)||[];return t}}function FR(t){for(var e={"%FE%FF":"","%FF%FE":""},r=Um.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=$R(r[0]);n!==r[0]&&(e[r[0]]=n)}r=Um.exec(t)}e["%C2"]="";for(var s=Object.keys(e),a=0;a<s.length;a++){var c=s[a];t=t.replace(new RegExp(c,"g"),e[c])}return t}var MR=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return FR(t)}},jR=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]},LR=function(t,e){for(var r={},n=Object.keys(t),s=Array.isArray(e),a=0;a<n.length;a++){var c=n[a],u=t[c];(s?e.indexOf(c)!==-1:e(c,u,t))&&(r[c]=u)}return r};(function(t){const e=NR,r=MR,n=jR,s=LR,a=C=>C==null,c=Symbol("encodeFragmentIdentifier");function u(C){switch(C.arrayFormat){case"index":return L=>(D,T)=>{const P=D.length;return T===void 0||C.skipNull&&T===null||C.skipEmptyString&&T===""?D:T===null?[...D,[p(L,C),"[",P,"]"].join("")]:[...D,[p(L,C),"[",p(P,C),"]=",p(T,C)].join("")]};case"bracket":return L=>(D,T)=>T===void 0||C.skipNull&&T===null||C.skipEmptyString&&T===""?D:T===null?[...D,[p(L,C),"[]"].join("")]:[...D,[p(L,C),"[]=",p(T,C)].join("")];case"colon-list-separator":return L=>(D,T)=>T===void 0||C.skipNull&&T===null||C.skipEmptyString&&T===""?D:T===null?[...D,[p(L,C),":list="].join("")]:[...D,[p(L,C),":list=",p(T,C)].join("")];case"comma":case"separator":case"bracket-separator":{const L=C.arrayFormat==="bracket-separator"?"[]=":"=";return D=>(T,P)=>P===void 0||C.skipNull&&P===null||C.skipEmptyString&&P===""?T:(P=P===null?"":P,T.length===0?[[p(D,C),L,p(P,C)].join("")]:[[T,p(P,C)].join(C.arrayFormatSeparator)])}default:return L=>(D,T)=>T===void 0||C.skipNull&&T===null||C.skipEmptyString&&T===""?D:T===null?[...D,p(L,C)]:[...D,[p(L,C),"=",p(T,C)].join("")]}}function f(C){let L;switch(C.arrayFormat){case"index":return(D,T,P)=>{if(L=/\[(\d*)\]$/.exec(D),D=D.replace(/\[\d*\]$/,""),!L){P[D]=T;return}P[D]===void 0&&(P[D]={}),P[D][L[1]]=T};case"bracket":return(D,T,P)=>{if(L=/(\[\])$/.exec(D),D=D.replace(/\[\]$/,""),!L){P[D]=T;return}if(P[D]===void 0){P[D]=[T];return}P[D]=[].concat(P[D],T)};case"colon-list-separator":return(D,T,P)=>{if(L=/(:list)$/.exec(D),D=D.replace(/:list$/,""),!L){P[D]=T;return}if(P[D]===void 0){P[D]=[T];return}P[D]=[].concat(P[D],T)};case"comma":case"separator":return(D,T,P)=>{const d=typeof T=="string"&&T.includes(C.arrayFormatSeparator),w=typeof T=="string"&&!d&&m(T,C).includes(C.arrayFormatSeparator);T=w?m(T,C):T;const Z=d||w?T.split(C.arrayFormatSeparator).map(B=>m(B,C)):T===null?T:m(T,C);P[D]=Z};case"bracket-separator":return(D,T,P)=>{const d=/(\[\])$/.test(D);if(D=D.replace(/\[\]$/,""),!d){P[D]=T&&m(T,C);return}const w=T===null?[]:T.split(C.arrayFormatSeparator).map(Z=>m(Z,C));if(P[D]===void 0){P[D]=w;return}P[D]=[].concat(P[D],w)};default:return(D,T,P)=>{if(P[D]===void 0){P[D]=T;return}P[D]=[].concat(P[D],T)}}}function h(C){if(typeof C!="string"||C.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function p(C,L){return L.encode?L.strict?e(C):encodeURIComponent(C):C}function m(C,L){return L.decode?r(C):C}function b(C){return Array.isArray(C)?C.sort():typeof C=="object"?b(Object.keys(C)).sort((L,D)=>Number(L)-Number(D)).map(L=>C[L]):C}function _(C){const L=C.indexOf("#");return L!==-1&&(C=C.slice(0,L)),C}function x(C){let L="";const D=C.indexOf("#");return D!==-1&&(L=C.slice(D)),L}function N(C){C=_(C);const L=C.indexOf("?");return L===-1?"":C.slice(L+1)}function M(C,L){return L.parseNumbers&&!Number.isNaN(Number(C))&&typeof C=="string"&&C.trim()!==""?C=Number(C):L.parseBooleans&&C!==null&&(C.toLowerCase()==="true"||C.toLowerCase()==="false")&&(C=C.toLowerCase()==="true"),C}function z(C,L){L=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},L),h(L.arrayFormatSeparator);const D=f(L),T=Object.create(null);if(typeof C!="string"||(C=C.trim().replace(/^[?#&]/,""),!C))return T;for(const P of C.split("&")){if(P==="")continue;let[d,w]=n(L.decode?P.replace(/\+/g," "):P,"=");w=w===void 0?null:["comma","separator","bracket-separator"].includes(L.arrayFormat)?w:m(w,L),D(m(d,L),w,T)}for(const P of Object.keys(T)){const d=T[P];if(typeof d=="object"&&d!==null)for(const w of Object.keys(d))d[w]=M(d[w],L);else T[P]=M(d,L)}return L.sort===!1?T:(L.sort===!0?Object.keys(T).sort():Object.keys(T).sort(L.sort)).reduce((P,d)=>{const w=T[d];return w&&typeof w=="object"&&!Array.isArray(w)?P[d]=b(w):P[d]=w,P},Object.create(null))}t.extract=N,t.parse=z,t.stringify=(C,L)=>{if(!C)return"";L=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},L),h(L.arrayFormatSeparator);const D=w=>L.skipNull&&a(C[w])||L.skipEmptyString&&C[w]==="",T=u(L),P={};for(const w of Object.keys(C))D(w)||(P[w]=C[w]);const d=Object.keys(P);return L.sort!==!1&&d.sort(L.sort),d.map(w=>{const Z=C[w];return Z===void 0?"":Z===null?p(w,L):Array.isArray(Z)?Z.length===0&&L.arrayFormat==="bracket-separator"?p(w,L)+"[]":Z.reduce(T(w),[]).join("&"):p(w,L)+"="+p(Z,L)}).filter(w=>w.length>0).join("&")},t.parseUrl=(C,L)=>{L=Object.assign({decode:!0},L);const[D,T]=n(C,"#");return Object.assign({url:D.split("?")[0]||"",query:z(N(C),L)},L&&L.parseFragmentIdentifier&&T?{fragmentIdentifier:m(T,L)}:{})},t.stringifyUrl=(C,L)=>{L=Object.assign({encode:!0,strict:!0,[c]:!0},L);const D=_(C.url).split("?")[0]||"",T=t.extract(C.url),P=t.parse(T,{sort:!1}),d=Object.assign(P,C.query);let w=t.stringify(d,L);w&&(w=`?${w}`);let Z=x(C.url);return C.fragmentIdentifier&&(Z=`#${L[c]?p(C.fragmentIdentifier,L):C.fragmentIdentifier}`),`${D}${w}${Z}`},t.pick=(C,L,D)=>{D=Object.assign({parseFragmentIdentifier:!0,[c]:!1},D);const{url:T,query:P,fragmentIdentifier:d}=t.parseUrl(C,D);return t.stringifyUrl({url:T,query:s(P,L),fragmentIdentifier:d},D)},t.exclude=(C,L,D)=>{const T=Array.isArray(L)?P=>!L.includes(P):(P,d)=>!L(P,d);return t.pick(C,T,D)}})(qa);const UR={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function BR(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const s=t[n];r.push(...s.accounts)}),r}function Hw(t,e){return t.includes(":")?[t]:e.chains||[]}const zw="base10",Mr="base16",Nd="base64pad",Vp="utf8",qw=0,Rs=1,kR=0,Bm=1,$d=12,Gp=32;function HR(){const t=Hp.generateKeyPair();return{privateKey:jr(t.secretKey,Mr),publicKey:jr(t.publicKey,Mr)}}function Fd(){const t=Lo.randomBytes(Gp);return jr(t,Mr)}function zR(t,e){const r=Hp.sharedKey(Kr(t,Mr),Kr(e,Mr)),n=new WT(Tl.SHA256,r).expand(Gp);return jr(n,Mr)}function qR(t){const e=Tl.hash(Kr(t,Mr));return jr(e,Mr)}function vo(t){const e=Tl.hash(Kr(t,Vp));return jr(e,Mr)}function KR(t){return Kr(`${t}`,zw)}function Za(t){return Number(jr(t,zw))}function VR(t){const e=KR(typeof t.type<"u"?t.type:qw);if(Za(e)===Rs&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?Kr(t.senderPublicKey,Mr):void 0,n=typeof t.iv<"u"?Kr(t.iv,Mr):Lo.randomBytes($d),s=new Bp.ChaCha20Poly1305(Kr(t.symKey,Mr)).seal(n,Kr(t.message,Vp));return WR({type:e,sealed:s,iv:n,senderPublicKey:r})}function GR(t){const e=new Bp.ChaCha20Poly1305(Kr(t.symKey,Mr)),{sealed:r,iv:n}=qu(t.encoded),s=e.open(n,r);if(s===null)throw new Error("Failed to decrypt");return jr(s,Vp)}function WR(t){if(Za(t.type)===Rs){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return jr(Td([t.type,t.senderPublicKey,t.iv,t.sealed]),Nd)}return jr(Td([t.type,t.iv,t.sealed]),Nd)}function qu(t){const e=Kr(t,Nd),r=e.slice(kR,Bm),n=Bm;if(Za(r)===Rs){const u=n+Gp,f=u+$d,h=e.slice(n,u),p=e.slice(u,f),m=e.slice(f);return{type:r,sealed:m,iv:p,senderPublicKey:h}}const s=n+$d,a=e.slice(n,s),c=e.slice(s);return{type:r,sealed:c,iv:a}}function YR(t,e){const r=qu(t);return Kw({type:Za(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?jr(r.senderPublicKey,Mr):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function Kw(t){const e=(t==null?void 0:t.type)||qw;if(e===Rs){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function km(t){return t.type===Rs&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}var JR=Object.defineProperty,Hm=Object.getOwnPropertySymbols,XR=Object.prototype.hasOwnProperty,QR=Object.prototype.propertyIsEnumerable,zm=(t,e,r)=>e in t?JR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qm=(t,e)=>{for(var r in e||(e={}))XR.call(e,r)&&zm(t,r,e[r]);if(Hm)for(var r of Hm(e))QR.call(e,r)&&zm(t,r,e[r]);return t};const ZR="ReactNative",xs={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},eN="js";function Wp(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Vw(){return!Lw()&&!!qp()&&navigator.product===ZR}function Yp(){return!Wp()&&!!qp()}function Gw(){return Vw()?xs.reactNative:Wp()?xs.node:Yp()?xs.browser:xs.unknown}function tN(t,e){let r=qa.parse(t);return r=qm(qm({},r),e),t=qa.stringify(r),t}function rN(){return Bw()||{name:"",description:"",url:"",icons:[""]}}function nN(){const t=uR();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function iN(){var t;const e=Gw();return e===xs.browser?[e,((t=Uw())==null?void 0:t.host)||"unknown"].join(":"):e}function sN(t,e,r){const n=nN(),s=iN();return[[t,e].join("-"),[eN,r].join("-"),n,s].join("/")}function oN({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:s,projectId:a,useOnCloseEvent:c}){const u=r.split("?"),f=sN(t,e,n),h={auth:s,ua:f,projectId:a,useOnCloseEvent:c||void 0},p=tN(u[1]||"",h);return u[0]+"?"+p}function Ps(t,e){return t.filter(r=>e.includes(r)).length===t.length}function Ww(t){return Object.fromEntries(t.entries())}function Yw(t){return new Map(Object.entries(t))}function co(t=Ue.FIVE_MINUTES,e){const r=Ue.toMiliseconds(t||Ue.FIVE_MINUTES);let n,s,a;return{resolve:c=>{a&&n&&(clearTimeout(a),n(c))},reject:c=>{a&&s&&(clearTimeout(a),s(c))},done:()=>new Promise((c,u)=>{a=setTimeout(()=>{u(new Error(e))},r),n=c,s=u})}}function Ku(t,e,r){return new Promise(async(n,s)=>{const a=setTimeout(()=>s(new Error(r)),e);try{const c=await t;n(c)}catch(c){s(c)}clearTimeout(a)})}function Jw(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function aN(t){return Jw("topic",t)}function cN(t){return Jw("id",t)}function Xw(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Vn(t,e){return Ue.fromMiliseconds((e||Date.now())+Ue.toMiliseconds(t))}function ji(t){return Date.now()>=Ue.toMiliseconds(t)}function ar(t,e){return`${t}${e?`:${e}`:""}`}function Ah(t=[],e=[]){return[...new Set([...t,...e])]}const uN="irn";function Md(t){return(t==null?void 0:t.relay)||{protocol:uN}}function Iu(t){const e=UR[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var lN=Object.defineProperty,Km=Object.getOwnPropertySymbols,fN=Object.prototype.hasOwnProperty,hN=Object.prototype.propertyIsEnumerable,Vm=(t,e,r)=>e in t?lN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dN=(t,e)=>{for(var r in e||(e={}))fN.call(e,r)&&Vm(t,r,e[r]);if(Km)for(var r of Km(e))hN.call(e,r)&&Vm(t,r,e[r]);return t};function pN(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(n)){const a=s.replace(n,""),c=t[s];r[a]=c}}),r}function gN(t){const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r).split("@"),a=typeof r<"u"?t.substring(r):"",c=qa.parse(a);return{protocol:n,topic:yN(s[0]),version:parseInt(s[1],10),symKey:c.symKey,relay:pN(c)}}function yN(t){return t.startsWith("//")?t.substring(2):t}function mN(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(s=>{const a=r+e+s;t[s]&&(n[a]=t[s])}),n}function bN(t){return`${t.protocol}:${t.topic}@${t.version}?`+qa.stringify(dN({symKey:t.symKey},mN(t.relay)))}function Bo(t){const e=[];return t.forEach(r=>{const[n,s]=r.split(":");e.push(`${n}:${s}`)}),e}function vN(t){const e=[];return Object.values(t).forEach(r=>{e.push(...Bo(r.accounts))}),e}function wN(t,e){const r=[];return Object.values(t).forEach(n=>{Bo(n.accounts).includes(e)&&r.push(...n.methods)}),r}function _N(t,e){const r=[];return Object.values(t).forEach(n=>{Bo(n.accounts).includes(e)&&r.push(...n.events)}),r}function EN(t,e){const r=Ou(t,e);if(r)throw new Error(r.message);const n={};for(const[s,a]of Object.entries(t))n[s]={methods:a.methods,events:a.events,chains:a.accounts.map(c=>`${c.split(":")[0]}:${c.split(":")[1]}`)};return n}function Qw(t){return t.includes(":")}function Du(t){return Qw(t)?t.split(":")[0]:t}const xN={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},PN={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ce(t,e){const{message:r,code:n}=PN[t];return{message:e?`${r} ${e}`:r,code:n}}function Jt(t,e){const{message:r,code:n}=xN[t];return{message:e?`${r} ${e}`:r,code:n}}function bi(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function wo(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function $r(t){return typeof t>"u"}function gr(t,e){return e&&$r(t)?!0:typeof t=="string"&&!!t.trim().length}function Jp(t,e){return e&&$r(t)?!0:typeof t=="number"&&!isNaN(t)}function SN(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),s=Object.keys(r);let a=!0;return Ps(s,n)?(n.forEach(c=>{const{accounts:u,methods:f,events:h}=t.namespaces[c],p=Bo(u),m=r[c];(!Ps(Hw(c,m),p)||!Ps(m.methods,f)||!Ps(m.events,h))&&(a=!1)}),a):!1}function Xp(t){return gr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function IN(t){if(gr(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&Xp(r)}}return!1}function DN(t){if(gr(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function ON(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function AN(t){return t==null?void 0:t.topic}function CN(t,e){let r=null;return gr(t==null?void 0:t.publicKey,!1)||(r=Ce("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function Gm(t){let e=!0;return bi(t)?t.length&&(e=t.every(r=>gr(r,!1))):e=!1,e}function TN(t,e,r){let n=null;return bi(e)?e.forEach(s=>{n||(!Xp(s)||!s.includes(t))&&(n=Jt("UNSUPPORTED_CHAINS",`${r}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):n=Jt("UNSUPPORTED_CHAINS",`${r}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),n}function RN(t,e){let r=null;return Object.entries(t).forEach(([n,s])=>{if(r)return;const a=TN(n,Hw(n,s),`${e} requiredNamespace`);a&&(r=a)}),r}function NN(t,e){let r=null;return bi(t)?t.forEach(n=>{r||IN(n)||(r=Jt("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Jt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function $N(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const s=NN(n==null?void 0:n.accounts,`${e} namespace`);s&&(r=s)}),r}function FN(t,e){let r=null;return Gm(t==null?void 0:t.methods)?Gm(t==null?void 0:t.events)||(r=Jt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Jt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function Zw(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const s=FN(n,`${e}, namespace`);s&&(r=s)}),r}function MN(t,e,r){let n=null;if(t&&wo(t)){const s=Zw(t,e);s&&(n=s);const a=RN(t,e);a&&(n=a)}else n=Ce("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function Ou(t,e){let r=null;if(t&&wo(t)){const n=Zw(t,e);n&&(r=n);const s=$N(t,e);s&&(r=s)}else r=Ce("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function e_(t){return gr(t.protocol,!0)}function jN(t,e){let r=!1;return e&&!t?r=!0:t&&bi(t)&&t.length&&t.forEach(n=>{r=e_(n)}),r}function LN(t){return typeof t=="number"}function qr(t){return typeof t<"u"&&typeof t!==null}function UN(t){return!(!t||typeof t!="object"||!t.code||!Jp(t.code,!1)||!t.message||!gr(t.message,!1))}function BN(t){return!($r(t)||!gr(t.method,!1))}function kN(t){return!($r(t)||$r(t.result)&&$r(t.error)||!Jp(t.id,!1)||!gr(t.jsonrpc,!1))}function HN(t){return!($r(t)||!gr(t.name,!1))}function Wm(t,e){return!(!Xp(e)||!vN(t).includes(e))}function zN(t,e,r){return gr(r,!1)?wN(t,e).includes(r):!1}function qN(t,e,r){return gr(r,!1)?_N(t,e).includes(r):!1}function Ym(t,e,r){let n=null;const s=KN(t),a=VN(e),c=Object.keys(s),u=Object.keys(a),f=Jm(Object.keys(t)),h=Jm(Object.keys(e)),p=f.filter(m=>!h.includes(m));return p.length&&(n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(e).toString()}`)),Ps(c,u)||(n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${u.toString()}`)),Object.keys(e).forEach(m=>{if(!m.includes(":")||n)return;const b=Bo(e[m].accounts);b.includes(m)||(n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${m}
        Required: ${m}
        Approved: ${b.toString()}`))}),c.forEach(m=>{n||(Ps(s[m].methods,a[m].methods)?Ps(s[m].events,a[m].events)||(n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${m}`)):n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${m}`))}),n}function KN(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(s=>{e[s]={methods:t[r].methods,events:t[r].events}})}),e}function Jm(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function VN(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=Bo(t[r].accounts);n==null||n.forEach(s=>{e[s]={accounts:t[r].accounts.filter(a=>a.includes(`${s}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function GN(t,e){return Jp(t,!1)&&t<=e.max&&t>=e.min}var Nl={},ec={};Object.defineProperty(ec,"__esModule",{value:!0});function WN(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}ec.safeJsonParse=WN;function YN(t){return typeof t=="string"?t:JSON.stringify(t,(e,r)=>typeof r>"u"?null:r)}ec.safeJsonStringify=YN;var ha={exports:{}},Xm;function JN(){return Xm||(Xm=1,function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Pr<"u"&&Pr.localStorage?ha.exports=Pr.localStorage:typeof window<"u"&&window.localStorage?ha.exports=window.localStorage:ha.exports=new e}()),ha.exports}var Ch={},da={},Qm;function XN(){if(Qm)return da;Qm=1,Object.defineProperty(da,"__esModule",{value:!0}),da.IKeyValueStorage=void 0;class t{}return da.IKeyValueStorage=t,da}var pa={},Zm;function QN(){if(Zm)return pa;Zm=1,Object.defineProperty(pa,"__esModule",{value:!0}),pa.parseEntry=void 0;const t=ec;function e(r){var n;return[r[0],t.safeJsonParse((n=r[1])!==null&&n!==void 0?n:"")]}return pa.parseEntry=e,pa}var eb;function ZN(){return eb||(eb=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=En;e.__exportStar(XN(),t),e.__exportStar(QN(),t)}(Ch)),Ch}Object.defineProperty(Nl,"__esModule",{value:!0});Nl.KeyValueStorage=void 0;const uo=En,tb=ec,e$=uo.__importDefault(JN()),t$=ZN();class t_{constructor(){this.localStorage=e$.default}getKeys(){return uo.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return uo.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(t$.parseEntry)})}getItem(e){return uo.__awaiter(this,void 0,void 0,function*(){const r=this.localStorage.getItem(e);if(r!==null)return tb.safeJsonParse(r)})}setItem(e,r){return uo.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,tb.safeJsonStringify(r))})}removeItem(e){return uo.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}}Nl.KeyValueStorage=t_;var r$=Nl.default=t_,tc={},ga={},Th={},ya={};let Ns=class{};const n$=Object.freeze(Object.defineProperty({__proto__:null,IEvents:Ns},Symbol.toStringTag,{value:"Module"})),i$=fw(n$);var rb;function s$(){if(rb)return ya;rb=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.IHeartBeat=void 0;const t=i$;class e extends t.IEvents{constructor(n){super()}}return ya.IHeartBeat=e,ya}var nb;function r_(){return nb||(nb=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),En.__exportStar(s$(),t)}(Th)),Th}var Rh={},ms={},ib;function o$(){if(ib)return ms;ib=1,Object.defineProperty(ms,"__esModule",{value:!0}),ms.HEARTBEAT_EVENTS=ms.HEARTBEAT_INTERVAL=void 0;const t=Ue;return ms.HEARTBEAT_INTERVAL=t.FIVE_SECONDS,ms.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},ms}var sb;function n_(){return sb||(sb=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),En.__exportStar(o$(),t)}(Rh)),Rh}var ob;function a$(){if(ob)return ga;ob=1,Object.defineProperty(ga,"__esModule",{value:!0}),ga.HeartBeat=void 0;const t=En,e=an,r=Ue,n=r_(),s=n_();class a extends n.IHeartBeat{constructor(u){super(u),this.events=new e.EventEmitter,this.interval=s.HEARTBEAT_INTERVAL,this.interval=(u==null?void 0:u.interval)||s.HEARTBEAT_INTERVAL}static init(u){return t.__awaiter(this,void 0,void 0,function*(){const f=new a(u);return yield f.init(),f})}init(){return t.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(u,f){this.events.on(u,f)}once(u,f){this.events.once(u,f)}off(u,f){this.events.off(u,f)}removeListener(u,f){this.events.removeListener(u,f)}initialize(){return t.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),r.toMiliseconds(this.interval))})}pulse(){this.events.emit(s.HEARTBEAT_EVENTS.pulse)}}return ga.HeartBeat=a,ga}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=En;e.__exportStar(a$(),t),e.__exportStar(r_(),t),e.__exportStar(n_(),t)})(tc);var ut={},Nh,ab;function c$(){if(ab)return Nh;ab=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}Nh=e;function e(r,n,s){var a=s&&s.stringify||t,c=1;if(typeof r=="object"&&r!==null){var u=n.length+c;if(u===1)return r;var f=new Array(u);f[0]=a(r);for(var h=1;h<u;h++)f[h]=a(n[h]);return f.join(" ")}if(typeof r!="string")return r;var p=n.length;if(p===0)return r;for(var m="",b=1-c,_=-1,x=r&&r.length||0,N=0;N<x;){if(r.charCodeAt(N)===37&&N+1<x){switch(_=_>-1?_:0,r.charCodeAt(N+1)){case 100:case 102:if(b>=p||n[b]==null)break;_<N&&(m+=r.slice(_,N)),m+=Number(n[b]),_=N+2,N++;break;case 105:if(b>=p||n[b]==null)break;_<N&&(m+=r.slice(_,N)),m+=Math.floor(Number(n[b])),_=N+2,N++;break;case 79:case 111:case 106:if(b>=p||n[b]===void 0)break;_<N&&(m+=r.slice(_,N));var M=typeof n[b];if(M==="string"){m+="'"+n[b]+"'",_=N+2,N++;break}if(M==="function"){m+=n[b].name||"<anonymous>",_=N+2,N++;break}m+=a(n[b]),_=N+2,N++;break;case 115:if(b>=p)break;_<N&&(m+=r.slice(_,N)),m+=String(n[b]),_=N+2,N++;break;case 37:_<N&&(m+=r.slice(_,N)),m+="%",_=N+2,N++,b--;break}++b}++N}return _===-1?r:(_<x&&(m+=r.slice(_)),m)}return Nh}var $h,cb;function u$(){if(cb)return $h;cb=1;const t=c$();$h=s;const e=T().console||{},r={mapHttpRequest:x,mapHttpResponse:x,wrapRequestSerializer:N,wrapResponseSerializer:N,wrapErrorSerializer:N,req:x,res:x,err:b};function n(P,d){return Array.isArray(P)?P.filter(function(Z){return Z!=="!stdSerializers.err"}):P===!0?Object.keys(d):!1}function s(P){P=P||{},P.browser=P.browser||{};const d=P.browser.transmit;if(d&&typeof d.send!="function")throw Error("pino: transmit option must have a send function");const w=P.browser.write||e;P.browser.write&&(P.browser.asObject=!0);const Z=P.serializers||{},B=n(P.browser.serialize,Z);let V=P.browser.serialize;Array.isArray(P.browser.serialize)&&P.browser.serialize.indexOf("!stdSerializers.err")>-1&&(V=!1);const ee=["error","fatal","warn","info","debug","trace"];typeof w=="function"&&(w.error=w.fatal=w.warn=w.info=w.debug=w.trace=w),P.enabled===!1&&(P.level="silent");const ae=P.level||"info",E=Object.create(w);E.log||(E.log=M),Object.defineProperty(E,"levelVal",{get:Y}),Object.defineProperty(E,"level",{get:te,set:Q});const A={transmit:d,serialize:B,asObject:P.browser.asObject,levels:ee,timestamp:_(P)};E.levels=s.levels,E.level=ae,E.setMaxListeners=E.getMaxListeners=E.emit=E.addListener=E.on=E.prependListener=E.once=E.prependOnceListener=E.removeListener=E.removeAllListeners=E.listeners=E.listenerCount=E.eventNames=E.write=E.flush=M,E.serializers=Z,E._serialize=B,E._stdErrSerialize=V,E.child=J,d&&(E._logEvent=m());function Y(){return this.level==="silent"?1/0:this.levels.values[this.level]}function te(){return this._level}function Q(ie){if(ie!=="silent"&&!this.levels.values[ie])throw Error("unknown level "+ie);this._level=ie,a(A,E,"error","log"),a(A,E,"fatal","error"),a(A,E,"warn","error"),a(A,E,"info","log"),a(A,E,"debug","log"),a(A,E,"trace","log")}function J(ie,ue){if(!ie)throw new Error("missing bindings for child Pino");ue=ue||{},B&&ie.serializers&&(ue.serializers=ie.serializers);const xe=ue.serializers;if(B&&xe){var ye=Object.assign({},Z,xe),Fe=P.browser.serialize===!0?Object.keys(ye):B;delete ie.serializers,f([ie],Fe,ye,this._stdErrSerialize)}function Pe(Te){this._childLevel=(Te._childLevel|0)+1,this.error=h(Te,ie,"error"),this.fatal=h(Te,ie,"fatal"),this.warn=h(Te,ie,"warn"),this.info=h(Te,ie,"info"),this.debug=h(Te,ie,"debug"),this.trace=h(Te,ie,"trace"),ye&&(this.serializers=ye,this._serialize=Fe),d&&(this._logEvent=m([].concat(Te._logEvent.bindings,ie)))}return Pe.prototype=this,new Pe(this)}return E}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=r,s.stdTimeFunctions=Object.assign({},{nullTime:z,epochTime:C,unixTime:L,isoTime:D});function a(P,d,w,Z){const B=Object.getPrototypeOf(d);d[w]=d.levelVal>d.levels.values[w]?M:B[w]?B[w]:e[w]||e[Z]||M,c(P,d,w)}function c(P,d,w){!P.transmit&&d[w]===M||(d[w]=function(Z){return function(){const V=P.timestamp(),ee=new Array(arguments.length),ae=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var E=0;E<ee.length;E++)ee[E]=arguments[E];if(P.serialize&&!P.asObject&&f(ee,this._serialize,this.serializers,this._stdErrSerialize),P.asObject?Z.call(ae,u(this,w,ee,V)):Z.apply(ae,ee),P.transmit){const A=P.transmit.level||d.level,Y=s.levels.values[A],te=s.levels.values[w];if(te<Y)return;p(this,{ts:V,methodLevel:w,methodValue:te,transmitLevel:A,transmitValue:s.levels.values[P.transmit.level||d.level],send:P.transmit.send,val:d.levelVal},ee)}}}(d[w]))}function u(P,d,w,Z){P._serialize&&f(w,P._serialize,P.serializers,P._stdErrSerialize);const B=w.slice();let V=B[0];const ee={};Z&&(ee.time=Z),ee.level=s.levels.values[d];let ae=(P._childLevel|0)+1;if(ae<1&&(ae=1),V!==null&&typeof V=="object"){for(;ae--&&typeof B[0]=="object";)Object.assign(ee,B.shift());V=B.length?t(B.shift(),B):void 0}else typeof V=="string"&&(V=t(B.shift(),B));return V!==void 0&&(ee.msg=V),ee}function f(P,d,w,Z){for(const B in P)if(Z&&P[B]instanceof Error)P[B]=s.stdSerializers.err(P[B]);else if(typeof P[B]=="object"&&!Array.isArray(P[B]))for(const V in P[B])d&&d.indexOf(V)>-1&&V in w&&(P[B][V]=w[V](P[B][V]))}function h(P,d,w){return function(){const Z=new Array(1+arguments.length);Z[0]=d;for(var B=1;B<Z.length;B++)Z[B]=arguments[B-1];return P[w].apply(this,Z)}}function p(P,d,w){const Z=d.send,B=d.ts,V=d.methodLevel,ee=d.methodValue,ae=d.val,E=P._logEvent.bindings;f(w,P._serialize||Object.keys(P.serializers),P.serializers,P._stdErrSerialize===void 0?!0:P._stdErrSerialize),P._logEvent.ts=B,P._logEvent.messages=w.filter(function(A){return E.indexOf(A)===-1}),P._logEvent.level.label=V,P._logEvent.level.value=ee,Z(V,P._logEvent,ae),P._logEvent=m(E)}function m(P){return{ts:0,messages:[],bindings:P||[],level:{label:"",value:0}}}function b(P){const d={type:P.constructor.name,msg:P.message,stack:P.stack};for(const w in P)d[w]===void 0&&(d[w]=P[w]);return d}function _(P){return typeof P.timestamp=="function"?P.timestamp:P.timestamp===!1?z:C}function x(){return{}}function N(P){return P}function M(){}function z(){return!1}function C(){return Date.now()}function L(){return Math.round(Date.now()/1e3)}function D(){return new Date(Date.now()).toISOString()}function T(){function P(d){return typeof d<"u"&&d}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return P(self)||P(window)||P(this)||{}}}return $h}var bs={},ub;function i_(){return ub||(ub=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.PINO_CUSTOM_CONTEXT_KEY=bs.PINO_LOGGER_DEFAULTS=void 0,bs.PINO_LOGGER_DEFAULTS={level:"info"},bs.PINO_CUSTOM_CONTEXT_KEY="custom_context"),bs}var Tr={},lb;function l$(){if(lb)return Tr;lb=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.generateChildLogger=Tr.formatChildLoggerContext=Tr.getLoggerContext=Tr.setBrowserLoggerContext=Tr.getBrowserLoggerContext=Tr.getDefaultLoggerOptions=void 0;const t=i_();function e(u){return Object.assign(Object.assign({},u),{level:(u==null?void 0:u.level)||t.PINO_LOGGER_DEFAULTS.level})}Tr.getDefaultLoggerOptions=e;function r(u,f=t.PINO_CUSTOM_CONTEXT_KEY){return u[f]||""}Tr.getBrowserLoggerContext=r;function n(u,f,h=t.PINO_CUSTOM_CONTEXT_KEY){return u[h]=f,u}Tr.setBrowserLoggerContext=n;function s(u,f=t.PINO_CUSTOM_CONTEXT_KEY){let h="";return typeof u.bindings>"u"?h=r(u,f):h=u.bindings().context||"",h}Tr.getLoggerContext=s;function a(u,f,h=t.PINO_CUSTOM_CONTEXT_KEY){const p=s(u,h);return p.trim()?`${p}/${f}`:f}Tr.formatChildLoggerContext=a;function c(u,f,h=t.PINO_CUSTOM_CONTEXT_KEY){const p=a(u,f,h),m=u.child({context:p});return n(m,p,h)}return Tr.generateChildLogger=c,Tr}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.pino=void 0;const e=En,r=e.__importDefault(u$());Object.defineProperty(t,"pino",{enumerable:!0,get:function(){return r.default}}),e.__exportStar(i_(),t),e.__exportStar(l$(),t)})(ut);class f$ extends Ns{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class h$ extends Ns{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}}class d${constructor(e,r){this.logger=e,this.core=r}}let p$=class extends Ns{constructor(e,r){super(),this.relayer=e,this.logger=r}},g$=class extends Ns{constructor(e){super()}},y$=class{constructor(e,r,n,s){this.core=e,this.logger=r,this.name=n}};class m$ extends Ns{constructor(e,r){super(),this.relayer=e,this.logger=r}}class b$ extends Ns{constructor(e,r){super(),this.core=e,this.logger=r}}let v$=class{constructor(e,r){this.projectId=e,this.logger=r}},w$=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}};class _${constructor(e){this.client=e}}const E$=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),x$=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function Qp(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return x$(t)}catch{return t}}function Ka(t){return typeof t=="string"?t:E$(t)||""}var Zp={},s_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Xe,r=cn;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var n=function(){function u(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return u.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},u.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},u.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},u.prototype.update=function(f,h){if(h===void 0&&(h=f.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var p=0;if(this._bytesHashed+=h,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&h>0;)this._buffer[this._bufferLength++]=f[p++],h--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(h>=this.blockSize&&(p=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,f,p,h),h%=this.blockSize);h>0;)this._buffer[this._bufferLength++]=f[p++],h--;return this},u.prototype.finish=function(f){if(!this._finished){var h=this._bytesHashed,p=this._bufferLength,m=h/536870912|0,b=h<<3,_=h%128<112?128:256;this._buffer[p]=128;for(var x=p+1;x<_-8;x++)this._buffer[x]=0;e.writeUint32BE(m,this._buffer,_-8),e.writeUint32BE(b,this._buffer,_-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,_),this._finished=!0}for(var x=0;x<this.digestLength/8;x++)e.writeUint32BE(this._stateHi[x],f,x*8),e.writeUint32BE(this._stateLo[x],f,x*8+4);return this},u.prototype.digest=function(){var f=new Uint8Array(this.digestLength);return this.finish(f),f},u.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},u.prototype.restoreState=function(f){return this._stateHi.set(f.stateHi),this._stateLo.set(f.stateLo),this._bufferLength=f.bufferLength,f.buffer&&this._buffer.set(f.buffer),this._bytesHashed=f.bytesHashed,this._finished=!1,this},u.prototype.cleanSavedState=function(f){r.wipe(f.stateHi),r.wipe(f.stateLo),f.buffer&&r.wipe(f.buffer),f.bufferLength=0,f.bytesHashed=0},u}();t.SHA512=n;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(u,f,h,p,m,b,_){for(var x=h[0],N=h[1],M=h[2],z=h[3],C=h[4],L=h[5],D=h[6],T=h[7],P=p[0],d=p[1],w=p[2],Z=p[3],B=p[4],V=p[5],ee=p[6],ae=p[7],E,A,Y,te,Q,J,ie,ue;_>=128;){for(var xe=0;xe<16;xe++){var ye=8*xe+b;u[xe]=e.readUint32BE(m,ye),f[xe]=e.readUint32BE(m,ye+4)}for(var xe=0;xe<80;xe++){var Fe=x,Pe=N,Te=M,$=z,H=C,j=L,y=D,U=T,I=P,R=d,q=w,re=Z,ne=B,ce=V,we=ee,pe=ae;if(E=T,A=ae,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=(C>>>14|B<<32-14)^(C>>>18|B<<32-18)^(B>>>41-32|C<<32-(41-32)),A=(B>>>14|C<<32-14)^(B>>>18|C<<32-18)^(C>>>41-32|B<<32-(41-32)),Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,E=C&L^~C&D,A=B&V^~B&ee,Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,E=s[xe*2],A=s[xe*2+1],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,E=u[xe%16],A=f[xe%16],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,Y=ie&65535|ue<<16,te=Q&65535|J<<16,E=Y,A=te,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=(x>>>28|P<<32-28)^(P>>>34-32|x<<32-(34-32))^(P>>>39-32|x<<32-(39-32)),A=(P>>>28|x<<32-28)^(x>>>34-32|P<<32-(34-32))^(x>>>39-32|P<<32-(39-32)),Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,E=x&N^x&M^N&M,A=P&d^P&w^d&w,Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,U=ie&65535|ue<<16,pe=Q&65535|J<<16,E=$,A=re,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=Y,A=te,Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,$=ie&65535|ue<<16,re=Q&65535|J<<16,N=Fe,M=Pe,z=Te,C=$,L=H,D=j,T=y,x=U,d=I,w=R,Z=q,B=re,V=ne,ee=ce,ae=we,P=pe,xe%16===15)for(var ye=0;ye<16;ye++)E=u[ye],A=f[ye],Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=u[(ye+9)%16],A=f[(ye+9)%16],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,Y=u[(ye+1)%16],te=f[(ye+1)%16],E=(Y>>>1|te<<32-1)^(Y>>>8|te<<32-8)^Y>>>7,A=(te>>>1|Y<<32-1)^(te>>>8|Y<<32-8)^(te>>>7|Y<<32-7),Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,Y=u[(ye+14)%16],te=f[(ye+14)%16],E=(Y>>>19|te<<32-19)^(te>>>61-32|Y<<32-(61-32))^Y>>>6,A=(te>>>19|Y<<32-19)^(Y>>>61-32|te<<32-(61-32))^(te>>>6|Y<<32-6),Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,u[ye]=ie&65535|ue<<16,f[ye]=Q&65535|J<<16}E=x,A=P,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=h[0],A=p[0],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,h[0]=x=ie&65535|ue<<16,p[0]=P=Q&65535|J<<16,E=N,A=d,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=h[1],A=p[1],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,h[1]=N=ie&65535|ue<<16,p[1]=d=Q&65535|J<<16,E=M,A=w,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=h[2],A=p[2],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,h[2]=M=ie&65535|ue<<16,p[2]=w=Q&65535|J<<16,E=z,A=Z,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=h[3],A=p[3],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,h[3]=z=ie&65535|ue<<16,p[3]=Z=Q&65535|J<<16,E=C,A=B,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=h[4],A=p[4],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,h[4]=C=ie&65535|ue<<16,p[4]=B=Q&65535|J<<16,E=L,A=V,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=h[5],A=p[5],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,h[5]=L=ie&65535|ue<<16,p[5]=V=Q&65535|J<<16,E=D,A=ee,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=h[6],A=p[6],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,h[6]=D=ie&65535|ue<<16,p[6]=ee=Q&65535|J<<16,E=T,A=ae,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=h[7],A=p[7],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,h[7]=T=ie&65535|ue<<16,p[7]=ae=Q&65535|J<<16,b+=128,_-=128}return b}function c(u){var f=new n;f.update(u);var h=f.digest();return f.clean(),h}t.hash=c})(s_);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const e=Lo,r=s_,n=cn;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function s($){const H=new Float64Array(16);if($)for(let j=0;j<$.length;j++)H[j]=$[j];return H}const a=new Uint8Array(32);a[0]=9;const c=s(),u=s([1]),f=s([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=s([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p=s([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),m=s([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),b=s([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _($,H){for(let j=0;j<16;j++)$[j]=H[j]|0}function x($){let H=1;for(let j=0;j<16;j++){let y=$[j]+H+65535;H=Math.floor(y/65536),$[j]=y-H*65536}$[0]+=H-1+37*(H-1)}function N($,H,j){const y=~(j-1);for(let U=0;U<16;U++){const I=y&($[U]^H[U]);$[U]^=I,H[U]^=I}}function M($,H){const j=s(),y=s();for(let U=0;U<16;U++)y[U]=H[U];x(y),x(y),x(y);for(let U=0;U<2;U++){j[0]=y[0]-65517;for(let R=1;R<15;R++)j[R]=y[R]-65535-(j[R-1]>>16&1),j[R-1]&=65535;j[15]=y[15]-32767-(j[14]>>16&1);const I=j[15]>>16&1;j[14]&=65535,N(y,j,1-I)}for(let U=0;U<16;U++)$[2*U]=y[U]&255,$[2*U+1]=y[U]>>8}function z($,H){let j=0;for(let y=0;y<32;y++)j|=$[y]^H[y];return(1&j-1>>>8)-1}function C($,H){const j=new Uint8Array(32),y=new Uint8Array(32);return M(j,$),M(y,H),z(j,y)}function L($){const H=new Uint8Array(32);return M(H,$),H[0]&1}function D($,H){for(let j=0;j<16;j++)$[j]=H[2*j]+(H[2*j+1]<<8);$[15]&=32767}function T($,H,j){for(let y=0;y<16;y++)$[y]=H[y]+j[y]}function P($,H,j){for(let y=0;y<16;y++)$[y]=H[y]-j[y]}function d($,H,j){let y,U,I=0,R=0,q=0,re=0,ne=0,ce=0,we=0,pe=0,fe=0,se=0,ve=0,me=0,_e=0,Ee=0,Se=0,Ie=0,Ae=0,Me=0,Le=0,Ve=0,tt=0,Ze=0,nt=0,ze=0,Pt=0,mr=0,Mn=0,Ir=0,Xn=0,_i=0,Zi=0,jt=j[0],Tt=j[1],Lt=j[2],Ut=j[3],$t=j[4],Rt=j[5],er=j[6],tr=j[7],Bt=j[8],rr=j[9],kt=j[10],qt=j[11],Ht=j[12],St=j[13],nr=j[14],ir=j[15];y=H[0],I+=y*jt,R+=y*Tt,q+=y*Lt,re+=y*Ut,ne+=y*$t,ce+=y*Rt,we+=y*er,pe+=y*tr,fe+=y*Bt,se+=y*rr,ve+=y*kt,me+=y*qt,_e+=y*Ht,Ee+=y*St,Se+=y*nr,Ie+=y*ir,y=H[1],R+=y*jt,q+=y*Tt,re+=y*Lt,ne+=y*Ut,ce+=y*$t,we+=y*Rt,pe+=y*er,fe+=y*tr,se+=y*Bt,ve+=y*rr,me+=y*kt,_e+=y*qt,Ee+=y*Ht,Se+=y*St,Ie+=y*nr,Ae+=y*ir,y=H[2],q+=y*jt,re+=y*Tt,ne+=y*Lt,ce+=y*Ut,we+=y*$t,pe+=y*Rt,fe+=y*er,se+=y*tr,ve+=y*Bt,me+=y*rr,_e+=y*kt,Ee+=y*qt,Se+=y*Ht,Ie+=y*St,Ae+=y*nr,Me+=y*ir,y=H[3],re+=y*jt,ne+=y*Tt,ce+=y*Lt,we+=y*Ut,pe+=y*$t,fe+=y*Rt,se+=y*er,ve+=y*tr,me+=y*Bt,_e+=y*rr,Ee+=y*kt,Se+=y*qt,Ie+=y*Ht,Ae+=y*St,Me+=y*nr,Le+=y*ir,y=H[4],ne+=y*jt,ce+=y*Tt,we+=y*Lt,pe+=y*Ut,fe+=y*$t,se+=y*Rt,ve+=y*er,me+=y*tr,_e+=y*Bt,Ee+=y*rr,Se+=y*kt,Ie+=y*qt,Ae+=y*Ht,Me+=y*St,Le+=y*nr,Ve+=y*ir,y=H[5],ce+=y*jt,we+=y*Tt,pe+=y*Lt,fe+=y*Ut,se+=y*$t,ve+=y*Rt,me+=y*er,_e+=y*tr,Ee+=y*Bt,Se+=y*rr,Ie+=y*kt,Ae+=y*qt,Me+=y*Ht,Le+=y*St,Ve+=y*nr,tt+=y*ir,y=H[6],we+=y*jt,pe+=y*Tt,fe+=y*Lt,se+=y*Ut,ve+=y*$t,me+=y*Rt,_e+=y*er,Ee+=y*tr,Se+=y*Bt,Ie+=y*rr,Ae+=y*kt,Me+=y*qt,Le+=y*Ht,Ve+=y*St,tt+=y*nr,Ze+=y*ir,y=H[7],pe+=y*jt,fe+=y*Tt,se+=y*Lt,ve+=y*Ut,me+=y*$t,_e+=y*Rt,Ee+=y*er,Se+=y*tr,Ie+=y*Bt,Ae+=y*rr,Me+=y*kt,Le+=y*qt,Ve+=y*Ht,tt+=y*St,Ze+=y*nr,nt+=y*ir,y=H[8],fe+=y*jt,se+=y*Tt,ve+=y*Lt,me+=y*Ut,_e+=y*$t,Ee+=y*Rt,Se+=y*er,Ie+=y*tr,Ae+=y*Bt,Me+=y*rr,Le+=y*kt,Ve+=y*qt,tt+=y*Ht,Ze+=y*St,nt+=y*nr,ze+=y*ir,y=H[9],se+=y*jt,ve+=y*Tt,me+=y*Lt,_e+=y*Ut,Ee+=y*$t,Se+=y*Rt,Ie+=y*er,Ae+=y*tr,Me+=y*Bt,Le+=y*rr,Ve+=y*kt,tt+=y*qt,Ze+=y*Ht,nt+=y*St,ze+=y*nr,Pt+=y*ir,y=H[10],ve+=y*jt,me+=y*Tt,_e+=y*Lt,Ee+=y*Ut,Se+=y*$t,Ie+=y*Rt,Ae+=y*er,Me+=y*tr,Le+=y*Bt,Ve+=y*rr,tt+=y*kt,Ze+=y*qt,nt+=y*Ht,ze+=y*St,Pt+=y*nr,mr+=y*ir,y=H[11],me+=y*jt,_e+=y*Tt,Ee+=y*Lt,Se+=y*Ut,Ie+=y*$t,Ae+=y*Rt,Me+=y*er,Le+=y*tr,Ve+=y*Bt,tt+=y*rr,Ze+=y*kt,nt+=y*qt,ze+=y*Ht,Pt+=y*St,mr+=y*nr,Mn+=y*ir,y=H[12],_e+=y*jt,Ee+=y*Tt,Se+=y*Lt,Ie+=y*Ut,Ae+=y*$t,Me+=y*Rt,Le+=y*er,Ve+=y*tr,tt+=y*Bt,Ze+=y*rr,nt+=y*kt,ze+=y*qt,Pt+=y*Ht,mr+=y*St,Mn+=y*nr,Ir+=y*ir,y=H[13],Ee+=y*jt,Se+=y*Tt,Ie+=y*Lt,Ae+=y*Ut,Me+=y*$t,Le+=y*Rt,Ve+=y*er,tt+=y*tr,Ze+=y*Bt,nt+=y*rr,ze+=y*kt,Pt+=y*qt,mr+=y*Ht,Mn+=y*St,Ir+=y*nr,Xn+=y*ir,y=H[14],Se+=y*jt,Ie+=y*Tt,Ae+=y*Lt,Me+=y*Ut,Le+=y*$t,Ve+=y*Rt,tt+=y*er,Ze+=y*tr,nt+=y*Bt,ze+=y*rr,Pt+=y*kt,mr+=y*qt,Mn+=y*Ht,Ir+=y*St,Xn+=y*nr,_i+=y*ir,y=H[15],Ie+=y*jt,Ae+=y*Tt,Me+=y*Lt,Le+=y*Ut,Ve+=y*$t,tt+=y*Rt,Ze+=y*er,nt+=y*tr,ze+=y*Bt,Pt+=y*rr,mr+=y*kt,Mn+=y*qt,Ir+=y*Ht,Xn+=y*St,_i+=y*nr,Zi+=y*ir,I+=38*Ae,R+=38*Me,q+=38*Le,re+=38*Ve,ne+=38*tt,ce+=38*Ze,we+=38*nt,pe+=38*ze,fe+=38*Pt,se+=38*mr,ve+=38*Mn,me+=38*Ir,_e+=38*Xn,Ee+=38*_i,Se+=38*Zi,U=1,y=I+U+65535,U=Math.floor(y/65536),I=y-U*65536,y=R+U+65535,U=Math.floor(y/65536),R=y-U*65536,y=q+U+65535,U=Math.floor(y/65536),q=y-U*65536,y=re+U+65535,U=Math.floor(y/65536),re=y-U*65536,y=ne+U+65535,U=Math.floor(y/65536),ne=y-U*65536,y=ce+U+65535,U=Math.floor(y/65536),ce=y-U*65536,y=we+U+65535,U=Math.floor(y/65536),we=y-U*65536,y=pe+U+65535,U=Math.floor(y/65536),pe=y-U*65536,y=fe+U+65535,U=Math.floor(y/65536),fe=y-U*65536,y=se+U+65535,U=Math.floor(y/65536),se=y-U*65536,y=ve+U+65535,U=Math.floor(y/65536),ve=y-U*65536,y=me+U+65535,U=Math.floor(y/65536),me=y-U*65536,y=_e+U+65535,U=Math.floor(y/65536),_e=y-U*65536,y=Ee+U+65535,U=Math.floor(y/65536),Ee=y-U*65536,y=Se+U+65535,U=Math.floor(y/65536),Se=y-U*65536,y=Ie+U+65535,U=Math.floor(y/65536),Ie=y-U*65536,I+=U-1+37*(U-1),U=1,y=I+U+65535,U=Math.floor(y/65536),I=y-U*65536,y=R+U+65535,U=Math.floor(y/65536),R=y-U*65536,y=q+U+65535,U=Math.floor(y/65536),q=y-U*65536,y=re+U+65535,U=Math.floor(y/65536),re=y-U*65536,y=ne+U+65535,U=Math.floor(y/65536),ne=y-U*65536,y=ce+U+65535,U=Math.floor(y/65536),ce=y-U*65536,y=we+U+65535,U=Math.floor(y/65536),we=y-U*65536,y=pe+U+65535,U=Math.floor(y/65536),pe=y-U*65536,y=fe+U+65535,U=Math.floor(y/65536),fe=y-U*65536,y=se+U+65535,U=Math.floor(y/65536),se=y-U*65536,y=ve+U+65535,U=Math.floor(y/65536),ve=y-U*65536,y=me+U+65535,U=Math.floor(y/65536),me=y-U*65536,y=_e+U+65535,U=Math.floor(y/65536),_e=y-U*65536,y=Ee+U+65535,U=Math.floor(y/65536),Ee=y-U*65536,y=Se+U+65535,U=Math.floor(y/65536),Se=y-U*65536,y=Ie+U+65535,U=Math.floor(y/65536),Ie=y-U*65536,I+=U-1+37*(U-1),$[0]=I,$[1]=R,$[2]=q,$[3]=re,$[4]=ne,$[5]=ce,$[6]=we,$[7]=pe,$[8]=fe,$[9]=se,$[10]=ve,$[11]=me,$[12]=_e,$[13]=Ee,$[14]=Se,$[15]=Ie}function w($,H){d($,H,H)}function Z($,H){const j=s();let y;for(y=0;y<16;y++)j[y]=H[y];for(y=253;y>=0;y--)w(j,j),y!==2&&y!==4&&d(j,j,H);for(y=0;y<16;y++)$[y]=j[y]}function B($,H){const j=s();let y;for(y=0;y<16;y++)j[y]=H[y];for(y=250;y>=0;y--)w(j,j),y!==1&&d(j,j,H);for(y=0;y<16;y++)$[y]=j[y]}function V($,H){const j=s(),y=s(),U=s(),I=s(),R=s(),q=s(),re=s(),ne=s(),ce=s();P(j,$[1],$[0]),P(ce,H[1],H[0]),d(j,j,ce),T(y,$[0],$[1]),T(ce,H[0],H[1]),d(y,y,ce),d(U,$[3],H[3]),d(U,U,h),d(I,$[2],H[2]),T(I,I,I),P(R,y,j),P(q,I,U),T(re,I,U),T(ne,y,j),d($[0],R,q),d($[1],ne,re),d($[2],re,q),d($[3],R,ne)}function ee($,H,j){for(let y=0;y<4;y++)N($[y],H[y],j)}function ae($,H){const j=s(),y=s(),U=s();Z(U,H[2]),d(j,H[0],U),d(y,H[1],U),M($,y),$[31]^=L(j)<<7}function E($,H,j){_($[0],c),_($[1],u),_($[2],u),_($[3],c);for(let y=255;y>=0;--y){const U=j[y/8|0]>>(y&7)&1;ee($,H,U),V(H,$),V($,$),ee($,H,U)}}function A($,H){const j=[s(),s(),s(),s()];_(j[0],p),_(j[1],m),_(j[2],u),d(j[3],p,m),E($,j,H)}function Y($){if($.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const H=(0,r.hash)($);H[0]&=248,H[31]&=127,H[31]|=64;const j=new Uint8Array(32),y=[s(),s(),s(),s()];A(y,H),ae(j,y);const U=new Uint8Array(64);return U.set($),U.set(j,32),{publicKey:j,secretKey:U}}t.generateKeyPairFromSeed=Y;function te($){const H=(0,e.randomBytes)(32,$),j=Y(H);return(0,n.wipe)(H),j}t.generateKeyPair=te;function Q($){if($.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array($.subarray(32))}t.extractPublicKeyFromSecretKey=Q;const J=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie($,H){let j,y,U,I;for(y=63;y>=32;--y){for(j=0,U=y-32,I=y-12;U<I;++U)H[U]+=j-16*H[y]*J[U-(y-32)],j=Math.floor((H[U]+128)/256),H[U]-=j*256;H[U]+=j,H[y]=0}for(j=0,U=0;U<32;U++)H[U]+=j-(H[31]>>4)*J[U],j=H[U]>>8,H[U]&=255;for(U=0;U<32;U++)H[U]-=j*J[U];for(y=0;y<32;y++)H[y+1]+=H[y]>>8,$[y]=H[y]&255}function ue($){const H=new Float64Array(64);for(let j=0;j<64;j++)H[j]=$[j];for(let j=0;j<64;j++)$[j]=0;ie($,H)}function xe($,H){const j=new Float64Array(64),y=[s(),s(),s(),s()],U=(0,r.hash)($.subarray(0,32));U[0]&=248,U[31]&=127,U[31]|=64;const I=new Uint8Array(64);I.set(U.subarray(32),32);const R=new r.SHA512;R.update(I.subarray(32)),R.update(H);const q=R.digest();R.clean(),ue(q),A(y,q),ae(I,y),R.reset(),R.update(I.subarray(0,32)),R.update($.subarray(32)),R.update(H);const re=R.digest();ue(re);for(let ne=0;ne<32;ne++)j[ne]=q[ne];for(let ne=0;ne<32;ne++)for(let ce=0;ce<32;ce++)j[ne+ce]+=re[ne]*U[ce];return ie(I.subarray(32),j),I}t.sign=xe;function ye($,H){const j=s(),y=s(),U=s(),I=s(),R=s(),q=s(),re=s();return _($[2],u),D($[1],H),w(U,$[1]),d(I,U,f),P(U,U,$[2]),T(I,$[2],I),w(R,I),w(q,R),d(re,q,R),d(j,re,U),d(j,j,I),B(j,j),d(j,j,U),d(j,j,I),d(j,j,I),d($[0],j,I),w(y,$[0]),d(y,y,I),C(y,U)&&d($[0],$[0],b),w(y,$[0]),d(y,y,I),C(y,U)?-1:(L($[0])===H[31]>>7&&P($[0],c,$[0]),d($[3],$[0],$[1]),0)}function Fe($,H,j){const y=new Uint8Array(32),U=[s(),s(),s(),s()],I=[s(),s(),s(),s()];if(j.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(ye(I,$))return!1;const R=new r.SHA512;R.update(j.subarray(0,32)),R.update($),R.update(H);const q=R.digest();return ue(q),E(U,I,q),A(I,j.subarray(32)),V(U,I),ae(y,U),!z(j,y)}t.verify=Fe;function Pe($){let H=[s(),s(),s(),s()];if(ye(H,$))throw new Error("Ed25519: invalid public key");let j=s(),y=s(),U=H[1];T(j,u,U),P(y,u,U),Z(y,y),d(j,j,y);let I=new Uint8Array(32);return M(I,j),I}t.convertPublicKeyToX25519=Pe;function Te($){const H=(0,r.hash)($.subarray(0,32));H[0]&=248,H[31]&=127,H[31]|=64;const j=new Uint8Array(H.subarray(0,32));return(0,n.wipe)(H),j}t.convertSecretKeyToX25519=Te})(Zp);const P$="EdDSA",S$="JWT",o_=".",a_="base64url",I$="utf8",D$="utf8",O$=":",A$="did",C$="key",fb="base58btc",T$="z",R$="K36",N$=32;function Vu(t){return jr(Kr(Ka(t),I$),a_)}function c_(t){const e=Kr(R$,fb),r=T$+jr(Td([e,t]),fb);return[A$,C$,r].join(O$)}function $$(t){return jr(t,a_)}function F$(t){return Kr([Vu(t.header),Vu(t.payload)].join(o_),D$)}function M$(t){return[Vu(t.header),Vu(t.payload),$$(t.signature)].join(o_)}function hb(t=Lo.randomBytes(N$)){return Zp.generateKeyPairFromSeed(t)}async function j$(t,e,r,n,s=Ue.fromMiliseconds(Date.now())){const a={alg:P$,typ:S$},c=c_(n.publicKey),u=s+r,f={iss:c,sub:t,aud:e,iat:s,exp:u},h=F$({header:a,payload:f}),p=Zp.sign(n.secretKey,h);return M$({header:a,payload:f,signature:p})}const L$="PARSE_ERROR",U$="INVALID_REQUEST",B$="METHOD_NOT_FOUND",k$="INVALID_PARAMS",u_="INTERNAL_ERROR",e0="SERVER_ERROR",H$=[-32700,-32600,-32601,-32602,-32603],Ca={[L$]:{code:-32700,message:"Parse error"},[U$]:{code:-32600,message:"Invalid Request"},[B$]:{code:-32601,message:"Method not found"},[k$]:{code:-32602,message:"Invalid params"},[u_]:{code:-32603,message:"Internal error"},[e0]:{code:-32e3,message:"Server error"}},l_=e0;function z$(t){return H$.includes(t)}function db(t){return Object.keys(Ca).includes(t)?Ca[t]:Ca[l_]}function q$(t){const e=Object.values(Ca).find(r=>r.code===t);return e||Ca[l_]}function f_(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var h_={},li={},pb;function K$(){if(pb)return li;pb=1,Object.defineProperty(li,"__esModule",{value:!0}),li.isBrowserCryptoAvailable=li.getSubtleCrypto=li.getBrowerCrypto=void 0;function t(){return(Pr==null?void 0:Pr.crypto)||(Pr==null?void 0:Pr.msCrypto)||{}}li.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}li.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return li.isBrowserCryptoAvailable=r,li}var fi={},gb;function V$(){if(gb)return fi;gb=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.isBrowser=fi.isNode=fi.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}fi.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}fi.isNode=e;function r(){return!t()&&!e()}return fi.isBrowser=r,fi}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=En;e.__exportStar(K$(),t),e.__exportStar(V$(),t)})(h_);function d_(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function p_(t=6){return BigInt(d_(t))}function $l(t,e,r){return{id:r||d_(),jsonrpc:"2.0",method:t,params:e}}function t0(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Fl(t,e,r){return{id:t,jsonrpc:"2.0",error:G$(e,r)}}function G$(t,e){return typeof t>"u"?db(u_):(typeof t=="string"&&(t=Object.assign(Object.assign({},db(e0)),{message:t})),typeof e<"u"&&(t.data=e),z$(t.code)&&(t=q$(t.code)),t)}class W${}class Y$ extends W${constructor(){super()}}class J$ extends Y${constructor(e){super()}}const X$="^https?:",Q$="^wss?:";function Z$(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function g_(t,e){const r=Z$(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function yb(t){return g_(t,X$)}function mb(t){return g_(t,Q$)}function eF(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function y_(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function r0(t){return y_(t)&&"method"in t}function Ml(t){return y_(t)&&(di(t)||An(t))}function di(t){return"result"in t}function An(t){return"error"in t}class Xi extends J${constructor(e){super(e),this.events=new an.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict($l(e.method,e.params||[],e.id||p_().toString()),r)}async requestStrict(e,r){return new Promise(async(n,s)=>{if(!this.connection.connected)try{await this.open()}catch(a){s(a)}this.events.on(`${e.id}`,a=>{An(a)?s(a.error):n(a.result)});try{await this.connection.send(e,r)}catch(a){s(a)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Ml(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const bb=10,tF=()=>typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:require("ws"),rF=()=>typeof window<"u",nF=tF();class iF{constructor(e){if(this.url=e,this.events=new an.EventEmitter,this.registering=!1,!mb(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e,r){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ka(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!mb(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),s(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const s=h_.isReactNative()?void 0:{rejectUnauthorized:!eF(e)},a=new nF(e,[],s);rF()?a.onerror=c=>{const u=c;n(this.emitError(u.error))}:a.on("error",c=>{n(this.emitError(c))}),a.onopen=()=>{this.onOpen(a),r(a)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Qp(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),a=Fl(e,s);this.events.emit("payload",a)}parseError(e,r=this.url){return f_(e,r,"WS")}resetMaxListeners(){this.events.getMaxListeners()>bb&&this.events.setMaxListeners(bb)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",r),r}}var Gu={exports:{}};Gu.exports;(function(t,e){var r=200,n="__lodash_hash_undefined__",s=1,a=2,c=9007199254740991,u="[object Arguments]",f="[object Array]",h="[object AsyncFunction]",p="[object Boolean]",m="[object Date]",b="[object Error]",_="[object Function]",x="[object GeneratorFunction]",N="[object Map]",M="[object Number]",z="[object Null]",C="[object Object]",L="[object Promise]",D="[object Proxy]",T="[object RegExp]",P="[object Set]",d="[object String]",w="[object Symbol]",Z="[object Undefined]",B="[object WeakMap]",V="[object ArrayBuffer]",ee="[object DataView]",ae="[object Float32Array]",E="[object Float64Array]",A="[object Int8Array]",Y="[object Int16Array]",te="[object Int32Array]",Q="[object Uint8Array]",J="[object Uint8ClampedArray]",ie="[object Uint16Array]",ue="[object Uint32Array]",xe=/[\\^$.*+?()[\]{}|]/g,ye=/^\[object .+?Constructor\]$/,Fe=/^(?:0|[1-9]\d*)$/,Pe={};Pe[ae]=Pe[E]=Pe[A]=Pe[Y]=Pe[te]=Pe[Q]=Pe[J]=Pe[ie]=Pe[ue]=!0,Pe[u]=Pe[f]=Pe[V]=Pe[p]=Pe[ee]=Pe[m]=Pe[b]=Pe[_]=Pe[N]=Pe[M]=Pe[C]=Pe[T]=Pe[P]=Pe[d]=Pe[B]=!1;var Te=typeof Pr=="object"&&Pr&&Pr.Object===Object&&Pr,$=typeof self=="object"&&self&&self.Object===Object&&self,H=Te||$||Function("return this")(),j=e&&!e.nodeType&&e,y=j&&!0&&t&&!t.nodeType&&t,U=y&&y.exports===j,I=U&&Te.process,R=function(){try{return I&&I.binding&&I.binding("util")}catch{}}(),q=R&&R.isTypedArray;function re(F,G){for(var ge=-1,Re=F==null?0:F.length,_t=0,We=[];++ge<Re;){var Dt=F[ge];G(Dt,ge,F)&&(We[_t++]=Dt)}return We}function ne(F,G){for(var ge=-1,Re=G.length,_t=F.length;++ge<Re;)F[_t+ge]=G[ge];return F}function ce(F,G){for(var ge=-1,Re=F==null?0:F.length;++ge<Re;)if(G(F[ge],ge,F))return!0;return!1}function we(F,G){for(var ge=-1,Re=Array(F);++ge<F;)Re[ge]=G(ge);return Re}function pe(F){return function(G){return F(G)}}function fe(F,G){return F.has(G)}function se(F,G){return F==null?void 0:F[G]}function ve(F){var G=-1,ge=Array(F.size);return F.forEach(function(Re,_t){ge[++G]=[_t,Re]}),ge}function me(F,G){return function(ge){return F(G(ge))}}function _e(F){var G=-1,ge=Array(F.size);return F.forEach(function(Re){ge[++G]=Re}),ge}var Ee=Array.prototype,Se=Function.prototype,Ie=Object.prototype,Ae=H["__core-js_shared__"],Me=Se.toString,Le=Ie.hasOwnProperty,Ve=function(){var F=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||"");return F?"Symbol(src)_1."+F:""}(),tt=Ie.toString,Ze=RegExp("^"+Me.call(Le).replace(xe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=U?H.Buffer:void 0,ze=H.Symbol,Pt=H.Uint8Array,mr=Ie.propertyIsEnumerable,Mn=Ee.splice,Ir=ze?ze.toStringTag:void 0,Xn=Object.getOwnPropertySymbols,_i=nt?nt.isBuffer:void 0,Zi=me(Object.keys,Object),jt=Yr(H,"DataView"),Tt=Yr(H,"Map"),Lt=Yr(H,"Promise"),Ut=Yr(H,"Set"),$t=Yr(H,"WeakMap"),Rt=Yr(Object,"create"),er=Zn(jt),tr=Zn(Tt),Bt=Zn(Lt),rr=Zn(Ut),kt=Zn($t),qt=ze?ze.prototype:void 0,Ht=qt?qt.valueOf:void 0;function St(F){var G=-1,ge=F==null?0:F.length;for(this.clear();++G<ge;){var Re=F[G];this.set(Re[0],Re[1])}}function nr(){this.__data__=Rt?Rt(null):{},this.size=0}function ir(F){var G=this.has(F)&&delete this.__data__[F];return this.size-=G?1:0,G}function Bl(F){var G=this.__data__;if(Rt){var ge=G[F];return ge===n?void 0:ge}return Le.call(G,F)?G[F]:void 0}function kl(F){var G=this.__data__;return Rt?G[F]!==void 0:Le.call(G,F)}function Hl(F,G){var ge=this.__data__;return this.size+=this.has(F)?0:1,ge[F]=Rt&&G===void 0?n:G,this}St.prototype.clear=nr,St.prototype.delete=ir,St.prototype.get=Bl,St.prototype.has=kl,St.prototype.set=Hl;function un(F){var G=-1,ge=F==null?0:F.length;for(this.clear();++G<ge;){var Re=F[G];this.set(Re[0],Re[1])}}function zl(){this.__data__=[],this.size=0}function ql(F){var G=this.__data__,ge=es(G,F);if(ge<0)return!1;var Re=G.length-1;return ge==Re?G.pop():Mn.call(G,ge,1),--this.size,!0}function Kl(F){var G=this.__data__,ge=es(G,F);return ge<0?void 0:G[ge][1]}function Vl(F){return es(this.__data__,F)>-1}function Gl(F,G){var ge=this.__data__,Re=es(ge,F);return Re<0?(++this.size,ge.push([F,G])):ge[Re][1]=G,this}un.prototype.clear=zl,un.prototype.delete=ql,un.prototype.get=Kl,un.prototype.has=Vl,un.prototype.set=Gl;function Qn(F){var G=-1,ge=F==null?0:F.length;for(this.clear();++G<ge;){var Re=F[G];this.set(Re[0],Re[1])}}function Ms(){this.size=0,this.__data__={hash:new St,map:new(Tt||un),string:new St}}function Wl(F){var G=Ei(this,F).delete(F);return this.size-=G?1:0,G}function js(F){return Ei(this,F).get(F)}function Yl(F){return Ei(this,F).has(F)}function Jl(F,G){var ge=Ei(this,F),Re=ge.size;return ge.set(F,G),this.size+=ge.size==Re?0:1,this}Qn.prototype.clear=Ms,Qn.prototype.delete=Wl,Qn.prototype.get=js,Qn.prototype.has=Yl,Qn.prototype.set=Jl;function Ls(F){var G=-1,ge=F==null?0:F.length;for(this.__data__=new Qn;++G<ge;)this.add(F[G])}function nc(F){return this.__data__.set(F,n),this}function ic(F){return this.__data__.has(F)}Ls.prototype.add=Ls.prototype.push=nc,Ls.prototype.has=ic;function xn(F){var G=this.__data__=new un(F);this.size=G.size}function Xl(){this.__data__=new un,this.size=0}function Ql(F){var G=this.__data__,ge=G.delete(F);return this.size=G.size,ge}function Zl(F){return this.__data__.get(F)}function ef(F){return this.__data__.has(F)}function sc(F,G){var ge=this.__data__;if(ge instanceof un){var Re=ge.__data__;if(!Tt||Re.length<r-1)return Re.push([F,G]),this.size=++ge.size,this;ge=this.__data__=new Qn(Re)}return ge.set(F,G),this.size=ge.size,this}xn.prototype.clear=Xl,xn.prototype.delete=Ql,xn.prototype.get=Zl,xn.prototype.has=ef,xn.prototype.set=sc;function oc(F,G){var ge=ks(F),Re=!ge&&bc(F),_t=!ge&&!Re&&zo(F),We=!ge&&!Re&&!_t&&_c(F),Dt=ge||Re||_t||We,sr=Dt?we(F.length,String):[],at=sr.length;for(var Et in F)(G||Le.call(F,Et))&&!(Dt&&(Et=="length"||_t&&(Et=="offset"||Et=="parent")||We&&(Et=="buffer"||Et=="byteLength"||Et=="byteOffset")||dc(Et,at)))&&sr.push(Et);return sr}function es(F,G){for(var ge=F.length;ge--;)if(mc(F[ge][0],G))return ge;return-1}function ko(F,G,ge){var Re=G(F);return ks(F)?Re:ne(Re,ge(F))}function ts(F){return F==null?F===void 0?Z:z:Ir&&Ir in Object(F)?fc(F):nf(F)}function Ho(F){return ns(F)&&ts(F)==u}function rs(F,G,ge,Re,_t){return F===G?!0:F==null||G==null||!ns(F)&&!ns(G)?F!==F&&G!==G:ac(F,G,ge,Re,rs,_t)}function ac(F,G,ge,Re,_t,We){var Dt=ks(F),sr=ks(G),at=Dt?f:jn(F),Et=sr?f:jn(G);at=at==u?C:at,Et=Et==u?C:Et;var Kt=at==C,Lr=Et==C,or=at==Et;if(or&&zo(F)){if(!zo(G))return!1;Dt=!0,Kt=!1}if(or&&!Kt)return We||(We=new xn),Dt||_c(F)?Us(F,G,ge,Re,_t,We):rf(F,G,at,ge,Re,_t,We);if(!(ge&s)){var Ot=Kt&&Le.call(F,"__wrapped__"),Dr=Lr&&Le.call(G,"__wrapped__");if(Ot||Dr){var Pn=Ot?F.value():F,ln=Dr?G.value():G;return We||(We=new xn),_t(Pn,ln,ge,Re,We)}}return or?(We||(We=new xn),lc(F,G,ge,Re,_t,We)):!1}function tf(F){if(!wc(F)||gc(F))return!1;var G=Hs(F)?Ze:ye;return G.test(Zn(F))}function cc(F){return ns(F)&&vc(F.length)&&!!Pe[ts(F)]}function uc(F){if(!yc(F))return Zi(F);var G=[];for(var ge in Object(F))Le.call(F,ge)&&ge!="constructor"&&G.push(ge);return G}function Us(F,G,ge,Re,_t,We){var Dt=ge&s,sr=F.length,at=G.length;if(sr!=at&&!(Dt&&at>sr))return!1;var Et=We.get(F);if(Et&&We.get(G))return Et==G;var Kt=-1,Lr=!0,or=ge&a?new Ls:void 0;for(We.set(F,G),We.set(G,F);++Kt<sr;){var Ot=F[Kt],Dr=G[Kt];if(Re)var Pn=Dt?Re(Dr,Ot,Kt,G,F,We):Re(Ot,Dr,Kt,F,G,We);if(Pn!==void 0){if(Pn)continue;Lr=!1;break}if(or){if(!ce(G,function(ln,Ln){if(!fe(or,Ln)&&(Ot===ln||_t(Ot,ln,ge,Re,We)))return or.push(Ln)})){Lr=!1;break}}else if(!(Ot===Dr||_t(Ot,Dr,ge,Re,We))){Lr=!1;break}}return We.delete(F),We.delete(G),Lr}function rf(F,G,ge,Re,_t,We,Dt){switch(ge){case ee:if(F.byteLength!=G.byteLength||F.byteOffset!=G.byteOffset)return!1;F=F.buffer,G=G.buffer;case V:return!(F.byteLength!=G.byteLength||!We(new Pt(F),new Pt(G)));case p:case m:case M:return mc(+F,+G);case b:return F.name==G.name&&F.message==G.message;case T:case d:return F==G+"";case N:var sr=ve;case P:var at=Re&s;if(sr||(sr=_e),F.size!=G.size&&!at)return!1;var Et=Dt.get(F);if(Et)return Et==G;Re|=a,Dt.set(F,G);var Kt=Us(sr(F),sr(G),Re,_t,We,Dt);return Dt.delete(F),Kt;case w:if(Ht)return Ht.call(F)==Ht.call(G)}return!1}function lc(F,G,ge,Re,_t,We){var Dt=ge&s,sr=Bs(F),at=sr.length,Et=Bs(G),Kt=Et.length;if(at!=Kt&&!Dt)return!1;for(var Lr=at;Lr--;){var or=sr[Lr];if(!(Dt?or in G:Le.call(G,or)))return!1}var Ot=We.get(F);if(Ot&&We.get(G))return Ot==G;var Dr=!0;We.set(F,G),We.set(G,F);for(var Pn=Dt;++Lr<at;){or=sr[Lr];var ln=F[or],Ln=G[or];if(Re)var qo=Dt?Re(Ln,ln,or,G,F,We):Re(ln,Ln,or,F,G,We);if(!(qo===void 0?ln===Ln||_t(ln,Ln,ge,Re,We):qo)){Dr=!1;break}Pn||(Pn=or=="constructor")}if(Dr&&!Pn){var is=F.constructor,hr=G.constructor;is!=hr&&"constructor"in F&&"constructor"in G&&!(typeof is=="function"&&is instanceof is&&typeof hr=="function"&&hr instanceof hr)&&(Dr=!1)}return We.delete(F),We.delete(G),Dr}function Bs(F){return ko(F,af,hc)}function Ei(F,G){var ge=F.__data__;return pc(G)?ge[typeof G=="string"?"string":"hash"]:ge.map}function Yr(F,G){var ge=se(F,G);return tf(ge)?ge:void 0}function fc(F){var G=Le.call(F,Ir),ge=F[Ir];try{F[Ir]=void 0;var Re=!0}catch{}var _t=tt.call(F);return Re&&(G?F[Ir]=ge:delete F[Ir]),_t}var hc=Xn?function(F){return F==null?[]:(F=Object(F),re(Xn(F),function(G){return mr.call(F,G)}))}:wt,jn=ts;(jt&&jn(new jt(new ArrayBuffer(1)))!=ee||Tt&&jn(new Tt)!=N||Lt&&jn(Lt.resolve())!=L||Ut&&jn(new Ut)!=P||$t&&jn(new $t)!=B)&&(jn=function(F){var G=ts(F),ge=G==C?F.constructor:void 0,Re=ge?Zn(ge):"";if(Re)switch(Re){case er:return ee;case tr:return N;case Bt:return L;case rr:return P;case kt:return B}return G});function dc(F,G){return G=G??c,!!G&&(typeof F=="number"||Fe.test(F))&&F>-1&&F%1==0&&F<G}function pc(F){var G=typeof F;return G=="string"||G=="number"||G=="symbol"||G=="boolean"?F!=="__proto__":F===null}function gc(F){return!!Ve&&Ve in F}function yc(F){var G=F&&F.constructor,ge=typeof G=="function"&&G.prototype||Ie;return F===ge}function nf(F){return tt.call(F)}function Zn(F){if(F!=null){try{return Me.call(F)}catch{}try{return F+""}catch{}}return""}function mc(F,G){return F===G||F!==F&&G!==G}var bc=Ho(function(){return arguments}())?Ho:function(F){return ns(F)&&Le.call(F,"callee")&&!mr.call(F,"callee")},ks=Array.isArray;function sf(F){return F!=null&&vc(F.length)&&!Hs(F)}var zo=_i||bt;function of(F,G){return rs(F,G)}function Hs(F){if(!wc(F))return!1;var G=ts(F);return G==_||G==x||G==h||G==D}function vc(F){return typeof F=="number"&&F>-1&&F%1==0&&F<=c}function wc(F){var G=typeof F;return F!=null&&(G=="object"||G=="function")}function ns(F){return F!=null&&typeof F=="object"}var _c=q?pe(q):cc;function af(F){return sf(F)?oc(F):uc(F)}function wt(){return[]}function bt(){return!1}t.exports=of})(Gu,Gu.exports);var sF=Gu.exports;const oF=jp(sF);function aF(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(r[c]!==255)throw new TypeError(a+" is ambiguous");r[c]=s}var u=t.length,f=t.charAt(0),h=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function m(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";for(var N=0,M=0,z=0,C=x.length;z!==C&&x[z]===0;)z++,N++;for(var L=(C-z)*p+1>>>0,D=new Uint8Array(L);z!==C;){for(var T=x[z],P=0,d=L-1;(T!==0||P<M)&&d!==-1;d--,P++)T+=256*D[d]>>>0,D[d]=T%u>>>0,T=T/u>>>0;if(T!==0)throw new Error("Non-zero carry");M=P,z++}for(var w=L-M;w!==L&&D[w]===0;)w++;for(var Z=f.repeat(N);w<L;++w)Z+=t.charAt(D[w]);return Z}function b(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;var N=0;if(x[N]!==" "){for(var M=0,z=0;x[N]===f;)M++,N++;for(var C=(x.length-N)*h+1>>>0,L=new Uint8Array(C);x[N];){var D=r[x.charCodeAt(N)];if(D===255)return;for(var T=0,P=C-1;(D!==0||T<z)&&P!==-1;P--,T++)D+=u*L[P]>>>0,L[P]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");z=T,N++}if(x[N]!==" "){for(var d=C-z;d!==C&&L[d]===0;)d++;for(var w=new Uint8Array(M+(C-d)),Z=M;d!==C;)w[Z++]=L[d++];return w}}}function _(x){var N=b(x);if(N)return N;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:b,decode:_}}var cF=aF,uF=cF;const m_=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},lF=t=>new TextEncoder().encode(t),fF=t=>new TextDecoder().decode(t);let hF=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}};class dF{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return b_(this,e)}}class pF{constructor(e){this.decoders=e}or(e){return b_(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const b_=(t,e)=>new pF({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class gF{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new hF(e,r,n),this.decoder=new dF(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const jl=({name:t,prefix:e,encode:r,decode:n})=>new gF(t,e,r,n),rc=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=uF(r,e);return jl({prefix:t,name:e,encode:n,decode:a=>m_(s(a))})},yF=(t,e,r,n)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*r/8|0);let u=0,f=0,h=0;for(let p=0;p<a;++p){const m=s[t[p]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|m,u+=r,u>=8&&(u-=8,c[h++]=255&f>>u)}if(u>=r||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return c},mF=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let a="",c=0,u=0;for(let f=0;f<t.length;++f)for(u=u<<8|t[f],c+=8;c>r;)c-=r,a+=e[s&u>>c];if(c&&(a+=e[s&u<<r-c]),n)for(;a.length*r&7;)a+="=";return a},wr=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>jl({prefix:e,name:t,encode(s){return mF(s,n,r)},decode(s){return yF(s,n,r,t)}}),bF=jl({prefix:"\0",name:"identity",encode:t=>fF(t),decode:t=>lF(t)});var vF=Object.freeze({__proto__:null,identity:bF});const wF=wr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var _F=Object.freeze({__proto__:null,base2:wF});const EF=wr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var xF=Object.freeze({__proto__:null,base8:EF});const PF=rc({prefix:"9",name:"base10",alphabet:"0123456789"});var SF=Object.freeze({__proto__:null,base10:PF});const IF=wr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),DF=wr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var OF=Object.freeze({__proto__:null,base16:IF,base16upper:DF});const AF=wr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),CF=wr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),TF=wr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),RF=wr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),NF=wr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$F=wr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),FF=wr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),MF=wr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),jF=wr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var LF=Object.freeze({__proto__:null,base32:AF,base32upper:CF,base32pad:TF,base32padupper:RF,base32hex:NF,base32hexupper:$F,base32hexpad:FF,base32hexpadupper:MF,base32z:jF});const UF=rc({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),BF=rc({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var kF=Object.freeze({__proto__:null,base36:UF,base36upper:BF});const HF=rc({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),zF=rc({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var qF=Object.freeze({__proto__:null,base58btc:HF,base58flickr:zF});const KF=wr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),VF=wr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),GF=wr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),WF=wr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var YF=Object.freeze({__proto__:null,base64:KF,base64pad:VF,base64url:GF,base64urlpad:WF});const v_=Array.from(""),JF=v_.reduce((t,e,r)=>(t[r]=e,t),[]),XF=v_.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function QF(t){return t.reduce((e,r)=>(e+=JF[r],e),"")}function ZF(t){const e=[];for(const r of t){const n=XF[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const eM=jl({prefix:"",name:"base256emoji",encode:QF,decode:ZF});var tM=Object.freeze({__proto__:null,base256emoji:eM}),rM=w_,vb=128,nM=127,iM=~nM,sM=Math.pow(2,31);function w_(t,e,r){e=e||[],r=r||0;for(var n=r;t>=sM;)e[r++]=t&255|vb,t/=128;for(;t&iM;)e[r++]=t&255|vb,t>>>=7;return e[r]=t|0,w_.bytes=r-n+1,e}var oM=jd,aM=128,wb=127;function jd(t,n){var r=0,n=n||0,s=0,a=n,c,u=t.length;do{if(a>=u)throw jd.bytes=0,new RangeError("Could not decode varint");c=t[a++],r+=s<28?(c&wb)<<s:(c&wb)*Math.pow(2,s),s+=7}while(c>=aM);return jd.bytes=a-n,r}var cM=Math.pow(2,7),uM=Math.pow(2,14),lM=Math.pow(2,21),fM=Math.pow(2,28),hM=Math.pow(2,35),dM=Math.pow(2,42),pM=Math.pow(2,49),gM=Math.pow(2,56),yM=Math.pow(2,63),mM=function(t){return t<cM?1:t<uM?2:t<lM?3:t<fM?4:t<hM?5:t<dM?6:t<pM?7:t<gM?8:t<yM?9:10},bM={encode:rM,decode:oM,encodingLength:mM},__=bM;const _b=(t,e,r=0)=>(__.encode(t,e,r),e),Eb=t=>__.encodingLength(t),Ld=(t,e)=>{const r=e.byteLength,n=Eb(t),s=n+Eb(r),a=new Uint8Array(s+r);return _b(t,a,0),_b(r,a,n),a.set(e,s),new vM(t,r,e,a)};class vM{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}}const E_=({name:t,code:e,encode:r})=>new wM(t,e,r);class wM{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?Ld(this.code,r):r.then(n=>Ld(this.code,n))}else throw Error("Unknown type, must be binary type")}}const x_=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),_M=E_({name:"sha2-256",code:18,encode:x_("SHA-256")}),EM=E_({name:"sha2-512",code:19,encode:x_("SHA-512")});var xM=Object.freeze({__proto__:null,sha256:_M,sha512:EM});const P_=0,PM="identity",S_=m_,SM=t=>Ld(P_,S_(t)),IM={code:P_,name:PM,encode:S_,digest:SM};var DM=Object.freeze({__proto__:null,identity:IM});new TextEncoder,new TextDecoder;const xb={...vF,..._F,...xF,...SF,...OF,...LF,...kF,...qF,...YF,...tM};({...xM,...DM});function I_(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function OM(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?I_(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function D_(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Pb=D_("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Fh=D_("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=OM(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),AM={utf8:Pb,"utf-8":Pb,hex:xb.base16,latin1:Fh,ascii:Fh,binary:Fh,...xb};function CM(t,e="utf8"){const r=AM[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?I_(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}const O_="wc",TM=2,n0="core",Vi=`${O_}@2:${n0}:`,RM={name:n0,logger:"error"},NM={database:":memory:"},$M="crypto",Sb="client_ed25519_seed",FM=Ue.ONE_DAY,MM="keychain",jM="0.3",LM="messages",UM="0.3",BM=Ue.SIX_HOURS,kM="publisher",A_="irn",HM="error",C_="wss://relay.walletconnect.com",zM="relayer",cr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},qM="_subscription",ma={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},KM=Ue.ONE_SECOND/2,VM="2.7.8",GM=1e4,WM="0.3",Kn={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},YM="subscription",JM="0.3",XM=Ue.FIVE_SECONDS*1e3,QM="pairing",ZM="0.3",ba={wc_pairingDelete:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ue.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ue.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:0}}},qn={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},ej="history",tj="0.3",rj="expirer",vn={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},nj="0.3",Mh="verify-api",Ib="https://verify.walletconnect.com";class ij{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=MM,this.version=jM,this.initialized=!1,this.storagePrefix=Vi,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()},this.get=n=>{this.isInitialized();const s=this.keychain.get(n);if(typeof s>"u"){const{message:a}=Ce("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(a)}return s},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=ut.generateChildLogger(r,this.name)}get context(){return ut.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Ww(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Yw(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}}class sj{constructor(e,r,n){this.core=e,this.logger=r,this.name=$M,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=s=>(this.isInitialized(),this.keychain.has(s)),this.getClientId=async()=>{this.isInitialized();const s=await this.getClientSeed(),a=hb(s);return c_(a.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const s=HR();return this.setPrivateKey(s.publicKey,s.privateKey)},this.signJWT=async s=>{this.isInitialized();const a=await this.getClientSeed(),c=hb(a),u=Fd();return await j$(u,s,FM,c)},this.generateSharedKey=(s,a,c)=>{this.isInitialized();const u=this.getPrivateKey(s),f=zR(u,a);return this.setSymKey(f,c)},this.setSymKey=async(s,a)=>{this.isInitialized();const c=a||qR(s);return await this.keychain.set(c,s),c},this.deleteKeyPair=async s=>{this.isInitialized(),await this.keychain.del(s)},this.deleteSymKey=async s=>{this.isInitialized(),await this.keychain.del(s)},this.encode=async(s,a,c)=>{this.isInitialized();const u=Kw(c),f=Ka(a);if(km(u)){const b=u.senderPublicKey,_=u.receiverPublicKey;s=await this.generateSharedKey(b,_)}const h=this.getSymKey(s),{type:p,senderPublicKey:m}=u;return VR({type:p,symKey:h,message:f,senderPublicKey:m})},this.decode=async(s,a,c)=>{this.isInitialized();const u=YR(a,c);if(km(u)){const p=u.receiverPublicKey,m=u.senderPublicKey;s=await this.generateSharedKey(p,m)}const f=this.getSymKey(s),h=GR({symKey:f,encoded:a});return Qp(h)},this.getPayloadType=s=>{const a=qu(s);return Za(a.type)},this.getPayloadSenderPublicKey=s=>{const a=qu(s);return a.senderPublicKey?jr(a.senderPublicKey,Mr):void 0},this.core=e,this.logger=ut.generateChildLogger(r,this.name),this.keychain=n||new ij(this.core,this.logger)}get context(){return ut.getLoggerContext(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Sb)}catch{e=Fd(),await this.keychain.set(Sb,e)}return CM(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}}class oj extends d${constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=LM,this.version=UM,this.initialized=!1,this.storagePrefix=Vi,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,s)=>{this.isInitialized();const a=vo(s);let c=this.messages.get(n);return typeof c>"u"&&(c={}),typeof c[a]<"u"||(c[a]=s,this.messages.set(n,c),await this.persist()),a},this.get=n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s},this.has=(n,s)=>{this.isInitialized();const a=this.get(n),c=vo(s);return typeof a[c]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=ut.generateChildLogger(e,this.name),this.core=r}get context(){return ut.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Ww(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Yw(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}}let aj=class extends p${constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new an.EventEmitter,this.name=kM,this.queue=new Map,this.publishTimeout=1e4,this.publish=async(n,s,a)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:a}});try{const c=(a==null?void 0:a.ttl)||BM,u=Md(a),f=(a==null?void 0:a.prompt)||!1,h=(a==null?void 0:a.tag)||0,p=(a==null?void 0:a.id)||p_().toString(),m={topic:n,message:s,opts:{ttl:c,relay:u,prompt:f,tag:h,id:p}};this.queue.set(p,m);try{await await Ku(this.rpcPublish(n,s,c,u,f,h,p),this.publishTimeout),this.relayer.events.emit(cr.publish,m)}catch{this.logger.debug("Publishing Payload stalled"),this.relayer.events.emit(cr.connection_stalled);return}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:a}})}catch(c){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(c),c}},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.relayer=e,this.logger=ut.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return ut.getLoggerContext(this.logger)}rpcPublish(e,r,n,s,a,c,u){var f,h,p,m;const b={method:Iu(s.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:a,tag:c},id:u};return $r((f=b.params)==null?void 0:f.prompt)&&((h=b.params)==null||delete h.prompt),$r((p=b.params)==null?void 0:p.tag)&&((m=b.params)==null||delete m.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:b}),this.relayer.request(b)}onPublish(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:r,message:n,opts:s}=e;await this.publish(r,n,s)})}registerEventListeners(){this.relayer.core.heartbeat.on(tc.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()}),this.relayer.on(cr.message_ack,e=>{this.onPublish(e.id.toString())})}},cj=class{constructor(){this.map=new Map,this.set=(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const s=n.filter(a=>a!==r);if(!s.length){this.map.delete(e);return}this.map.set(e,s)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}};var uj=Object.defineProperty,lj=Object.defineProperties,fj=Object.getOwnPropertyDescriptors,Db=Object.getOwnPropertySymbols,hj=Object.prototype.hasOwnProperty,dj=Object.prototype.propertyIsEnumerable,Ob=(t,e,r)=>e in t?uj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,va=(t,e)=>{for(var r in e||(e={}))hj.call(e,r)&&Ob(t,r,e[r]);if(Db)for(var r of Db(e))dj.call(e,r)&&Ob(t,r,e[r]);return t},jh=(t,e)=>lj(t,fj(e));class pj extends m${constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new cj,this.events=new an.EventEmitter,this.name=YM,this.version=JM,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Vi,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,s)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{const a=Md(s),c={topic:n,relay:a};this.pending.set(n,c);const u=await this.rpcSubscribe(n,a);return this.onSubscribe(u,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}}),u}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}},this.unsubscribe=async(n,s)=>{await this.restartToComplete(),this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)},this.isSubscribed=async n=>this.topics.includes(n)?!0:await new Promise((s,a)=>{const c=new Ue.Watch;c.start(this.pendingSubscriptionWatchLabel);const u=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(u),c.stop(this.pendingSubscriptionWatchLabel),s(!0)),c.elapsed(this.pendingSubscriptionWatchLabel)>=XM&&(clearInterval(u),c.stop(this.pendingSubscriptionWatchLabel),a(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=ut.generateChildLogger(r,this.name),this.clientId=""}get context(){return ut.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async s=>await this.unsubscribeById(e,s,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const s=Md(n);await this.rpcUnsubscribe(e,r,s);const a=Jt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,a),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,r){const n={method:Iu(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Ku(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(cr.connection_stalled)}return vo(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:Iu(r.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await Ku(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(cr.connection_stalled)}}rpcUnsubscribe(e,r,n){const s={method:Iu(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,r){this.setSubscription(e,jh(va({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,va({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r))}addSubscription(e,r){this.subscriptions.set(e,va({},r)),this.topicMap.set(r.topic,e),this.events.emit(Kn.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=Ce("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Kn.deleted,jh(va({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Kn.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(Kn.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const r=await this.rpcBatchSubscribe(e);bi(r)&&this.onBatchSubscribe(r.map((n,s)=>jh(va({},e[s]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(tc.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(cr.connect,async()=>{await this.onConnect()}),this.relayer.on(cr.disconnect,()=>{this.onDisconnect()}),this.events.on(Kn.created,async e=>{const r=Kn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(Kn.deleted,async e=>{const r=Kn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}}var gj=Object.defineProperty,Ab=Object.getOwnPropertySymbols,yj=Object.prototype.hasOwnProperty,mj=Object.prototype.propertyIsEnumerable,Cb=(t,e,r)=>e in t?gj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bj=(t,e)=>{for(var r in e||(e={}))yj.call(e,r)&&Cb(t,r,e[r]);if(Ab)for(var r of Ab(e))mj.call(e,r)&&Cb(t,r,e[r]);return t};class vj extends g${constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new an.EventEmitter,this.name=zM,this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=async r=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(r)}catch(n){throw this.logger.debug("Failed to Publish Request"),this.logger.error(n),n}},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ut.generateChildLogger(e.logger,this.name):ut.pino(ut.getDefaultLoggerOptions({level:e.logger||HM})),this.messages=new oj(this.logger,e.core),this.subscriber=new pj(this,this.logger),this.publisher=new aj(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||C_,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribted to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},GM)}get context(){return ut.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now()})}async subscribe(e,r){var n;this.isInitialized();let s=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"";return s||(await Promise.all([new Promise(a=>{this.subscriber.once(Kn.created,c=>{c.topic===e&&a()})}),new Promise(async a=>{s=await this.subscriber.subscribe(e,r),a()})]),s)}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(cr.transport_closed))}async transportOpen(e){if(this.transportExplicitlyClosed=!1,!this.reconnecting){this.relayUrl=e||this.relayUrl,this.reconnecting=!0;try{await Promise.all([new Promise(r=>{this.initialized||r(),this.subscriber.once(Kn.resubscribed,()=>{r()})}),await Promise.race([new Promise(async(r,n)=>{await Ku(this.provider.connect(),5e3,"socket stalled").catch(s=>n(s)).then(()=>r()).finally(()=>this.removeListener(cr.transport_closed,this.rejectTransportOpen))}),new Promise(r=>this.once(cr.transport_closed,this.rejectTransportOpen))])])}catch(r){this.logger.error(r);const n=r;if(!this.isConnectionStalled(n.message))throw r;this.events.emit(cr.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(e){this.transportExplicitlyClosed||this.reconnecting||(this.relayUrl=e||this.relayUrl,this.connected&&await Promise.all([new Promise(r=>{this.provider.once(ma.disconnect,()=>{r()})}),this.transportClose()]),await this.createProvider(),await this.transportOpen())}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}rejectTransportOpen(){throw new Error("closeTransport called before connection was established")}async createProvider(){const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Xi(new iF(oN({sdkVersion:VM,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;return await this.subscriber.isSubscribed(r)?this.messages.has(r,n):!0}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),r0(e)){if(!e.method.endsWith(qM))return;const r=e.params,{topic:n,message:s,publishedAt:a}=r.data,c={topic:n,message:s,publishedAt:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(bj({type:"event",event:r.id},c)),this.events.emit(r.id,c),await this.acknowledgePayload(e),await this.onMessageEvent(c)}else Ml(e)&&this.events.emit(cr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(cr.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const r=t0(e.id,!0);await this.provider.connection.send(r)}registerProviderListeners(){this.provider.on(ma.payload,e=>this.onProviderPayload(e)),this.provider.on(ma.connect,()=>{this.events.emit(cr.connect)}),this.provider.on(ma.disconnect,()=>{this.onProviderDisconnect()}),this.provider.on(ma.error,e=>{this.logger.error(e),this.events.emit(cr.error,e)})}registerEventListeners(){this.events.on(cr.connection_stalled,async()=>{await this.restartTransport()})}onProviderDisconnect(){this.events.emit(cr.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.restartTransport()},Ue.toMiliseconds(KM))}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(!this.connected){if(this.connecting)return await new Promise(e=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var wj=Object.defineProperty,Tb=Object.getOwnPropertySymbols,_j=Object.prototype.hasOwnProperty,Ej=Object.prototype.propertyIsEnumerable,Rb=(t,e,r)=>e in t?wj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nb=(t,e)=>{for(var r in e||(e={}))_j.call(e,r)&&Rb(t,r,e[r]);if(Tb)for(var r of Tb(e))Ej.call(e,r)&&Rb(t,r,e[r]);return t};let Ll=class extends y${constructor(e,r,n,s=Vi,a=void 0){super(e,r,n,s),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=WM,this.cached=[],this.initialized=!1,this.storagePrefix=Vi,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!$r(c)?this.map.set(this.getKey(c),c):ON(c)?this.map.set(c.id,c):AN(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)},this.set=async(c,u)=>{this.isInitialized(),this.map.has(c)?await this.update(c,u):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:u}),this.map.set(c,u),await this.persist())},this.get=c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c)),this.getAll=c=>(this.isInitialized(),c?this.values.filter(u=>Object.keys(c).every(f=>oF(u[f],c[f]))):this.values),this.update=async(c,u)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:u});const f=Nb(Nb({},this.getData(c)),u);this.map.set(c,f),await this.persist()},this.delete=async(c,u)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:u}),this.map.delete(c),await this.persist())},this.logger=ut.generateChildLogger(r,this.name),this.storagePrefix=s,this.getKey=a}get context(){return ut.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){const{message:n}=Ce("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}};class xj{constructor(e,r){this.core=e,this.logger=r,this.name=QM,this.version=ZM,this.events=new Up,this.initialized=!1,this.storagePrefix=Vi,this.ignoredPayloadTypes=[Rs],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();const n=Fd(),s=await this.core.crypto.setSymKey(n),a=Vn(Ue.FIVE_MINUTES),c={protocol:A_},u={topic:s,expiry:a,relay:c,active:!1},f=bN({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:n,relay:c});return await this.pairings.set(s,u),await this.core.relayer.subscribe(s),this.core.expirer.set(s,a),{topic:s,uri:f}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);const{topic:s,symKey:a,relay:c}=gN(n.uri);if(this.pairings.keys.includes(s))throw new Error(`Pairing already exists: ${s}`);if(this.core.crypto.hasKeys(s))throw new Error(`Keychain already exists: ${s}`);const u=Vn(Ue.FIVE_MINUTES),f={topic:s,relay:c,expiry:u,active:!1};return await this.pairings.set(s,f),await this.core.crypto.setSymKey(a,s),await this.core.relayer.subscribe(s,{relay:c}),this.core.expirer.set(s,u),n.activatePairing&&await this.activate({topic:s}),f},this.activate=async({topic:n})=>{this.isInitialized();const s=Vn(Ue.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:s}),this.core.expirer.set(n,s)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:s}=n;if(this.pairings.keys.includes(s)){const a=await this.sendRequest(s,"wc_pairingPing",{}),{done:c,resolve:u,reject:f}=co();this.events.once(ar("pairing_ping",a),({error:h})=>{h?f(h):u()}),await c()}},this.updateExpiry=async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})},this.updateMetadata=async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Jt("USER_DISCONNECTED")),await this.deletePairing(s))},this.sendRequest=async(n,s,a)=>{const c=$l(s,a),u=await this.core.crypto.encode(n,c),f=ba[s].req;return this.core.history.set(n,c),this.core.relayer.publish(n,u,f),c.id},this.sendResult=async(n,s,a)=>{const c=t0(n,a),u=await this.core.crypto.encode(s,c),f=await this.core.history.get(s,n),h=ba[f.request.method].res;await this.core.relayer.publish(s,u,h),await this.core.history.resolve(c)},this.sendError=async(n,s,a)=>{const c=Fl(n,a),u=await this.core.crypto.encode(s,c),f=await this.core.history.get(s,n),h=ba[f.request.method]?ba[f.request.method].res:ba.unregistered_method.res;await this.core.relayer.publish(s,u,h),await this.core.history.resolve(c)},this.deletePairing=async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Jt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(s=>ji(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))},this.onRelayEventRequest=n=>{const{topic:s,payload:a}=n,c=a.method;if(this.pairings.keys.includes(s))switch(c){case"wc_pairingPing":return this.onPairingPingRequest(s,a);case"wc_pairingDelete":return this.onPairingDeleteRequest(s,a);default:return this.onUnknownRpcMethodRequest(s,a)}},this.onRelayEventResponse=async n=>{const{topic:s,payload:a}=n,c=(await this.core.history.get(s,a.id)).request.method;if(this.pairings.keys.includes(s))switch(c){case"wc_pairingPing":return this.onPairingPingResponse(s,a);default:return this.onUnknownRpcMethodResponse(c)}},this.onPairingPingRequest=async(n,s)=>{const{id:a}=s;try{this.isValidPing({topic:n}),await this.sendResult(a,n,!0),this.events.emit("pairing_ping",{id:a,topic:n})}catch(c){await this.sendError(a,n,c),this.logger.error(c)}},this.onPairingPingResponse=(n,s)=>{const{id:a}=s;setTimeout(()=>{di(s)?this.events.emit(ar("pairing_ping",a),{}):An(s)&&this.events.emit(ar("pairing_ping",a),{error:s.error})},500)},this.onPairingDeleteRequest=async(n,s)=>{const{id:a}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit("pairing_delete",{id:a,topic:n})}catch(c){await this.sendError(a,n,c),this.logger.error(c)}},this.onUnknownRpcMethodRequest=async(n,s)=>{const{id:a,method:c}=s;try{if(this.registeredMethods.includes(c))return;const u=Jt("WC_METHOD_UNSUPPORTED",c);await this.sendError(a,n,u),this.logger.error(u)}catch(u){await this.sendError(a,n,u),this.logger.error(u)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(Jt("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{if(!qr(n)){const{message:s}=Ce("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(s)}if(!DN(n.uri)){const{message:s}=Ce("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(s)}},this.isValidPing=async n=>{if(!qr(n)){const{message:a}=Ce("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(a)}const{topic:s}=n;await this.isValidPairingTopic(s)},this.isValidDisconnect=async n=>{if(!qr(n)){const{message:a}=Ce("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(a)}const{topic:s}=n;await this.isValidPairingTopic(s)},this.isValidPairingTopic=async n=>{if(!gr(n,!1)){const{message:s}=Ce("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){const{message:s}=Ce("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(ji(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:s}=Ce("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}},this.core=e,this.logger=ut.generateChildLogger(r,this.name),this.pairings=new Ll(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ut.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(cr.message,async e=>{const{topic:r,message:n}=e;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const s=await this.core.crypto.decode(r,n);r0(s)?(this.core.history.set(r,s),this.onRelayEventRequest({topic:r,payload:s})):Ml(s)&&(await this.core.history.resolve(s),this.onRelayEventResponse({topic:r,payload:s}))})}registerExpirerEvents(){this.core.expirer.on(vn.expired,async e=>{const{topic:r}=Xw(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit("pairing_expire",{topic:r}))})}}class Pj extends h${constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new an.EventEmitter,this.name=ej,this.version=tj,this.cached=[],this.initialized=!1,this.storagePrefix=Vi,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,s,a)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:a}),this.records.has(s.id))return;const c={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:a};this.records.set(c.id,c),this.events.emit(qn.created,c)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=An(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.events.emit(qn.updated,s))},this.get=async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s)),this.delete=(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(a=>{if(a.topic===n){if(typeof s<"u"&&a.id!==s)return;this.records.delete(a.id),this.events.emit(qn.deleted,a)}})},this.exists=async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1),this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.logger=ut.generateChildLogger(r,this.name)}get context(){return ut.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:$l(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=Ce("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(qn.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(qn.created,e=>{const r=qn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(qn.updated,e=>{const r=qn.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(qn.deleted,e=>{const r=qn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Sj extends b${constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new an.EventEmitter,this.name=rj,this.version=nj,this.cached=[],this.initialized=!1,this.storagePrefix=Vi,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch{return!1}},this.set=(n,s)=>{this.isInitialized();const a=this.formatTarget(n),c={target:a,expiry:s};this.expirations.set(a,c),this.checkExpiry(a,c),this.events.emit(vn.created,{target:a,expiration:c})},this.get=n=>{this.isInitialized();const s=this.formatTarget(n);return this.getExpiration(s)},this.del=n=>{if(this.isInitialized(),this.has(n)){const s=this.formatTarget(n),a=this.getExpiration(s);this.expirations.delete(s),this.events.emit(vn.deleted,{target:s,expiration:a})}},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.logger=ut.generateChildLogger(r,this.name)}get context(){return ut.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return aN(e);if(typeof e=="number")return cN(e);const{message:r}=Ce("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(vn.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=Ce("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;Ue.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(vn.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(tc.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(vn.created,e=>{const r=vn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(vn.expired,e=>{const r=vn.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(vn.deleted,e=>{const r=vn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Ij extends v${constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.name=Mh,this.initialized=!1,this.init=async n=>{Vw()||!Yp()||(this.verifyUrl=(n==null?void 0:n.verifyUrl)||Ib,await this.createIframe())},this.register=async n=>{var s;this.initialized||await this.init(),this.iframe&&((s=this.iframe.contentWindow)==null||s.postMessage(n.attestationId,this.verifyUrl),this.logger.info(`postMessage sent: ${n.attestationId} ${this.verifyUrl}`))},this.resolve=async n=>{var s;if(this.isDevEnv)return"";this.logger.info(`resolving attestation: ${n.attestationId}`);const a=this.startAbortTimer(Ue.FIVE_SECONDS),c=await fetch(`${this.verifyUrl}/attestation/${n.attestationId}`,{signal:this.abortController.signal});return clearTimeout(a),c.status===200?(s=await c.json())==null?void 0:s.origin:""},this.createIframe=async()=>{try{await Promise.race([new Promise((n,s)=>{if(document.getElementById(Mh))return n();const a=document.createElement("iframe");a.setAttribute("id",Mh),a.setAttribute("src",`${this.verifyUrl}/${this.projectId}`),a.style.display="none",a.addEventListener("load",()=>{this.initialized=!0,n()}),a.addEventListener("error",c=>{s(c)}),document.body.append(a),this.iframe=a}),new Promise(n=>{setTimeout(()=>n("iframe load timeout"),Ue.toMiliseconds(Ue.ONE_SECOND/2))})])}catch(n){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(n)}},this.logger=ut.generateChildLogger(r,this.name),this.verifyUrl=Ib,this.abortController=new AbortController,this.isDevEnv=Wp()&&{}.IS_VITEST}get context(){return ut.getLoggerContext(this.logger)}startAbortTimer(e){return setTimeout(()=>this.abortController.abort(),Ue.toMiliseconds(e))}}var Dj=Object.defineProperty,$b=Object.getOwnPropertySymbols,Oj=Object.prototype.hasOwnProperty,Aj=Object.prototype.propertyIsEnumerable,Fb=(t,e,r)=>e in t?Dj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mb=(t,e)=>{for(var r in e||(e={}))Oj.call(e,r)&&Fb(t,r,e[r]);if($b)for(var r of $b(e))Aj.call(e,r)&&Fb(t,r,e[r]);return t};let Cj=class T_ extends f${constructor(e){super(e),this.protocol=O_,this.version=TM,this.name=n0,this.events=new an.EventEmitter,this.initialized=!1,this.on=(n,s)=>this.events.on(n,s),this.once=(n,s)=>this.events.once(n,s),this.off=(n,s)=>this.events.off(n,s),this.removeListener=(n,s)=>this.events.removeListener(n,s),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||C_;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:ut.pino(ut.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||RM.logger}));this.logger=ut.generateChildLogger(r,this.name),this.heartbeat=new tc.HeartBeat,this.crypto=new sj(this,this.logger,e==null?void 0:e.keychain),this.history=new Pj(this,this.logger),this.expirer=new Sj(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new r$(Mb(Mb({},NM),e==null?void 0:e.storageOptions)),this.relayer=new vj({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new xj(this,this.logger),this.verify=new Ij(this.projectId||"",this.logger)}static async init(e){const r=new T_(e);return await r.initialize(),r}get context(){return ut.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const Tj=Cj,R_="wc",N_=2,$_="client",i0=`${R_}@${N_}:${$_}:`,Lh={name:$_,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},Rj="proposal",F_="Proposal expired",Nj="session",yu=Ue.SEVEN_DAYS,$j="engine",wa={wc_sessionPropose:{req:{ttl:Ue.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Ue.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Ue.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Ue.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Ue.THIRTY_SECONDS,prompt:!1,tag:1115}}},Uh={min:Ue.FIVE_MINUTES,max:Ue.SEVEN_DAYS},Fj="request",Mj=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var jj=Object.defineProperty,Lj=Object.defineProperties,Uj=Object.getOwnPropertyDescriptors,jb=Object.getOwnPropertySymbols,Bj=Object.prototype.hasOwnProperty,kj=Object.prototype.propertyIsEnumerable,Lb=(t,e,r)=>e in t?jj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bn=(t,e)=>{for(var r in e||(e={}))Bj.call(e,r)&&Lb(t,r,e[r]);if(jb)for(var r of jb(e))kj.call(e,r)&&Lb(t,r,e[r]);return t},Bh=(t,e)=>Lj(t,Uj(e));class Hj extends _${constructor(e){super(e),this.name=$j,this.events=new Up,this.initialized=!1,this.ignoredPayloadTypes=[Rs],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(wa)}),this.initialized=!0)},this.connect=async r=>{this.isInitialized();const n=Bh(bn({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:s,requiredNamespaces:a,optionalNamespaces:c,sessionProperties:u,relays:f}=n;let h=s,p,m=!1;if(h&&(m=this.client.core.pairing.pairings.get(h).active),!h||!m){const{topic:L,uri:D}=await this.client.core.pairing.create();h=L,p=D}const b=await this.client.core.crypto.generateKeyPair(),_=bn({requiredNamespaces:a,optionalNamespaces:c,relays:f??[{protocol:A_}],proposer:{publicKey:b,metadata:this.client.metadata}},u&&{sessionProperties:u}),{reject:x,resolve:N,done:M}=co(Ue.FIVE_MINUTES,F_);if(this.events.once(ar("session_connect"),async({error:L,session:D})=>{if(L)x(L);else if(D){D.self.publicKey=b;const T=Bh(bn({},D),{requiredNamespaces:D.requiredNamespaces,optionalNamespaces:D.optionalNamespaces});await this.client.session.set(D.topic,T),await this.setExpiry(D.topic,D.expiry),h&&await this.client.core.pairing.updateMetadata({topic:h,metadata:D.peer.metadata}),N(T)}}),!h){const{message:L}=Ce("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(L)}const z=await this.sendRequest(h,"wc_sessionPropose",_),C=Vn(Ue.FIVE_MINUTES);return await this.setProposal(z,bn({id:z,expiry:C},_)),{uri:p,approval:M}},this.pair=async r=>(this.isInitialized(),await this.client.core.pairing.pair(r)),this.approve=async r=>{this.isInitialized(),await this.isValidApprove(r);const{id:n,relayProtocol:s,namespaces:a,sessionProperties:c}=r,u=this.client.proposal.get(n);let{pairingTopic:f,proposer:h,requiredNamespaces:p,optionalNamespaces:m}=u;f=f||"",wo(p)||(p=EN(a,"approve()"));const b=await this.client.core.crypto.generateKeyPair(),_=h.publicKey,x=await this.client.core.crypto.generateSharedKey(b,_);f&&n&&(await this.client.core.pairing.updateMetadata({topic:f,metadata:h.metadata}),await this.sendResult(n,f,{relay:{protocol:s??"irn"},responderPublicKey:b}),await this.client.proposal.delete(n,Jt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:f}));const N=bn({relay:{protocol:s??"irn"},namespaces:a,requiredNamespaces:p,optionalNamespaces:m,pairingTopic:f,controller:{publicKey:b,metadata:this.client.metadata},expiry:Vn(yu)},c&&{sessionProperties:c});await this.client.core.relayer.subscribe(x),await this.sendRequest(x,"wc_sessionSettle",N);const M=Bh(bn({},N),{topic:x,pairingTopic:f,acknowledged:!1,self:N.controller,peer:{publicKey:h.publicKey,metadata:h.metadata},controller:b});return await this.client.session.set(x,M),await this.setExpiry(x,Vn(yu)),{topic:x,acknowledged:()=>new Promise(z=>setTimeout(()=>z(this.client.session.get(x)),500))}},this.reject=async r=>{this.isInitialized(),await this.isValidReject(r);const{id:n,reason:s}=r,{pairingTopic:a}=this.client.proposal.get(n);a&&(await this.sendError(n,a,s),await this.client.proposal.delete(n,Jt("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.isValidUpdate(r);const{topic:n,namespaces:s}=r,a=await this.sendRequest(n,"wc_sessionUpdate",{namespaces:s}),{done:c,resolve:u,reject:f}=co();return this.events.once(ar("session_update",a),({error:h})=>{h?f(h):u()}),await this.client.session.update(n,{namespaces:s}),{acknowledged:c}},this.extend=async r=>{this.isInitialized(),await this.isValidExtend(r);const{topic:n}=r,s=await this.sendRequest(n,"wc_sessionExtend",{}),{done:a,resolve:c,reject:u}=co();return this.events.once(ar("session_extend",s),({error:f})=>{f?u(f):c()}),await this.setExpiry(n,Vn(yu)),{acknowledged:a}},this.request=async r=>{this.isInitialized(),await this.isValidRequest(r);const{chainId:n,request:s,topic:a,expiry:c}=r,u=await this.sendRequest(a,"wc_sessionRequest",{request:s,chainId:n},c),{done:f,resolve:h,reject:p}=co(c);return this.events.once(ar("session_request",u),({error:m,result:b})=>{m?p(m):h(b)}),this.client.events.emit("session_request_sent",{topic:a,request:s,chainId:n,id:u}),await f()},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:s}=r,{id:a}=s;di(s)?await this.sendResult(a,n,s.result):An(s)&&await this.sendError(a,n,s.error),this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0})},this.ping=async r=>{this.isInitialized(),await this.isValidPing(r);const{topic:n}=r;if(this.client.session.keys.includes(n)){const s=await this.sendRequest(n,"wc_sessionPing",{}),{done:a,resolve:c,reject:u}=co();this.events.once(ar("session_ping",s),({error:f})=>{f?u(f):c()}),await a()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{this.isInitialized(),await this.isValidEmit(r);const{topic:n,event:s,chainId:a}=r;await this.sendRequest(n,"wc_sessionEvent",{event:s,chainId:a})},this.disconnect=async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:n}=r;this.client.session.keys.includes(n)?(await this.sendRequest(n,"wc_sessionDelete",Jt("USER_DISCONNECTED")),await this.deleteSession(n)):await this.client.core.pairing.disconnect({topic:n})},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>SN(n,r))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async r=>{try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(a=>{var c,u;return((c=a.peerMetadata)==null?void 0:c.url)&&((u=a.peerMetadata)==null?void 0:u.url)===r.peer.metadata.url&&a.topic&&a.topic!==n.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async(r,n)=>{const{self:s}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await Promise.all([this.client.session.delete(r,Jt("USER_DISCONNECTED")),this.client.core.crypto.deleteKeyPair(s.publicKey),this.client.core.crypto.deleteSymKey(r),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deleteProposal=async(r,n)=>{await Promise.all([this.client.proposal.delete(r,Jt("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deletePendingSessionRequest=async(r,n,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:n}),this.client.core.expirer.set(r,n)},this.setProposal=async(r,n)=>{await this.client.proposal.set(r,n),this.client.core.expirer.set(r,n.expiry)},this.setPendingSessionRequest=async r=>{const n=wa.wc_sessionRequest.req.ttl,{id:s,topic:a,params:c}=r;await this.client.pendingRequest.set(s,{id:s,topic:a,params:c}),n&&this.client.core.expirer.set(s,Vn(n))},this.sendRequest=async(r,n,s,a)=>{const c=$l(n,s);if(Yp()&&Mj.includes(n)){const h=vo(JSON.stringify(c));await this.client.core.verify.register({attestationId:h})}const u=await this.client.core.crypto.encode(r,c),f=wa[n].req;return a&&(f.ttl=a),this.client.core.history.set(r,c),this.client.core.relayer.publish(r,u,f),c.id},this.sendResult=async(r,n,s)=>{const a=t0(r,s),c=await this.client.core.crypto.encode(n,a),u=await this.client.core.history.get(n,r),f=wa[u.request.method].res;this.client.core.relayer.publish(n,c,f),await this.client.core.history.resolve(a)},this.sendError=async(r,n,s)=>{const a=Fl(r,s),c=await this.client.core.crypto.encode(n,a),u=await this.client.core.history.get(n,r),f=wa[u.request.method].res;this.client.core.relayer.publish(n,c,f),await this.client.core.history.resolve(a)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(s=>{ji(s.expiry)&&r.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{ji(s.expiry)&&n.push(s.id)}),await Promise.all([...r.map(s=>this.deleteSession(s)),...n.map(s=>this.deleteProposal(s))])},this.onRelayEventRequest=r=>{const{topic:n,payload:s}=r,a=s.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeRequest(n,s);case"wc_sessionSettle":return this.onSessionSettleRequest(n,s);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,s);case"wc_sessionExtend":return this.onSessionExtendRequest(n,s);case"wc_sessionPing":return this.onSessionPingRequest(n,s);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,s);case"wc_sessionRequest":return this.onSessionRequest(n,s);case"wc_sessionEvent":return this.onSessionEventRequest(n,s);default:return this.client.logger.info(`Unsupported request method ${a}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:s}=r,a=(await this.client.core.history.get(n,s.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(n,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,s);case"wc_sessionExtend":return this.onSessionExtendResponse(n,s);case"wc_sessionPing":return this.onSessionPingResponse(n,s);case"wc_sessionRequest":return this.onSessionRequestResponse(n,s);default:return this.client.logger.info(`Unsupported response method ${a}`)}},this.onSessionProposeRequest=async(r,n)=>{const{params:s,id:a}=n;try{this.isValidConnect(bn({},n.params));const c=Vn(Ue.FIVE_MINUTES),u=bn({id:a,pairingTopic:r,expiry:c},s);await this.setProposal(a,u);const f=vo(JSON.stringify(n)),h=await this.getVerifyContext(f,u.proposer.metadata);this.client.events.emit("session_proposal",{id:a,params:u,verifyContext:h})}catch(c){await this.sendError(a,r,c),this.client.logger.error(c)}},this.onSessionProposeResponse=async(r,n)=>{const{id:s}=n;if(di(n)){const{result:a}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const c=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:c});const u=c.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});const f=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:f});const h=await this.client.core.crypto.generateSharedKey(u,f);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:h});const p=await this.client.core.relayer.subscribe(h);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:p}),await this.client.core.pairing.activate({topic:r})}else An(n)&&(await this.client.proposal.delete(s,Jt("USER_DISCONNECTED")),this.events.emit(ar("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(r,n)=>{const{id:s,params:a}=n;try{this.isValidSessionSettleRequest(a);const{relay:c,controller:u,expiry:f,namespaces:h,requiredNamespaces:p,optionalNamespaces:m,sessionProperties:b,pairingTopic:_}=n.params,x=bn({topic:r,relay:c,expiry:f,namespaces:h,acknowledged:!0,pairingTopic:_,requiredNamespaces:p,optionalNamespaces:m,controller:u.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:u.publicKey,metadata:u.metadata}},b&&{sessionProperties:b});await this.sendResult(n.id,r,!0),this.events.emit(ar("session_connect"),{session:x}),this.cleanupDuplicatePairings(x)}catch(c){await this.sendError(s,r,c),this.client.logger.error(c)}},this.onSessionSettleResponse=async(r,n)=>{const{id:s}=n;di(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(ar("session_approve",s),{})):An(n)&&(await this.client.session.delete(r,Jt("USER_DISCONNECTED")),this.events.emit(ar("session_approve",s),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:s,id:a}=n;try{this.isValidUpdate(bn({topic:r},s)),await this.client.session.update(r,{namespaces:s.namespaces}),await this.sendResult(a,r,!0),this.client.events.emit("session_update",{id:a,topic:r,params:s})}catch(c){await this.sendError(a,r,c),this.client.logger.error(c)}},this.onSessionUpdateResponse=(r,n)=>{const{id:s}=n;di(n)?this.events.emit(ar("session_update",s),{}):An(n)&&this.events.emit(ar("session_update",s),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:s}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Vn(yu)),await this.sendResult(s,r,!0),this.client.events.emit("session_extend",{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.client.logger.error(a)}},this.onSessionExtendResponse=(r,n)=>{const{id:s}=n;di(n)?this.events.emit(ar("session_extend",s),{}):An(n)&&this.events.emit(ar("session_extend",s),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:s}=n;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.client.events.emit("session_ping",{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.client.logger.error(a)}},this.onSessionPingResponse=(r,n)=>{const{id:s}=n;setTimeout(()=>{di(n)?this.events.emit(ar("session_ping",s),{}):An(n)&&this.events.emit(ar("session_ping",s),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:s}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(a=>{this.client.core.relayer.once(cr.publish,async()=>{a(await this.deleteSession(r))})}),this.sendResult(s,r,!0)]),this.client.events.emit("session_delete",{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.client.logger.error(a)}},this.onSessionRequest=async(r,n)=>{const{id:s,params:a}=n;try{this.isValidRequest(bn({topic:r},a)),await this.setPendingSessionRequest({id:s,topic:r,params:a});const c=vo(JSON.stringify(n)),u=this.client.session.get(r),f=await this.getVerifyContext(c,u.peer.metadata);this.client.events.emit("session_request",{id:s,topic:r,params:a,verifyContext:f})}catch(c){await this.sendError(s,r,c),this.client.logger.error(c)}},this.onSessionRequestResponse=(r,n)=>{const{id:s}=n;di(n)?this.events.emit(ar("session_request",s),{result:n.result}):An(n)&&this.events.emit(ar("session_request",s),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:s,params:a}=n;try{this.isValidEmit(bn({topic:r},a)),this.client.events.emit("session_event",{id:s,topic:r,params:a})}catch(c){await this.sendError(s,r,c),this.client.logger.error(c)}},this.isValidConnect=async r=>{if(!qr(r)){const{message:f}=Ce("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(f)}const{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:a,sessionProperties:c,relays:u}=r;if($r(n)||await this.isValidPairingTopic(n),!jN(u,!0)){const{message:f}=Ce("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(f)}!$r(s)&&wo(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!$r(a)&&wo(a)!==0&&this.validateNamespaces(a,"optionalNamespaces"),$r(c)||this.validateSessionProps(c,"sessionProperties")},this.validateNamespaces=(r,n)=>{const s=MN(r,"connect()",n);if(s)throw new Error(s.message)},this.isValidApprove=async r=>{if(!qr(r))throw new Error(Ce("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:s,relayProtocol:a,sessionProperties:c}=r;await this.isValidProposalId(n);const u=this.client.proposal.get(n),f=Ou(s,"approve()");if(f)throw new Error(f.message);const h=Ym(u.requiredNamespaces,s,"approve()");if(h)throw new Error(h.message);if(!gr(a,!0)){const{message:p}=Ce("MISSING_OR_INVALID",`approve() relayProtocol: ${a}`);throw new Error(p)}$r(c)||this.validateSessionProps(c,"sessionProperties")},this.isValidReject=async r=>{if(!qr(r)){const{message:a}=Ce("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(a)}const{id:n,reason:s}=r;if(await this.isValidProposalId(n),!UN(s)){const{message:a}=Ce("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(a)}},this.isValidSessionSettleRequest=r=>{if(!qr(r)){const{message:h}=Ce("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(h)}const{relay:n,controller:s,namespaces:a,expiry:c}=r;if(!e_(n)){const{message:h}=Ce("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(h)}const u=CN(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);const f=Ou(a,"onSessionSettleRequest()");if(f)throw new Error(f.message);if(ji(c)){const{message:h}=Ce("EXPIRED","onSessionSettleRequest()");throw new Error(h)}},this.isValidUpdate=async r=>{if(!qr(r)){const{message:f}=Ce("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(f)}const{topic:n,namespaces:s}=r;await this.isValidSessionTopic(n);const a=this.client.session.get(n),c=Ou(s,"update()");if(c)throw new Error(c.message);const u=Ym(a.requiredNamespaces,s,"update()");if(u)throw new Error(u.message)},this.isValidExtend=async r=>{if(!qr(r)){const{message:s}=Ce("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!qr(r)){const{message:f}=Ce("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(f)}const{topic:n,request:s,chainId:a,expiry:c}=r;await this.isValidSessionTopic(n);const{namespaces:u}=this.client.session.get(n);if(!Wm(u,a)){const{message:f}=Ce("MISSING_OR_INVALID",`request() chainId: ${a}`);throw new Error(f)}if(!BN(s)){const{message:f}=Ce("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(f)}if(!zN(u,a,s.method)){const{message:f}=Ce("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(f)}if(c&&!GN(c,Uh)){const{message:f}=Ce("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${Uh.min} and ${Uh.max}`);throw new Error(f)}},this.isValidRespond=async r=>{if(!qr(r)){const{message:a}=Ce("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(a)}const{topic:n,response:s}=r;if(await this.isValidSessionTopic(n),!kN(s)){const{message:a}=Ce("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(a)}},this.isValidPing=async r=>{if(!qr(r)){const{message:s}=Ce("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!qr(r)){const{message:u}=Ce("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(u)}const{topic:n,event:s,chainId:a}=r;await this.isValidSessionTopic(n);const{namespaces:c}=this.client.session.get(n);if(!Wm(c,a)){const{message:u}=Ce("MISSING_OR_INVALID",`emit() chainId: ${a}`);throw new Error(u)}if(!HN(s)){const{message:u}=Ce("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(u)}if(!qN(c,a,s.name)){const{message:u}=Ce("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(u)}},this.isValidDisconnect=async r=>{if(!qr(r)){const{message:s}=Ce("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.getVerifyContext=async(r,n)=>{const s={verified:{verifyUrl:n.verifyUrl||"",validation:"UNKNOWN",origin:n.url||""}};try{const a=await this.client.core.verify.resolve({attestationId:r,verifyUrl:n.verifyUrl});a&&(s.verified.origin=a,s.verified.validation=a===n.url?"VALID":"INVALID")}catch(a){this.client.logger.error(a)}return this.client.logger.info(`Verify context: ${JSON.stringify(s)}`),s},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(s=>{if(!gr(s,!1)){const{message:a}=Ce("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(s)}`);throw new Error(a)}})}}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(cr.message,async e=>{const{topic:r,message:n}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;const s=await this.client.core.crypto.decode(r,n);r0(s)?(this.client.core.history.set(r,s),this.onRelayEventRequest({topic:r,payload:s})):Ml(s)&&(await this.client.core.history.resolve(s),this.onRelayEventResponse({topic:r,payload:s}))})}registerExpirerEvents(){this.client.core.expirer.on(vn.expired,async e=>{const{topic:r,id:n}=Xw(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Ce("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession(r,!0),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}isValidPairingTopic(e){if(!gr(e,!1)){const{message:r}=Ce("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=Ce("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(ji(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=Ce("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!gr(e,!1)){const{message:r}=Ce("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(!this.client.session.keys.includes(e)){const{message:r}=Ce("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(ji(this.client.session.get(e).expiry)){await this.deleteSession(e);const{message:r}=Ce("EXPIRED",`session topic: ${e}`);throw new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(gr(e,!1)){const{message:r}=Ce("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=Ce("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!LN(e)){const{message:r}=Ce("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=Ce("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(ji(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);const{message:r}=Ce("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class zj extends Ll{constructor(e,r){super(e,r,Rj,i0),this.core=e,this.logger=r}}class qj extends Ll{constructor(e,r){super(e,r,Nj,i0),this.core=e,this.logger=r}}class Kj extends Ll{constructor(e,r){super(e,r,Fj,i0,n=>n.id),this.core=e,this.logger=r}}let Vj=class M_ extends w${constructor(e){super(e),this.protocol=R_,this.version=N_,this.name=Lh.name,this.events=new an.EventEmitter,this.on=(n,s)=>this.events.on(n,s),this.once=(n,s)=>this.events.once(n,s),this.off=(n,s)=>this.events.off(n,s),this.removeListener=(n,s)=>this.events.removeListener(n,s),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(s){throw this.logger.error(s.message),s}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(s){throw this.logger.error(s.message),s}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(s){throw this.logger.error(s.message),s}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(s){throw this.logger.error(s.message),s}},this.update=async n=>{try{return await this.engine.update(n)}catch(s){throw this.logger.error(s.message),s}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(s){throw this.logger.error(s.message),s}},this.request=async n=>{try{return await this.engine.request(n)}catch(s){throw this.logger.error(s.message),s}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(s){throw this.logger.error(s.message),s}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(s){throw this.logger.error(s.message),s}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(s){throw this.logger.error(s.message),s}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(s){throw this.logger.error(s.message),s}},this.find=n=>{try{return this.engine.find(n)}catch(s){throw this.logger.error(s.message),s}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=(e==null?void 0:e.name)||Lh.name,this.metadata=(e==null?void 0:e.metadata)||rN();const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:ut.pino(ut.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||Lh.logger}));this.core=(e==null?void 0:e.core)||new Tj(e),this.logger=ut.generateChildLogger(r,this.name),this.session=new qj(this.core,this.logger),this.proposal=new zj(this.core,this.logger),this.pendingRequest=new Kj(this.core,this.logger),this.engine=new Hj(this)}static async init(e){const r=new M_(e);return await r.initialize(),r}get context(){return ut.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var Ud={exports:{}};(function(t,e){var r=typeof self<"u"?self:Pr,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(c){var u={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function f(E){return E&&DataView.prototype.isPrototypeOf(E)}if(u.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(E){return E&&h.indexOf(Object.prototype.toString.call(E))>-1};function m(E){if(typeof E!="string"&&(E=String(E)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(E))throw new TypeError("Invalid character in header field name");return E.toLowerCase()}function b(E){return typeof E!="string"&&(E=String(E)),E}function _(E){var A={next:function(){var Y=E.shift();return{done:Y===void 0,value:Y}}};return u.iterable&&(A[Symbol.iterator]=function(){return A}),A}function x(E){this.map={},E instanceof x?E.forEach(function(A,Y){this.append(Y,A)},this):Array.isArray(E)?E.forEach(function(A){this.append(A[0],A[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(A){this.append(A,E[A])},this)}x.prototype.append=function(E,A){E=m(E),A=b(A);var Y=this.map[E];this.map[E]=Y?Y+", "+A:A},x.prototype.delete=function(E){delete this.map[m(E)]},x.prototype.get=function(E){return E=m(E),this.has(E)?this.map[E]:null},x.prototype.has=function(E){return this.map.hasOwnProperty(m(E))},x.prototype.set=function(E,A){this.map[m(E)]=b(A)},x.prototype.forEach=function(E,A){for(var Y in this.map)this.map.hasOwnProperty(Y)&&E.call(A,this.map[Y],Y,this)},x.prototype.keys=function(){var E=[];return this.forEach(function(A,Y){E.push(Y)}),_(E)},x.prototype.values=function(){var E=[];return this.forEach(function(A){E.push(A)}),_(E)},x.prototype.entries=function(){var E=[];return this.forEach(function(A,Y){E.push([Y,A])}),_(E)},u.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function N(E){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}function M(E){return new Promise(function(A,Y){E.onload=function(){A(E.result)},E.onerror=function(){Y(E.error)}})}function z(E){var A=new FileReader,Y=M(A);return A.readAsArrayBuffer(E),Y}function C(E){var A=new FileReader,Y=M(A);return A.readAsText(E),Y}function L(E){for(var A=new Uint8Array(E),Y=new Array(A.length),te=0;te<A.length;te++)Y[te]=String.fromCharCode(A[te]);return Y.join("")}function D(E){if(E.slice)return E.slice(0);var A=new Uint8Array(E.byteLength);return A.set(new Uint8Array(E)),A.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(E){this._bodyInit=E,E?typeof E=="string"?this._bodyText=E:u.blob&&Blob.prototype.isPrototypeOf(E)?this._bodyBlob=E:u.formData&&FormData.prototype.isPrototypeOf(E)?this._bodyFormData=E:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)?this._bodyText=E.toString():u.arrayBuffer&&u.blob&&f(E)?(this._bodyArrayBuffer=D(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(E)||p(E))?this._bodyArrayBuffer=D(E):this._bodyText=E=Object.prototype.toString.call(E):this._bodyText="",this.headers.get("content-type")||(typeof E=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var E=N(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?N(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(z)}),this.text=function(){var E=N(this);if(E)return E;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(L(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(Z)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function d(E){var A=E.toUpperCase();return P.indexOf(A)>-1?A:E}function w(E,A){A=A||{};var Y=A.body;if(E instanceof w){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url,this.credentials=E.credentials,A.headers||(this.headers=new x(E.headers)),this.method=E.method,this.mode=E.mode,this.signal=E.signal,!Y&&E._bodyInit!=null&&(Y=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new x(A.headers)),this.method=d(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Y)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Y)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})};function Z(E){var A=new FormData;return E.trim().split("&").forEach(function(Y){if(Y){var te=Y.split("="),Q=te.shift().replace(/\+/g," "),J=te.join("=").replace(/\+/g," ");A.append(decodeURIComponent(Q),decodeURIComponent(J))}}),A}function B(E){var A=new x,Y=E.replace(/\r?\n[\t ]+/g," ");return Y.split(/\r?\n/).forEach(function(te){var Q=te.split(":"),J=Q.shift().trim();if(J){var ie=Q.join(":").trim();A.append(J,ie)}}),A}T.call(w.prototype);function V(E,A){A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in A?A.statusText:"OK",this.headers=new x(A.headers),this.url=A.url||"",this._initBody(E)}T.call(V.prototype),V.prototype.clone=function(){return new V(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},V.error=function(){var E=new V(null,{status:0,statusText:""});return E.type="error",E};var ee=[301,302,303,307,308];V.redirect=function(E,A){if(ee.indexOf(A)===-1)throw new RangeError("Invalid status code");return new V(null,{status:A,headers:{location:E}})},c.DOMException=a.DOMException;try{new c.DOMException}catch{c.DOMException=function(A,Y){this.message=A,this.name=Y;var te=Error(A);this.stack=te.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function ae(E,A){return new Promise(function(Y,te){var Q=new w(E,A);if(Q.signal&&Q.signal.aborted)return te(new c.DOMException("Aborted","AbortError"));var J=new XMLHttpRequest;function ie(){J.abort()}J.onload=function(){var ue={status:J.status,statusText:J.statusText,headers:B(J.getAllResponseHeaders()||"")};ue.url="responseURL"in J?J.responseURL:ue.headers.get("X-Request-URL");var xe="response"in J?J.response:J.responseText;Y(new V(xe,ue))},J.onerror=function(){te(new TypeError("Network request failed"))},J.ontimeout=function(){te(new TypeError("Network request failed"))},J.onabort=function(){te(new c.DOMException("Aborted","AbortError"))},J.open(Q.method,Q.url,!0),Q.credentials==="include"?J.withCredentials=!0:Q.credentials==="omit"&&(J.withCredentials=!1),"responseType"in J&&u.blob&&(J.responseType="blob"),Q.headers.forEach(function(ue,xe){J.setRequestHeader(xe,ue)}),Q.signal&&(Q.signal.addEventListener("abort",ie),J.onreadystatechange=function(){J.readyState===4&&Q.signal.removeEventListener("abort",ie)}),J.send(typeof Q._bodyInit>"u"?null:Q._bodyInit)})}return ae.polyfill=!0,a.fetch||(a.fetch=ae,a.Headers=x,a.Request=w,a.Response=V),c.Headers=x,c.Request=w,c.Response=V,c.fetch=ae,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=n;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(Ud,Ud.exports);var Gj=Ud.exports;const Ub=jp(Gj),Wj={Accept:"application/json","Content-Type":"application/json"},Yj="POST",Bb={headers:Wj,method:Yj},kb=10;class $s{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new an.EventEmitter,this.isAvailable=!1,this.registering=!1,!yb(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,r){this.isAvailable||await this.register();try{const n=Ka(e),a=await(await Ub(this.url,Object.assign(Object.assign({},Bb),{body:n}))).json();this.onPayload({data:a})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!yb(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),s(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=Ka({id:1,jsonrpc:"2.0",method:"test",params:[]});await Ub(e,Object.assign(Object.assign({},Bb),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Qp(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),a=Fl(e,s);this.events.emit("payload",a)}parseError(e,r=this.url){return f_(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>kb&&this.events.setMaxListeners(kb)}}const Hb="error",Jj="wss://relay.walletconnect.com",Xj="wc",Qj="universal_provider",zb=`${Xj}@2:${Qj}:`,Zj="https://rpc.walletconnect.com/v1",Qi={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var _a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bd={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(t,e){(function(){var r,n="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",m=1,b=2,_=4,x=1,N=2,M=1,z=2,C=4,L=8,D=16,T=32,P=64,d=128,w=256,Z=512,B=30,V="...",ee=800,ae=16,E=1,A=2,Y=3,te=1/0,Q=9007199254740991,J=17976931348623157e292,ie=0/0,ue=4294967295,xe=ue-1,ye=ue>>>1,Fe=[["ary",d],["bind",M],["bindKey",z],["curry",L],["curryRight",D],["flip",Z],["partial",T],["partialRight",P],["rearg",w]],Pe="[object Arguments]",Te="[object Array]",$="[object AsyncFunction]",H="[object Boolean]",j="[object Date]",y="[object DOMException]",U="[object Error]",I="[object Function]",R="[object GeneratorFunction]",q="[object Map]",re="[object Number]",ne="[object Null]",ce="[object Object]",we="[object Promise]",pe="[object Proxy]",fe="[object RegExp]",se="[object Set]",ve="[object String]",me="[object Symbol]",_e="[object Undefined]",Ee="[object WeakMap]",Se="[object WeakSet]",Ie="[object ArrayBuffer]",Ae="[object DataView]",Me="[object Float32Array]",Le="[object Float64Array]",Ve="[object Int8Array]",tt="[object Int16Array]",Ze="[object Int32Array]",nt="[object Uint8Array]",ze="[object Uint8ClampedArray]",Pt="[object Uint16Array]",mr="[object Uint32Array]",Mn=/\b__p \+= '';/g,Ir=/\b(__p \+=) '' \+/g,Xn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_i=/&(?:amp|lt|gt|quot|#39);/g,Zi=/[&<>"']/g,jt=RegExp(_i.source),Tt=RegExp(Zi.source),Lt=/<%-([\s\S]+?)%>/g,Ut=/<%([\s\S]+?)%>/g,$t=/<%=([\s\S]+?)%>/g,Rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,er=/^\w*$/,tr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bt=/[\\^$.*+?()[\]{}|]/g,rr=RegExp(Bt.source),kt=/^\s+/,qt=/\s/,Ht=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,St=/\{\n\/\* \[wrapped with (.+)\] \*/,nr=/,? & /,ir=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bl=/[()=,{}\[\]\/\s]/,kl=/\\(\\)?/g,Hl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,un=/\w*$/,zl=/^[-+]0x[0-9a-f]+$/i,ql=/^0b[01]+$/i,Kl=/^\[object .+?Constructor\]$/,Vl=/^0o[0-7]+$/i,Gl=/^(?:0|[1-9]\d*)$/,Qn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ms=/($^)/,Wl=/['\n\r\u2028\u2029\\]/g,js="\\ud800-\\udfff",Yl="\\u0300-\\u036f",Jl="\\ufe20-\\ufe2f",Ls="\\u20d0-\\u20ff",nc=Yl+Jl+Ls,ic="\\u2700-\\u27bf",xn="a-z\\xdf-\\xf6\\xf8-\\xff",Xl="\\xac\\xb1\\xd7\\xf7",Ql="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Zl="\\u2000-\\u206f",ef=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",sc="A-Z\\xc0-\\xd6\\xd8-\\xde",oc="\\ufe0e\\ufe0f",es=Xl+Ql+Zl+ef,ko="[']",ts="["+js+"]",Ho="["+es+"]",rs="["+nc+"]",ac="\\d+",tf="["+ic+"]",cc="["+xn+"]",uc="[^"+js+es+ac+ic+xn+sc+"]",Us="\\ud83c[\\udffb-\\udfff]",rf="(?:"+rs+"|"+Us+")",lc="[^"+js+"]",Bs="(?:\\ud83c[\\udde6-\\uddff]){2}",Ei="[\\ud800-\\udbff][\\udc00-\\udfff]",Yr="["+sc+"]",fc="\\u200d",hc="(?:"+cc+"|"+uc+")",jn="(?:"+Yr+"|"+uc+")",dc="(?:"+ko+"(?:d|ll|m|re|s|t|ve))?",pc="(?:"+ko+"(?:D|LL|M|RE|S|T|VE))?",gc=rf+"?",yc="["+oc+"]?",nf="(?:"+fc+"(?:"+[lc,Bs,Ei].join("|")+")"+yc+gc+")*",Zn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bc=yc+gc+nf,ks="(?:"+[tf,Bs,Ei].join("|")+")"+bc,sf="(?:"+[lc+rs+"?",rs,Bs,Ei,ts].join("|")+")",zo=RegExp(ko,"g"),of=RegExp(rs,"g"),Hs=RegExp(Us+"(?="+Us+")|"+sf+bc,"g"),vc=RegExp([Yr+"?"+cc+"+"+dc+"(?="+[Ho,Yr,"$"].join("|")+")",jn+"+"+pc+"(?="+[Ho,Yr+hc,"$"].join("|")+")",Yr+"?"+hc+"+"+dc,Yr+"+"+pc,mc,Zn,ac,ks].join("|"),"g"),wc=RegExp("["+fc+js+nc+oc+"]"),ns=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_c=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],af=-1,wt={};wt[Me]=wt[Le]=wt[Ve]=wt[tt]=wt[Ze]=wt[nt]=wt[ze]=wt[Pt]=wt[mr]=!0,wt[Pe]=wt[Te]=wt[Ie]=wt[H]=wt[Ae]=wt[j]=wt[U]=wt[I]=wt[q]=wt[re]=wt[ce]=wt[fe]=wt[se]=wt[ve]=wt[Ee]=!1;var bt={};bt[Pe]=bt[Te]=bt[Ie]=bt[Ae]=bt[H]=bt[j]=bt[Me]=bt[Le]=bt[Ve]=bt[tt]=bt[Ze]=bt[q]=bt[re]=bt[ce]=bt[fe]=bt[se]=bt[ve]=bt[me]=bt[nt]=bt[ze]=bt[Pt]=bt[mr]=!0,bt[U]=bt[I]=bt[Ee]=!1;var F={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ge={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Re={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_t=parseFloat,We=parseInt,Dt=typeof _a=="object"&&_a&&_a.Object===Object&&_a,sr=typeof self=="object"&&self&&self.Object===Object&&self,at=Dt||sr||Function("return this")(),Et=e&&!e.nodeType&&e,Kt=Et&&!0&&t&&!t.nodeType&&t,Lr=Kt&&Kt.exports===Et,or=Lr&&Dt.process,Ot=function(){try{var W=Kt&&Kt.require&&Kt.require("util").types;return W||or&&or.binding&&or.binding("util")}catch{}}(),Dr=Ot&&Ot.isArrayBuffer,Pn=Ot&&Ot.isDate,ln=Ot&&Ot.isMap,Ln=Ot&&Ot.isRegExp,qo=Ot&&Ot.isSet,is=Ot&&Ot.isTypedArray;function hr(W,le,oe){switch(oe.length){case 0:return W.call(le);case 1:return W.call(le,oe[0]);case 2:return W.call(le,oe[0],oe[1]);case 3:return W.call(le,oe[0],oe[1],oe[2])}return W.apply(le,oe)}function L_(W,le,oe,Ne){for(var Ge=-1,ht=W==null?0:W.length;++Ge<ht;){var ur=W[Ge];le(Ne,ur,oe(ur),W)}return Ne}function fn(W,le){for(var oe=-1,Ne=W==null?0:W.length;++oe<Ne&&le(W[oe],oe,W)!==!1;);return W}function U_(W,le){for(var oe=W==null?0:W.length;oe--&&le(W[oe],oe,W)!==!1;);return W}function c0(W,le){for(var oe=-1,Ne=W==null?0:W.length;++oe<Ne;)if(!le(W[oe],oe,W))return!1;return!0}function xi(W,le){for(var oe=-1,Ne=W==null?0:W.length,Ge=0,ht=[];++oe<Ne;){var ur=W[oe];le(ur,oe,W)&&(ht[Ge++]=ur)}return ht}function Ec(W,le){var oe=W==null?0:W.length;return!!oe&&zs(W,le,0)>-1}function cf(W,le,oe){for(var Ne=-1,Ge=W==null?0:W.length;++Ne<Ge;)if(oe(le,W[Ne]))return!0;return!1}function Nt(W,le){for(var oe=-1,Ne=W==null?0:W.length,Ge=Array(Ne);++oe<Ne;)Ge[oe]=le(W[oe],oe,W);return Ge}function Pi(W,le){for(var oe=-1,Ne=le.length,Ge=W.length;++oe<Ne;)W[Ge+oe]=le[oe];return W}function uf(W,le,oe,Ne){var Ge=-1,ht=W==null?0:W.length;for(Ne&&ht&&(oe=W[++Ge]);++Ge<ht;)oe=le(oe,W[Ge],Ge,W);return oe}function B_(W,le,oe,Ne){var Ge=W==null?0:W.length;for(Ne&&Ge&&(oe=W[--Ge]);Ge--;)oe=le(oe,W[Ge],Ge,W);return oe}function lf(W,le){for(var oe=-1,Ne=W==null?0:W.length;++oe<Ne;)if(le(W[oe],oe,W))return!0;return!1}var k_=ff("length");function H_(W){return W.split("")}function z_(W){return W.match(ir)||[]}function u0(W,le,oe){var Ne;return oe(W,function(Ge,ht,ur){if(le(Ge,ht,ur))return Ne=ht,!1}),Ne}function xc(W,le,oe,Ne){for(var Ge=W.length,ht=oe+(Ne?1:-1);Ne?ht--:++ht<Ge;)if(le(W[ht],ht,W))return ht;return-1}function zs(W,le,oe){return le===le?tE(W,le,oe):xc(W,l0,oe)}function q_(W,le,oe,Ne){for(var Ge=oe-1,ht=W.length;++Ge<ht;)if(Ne(W[Ge],le))return Ge;return-1}function l0(W){return W!==W}function f0(W,le){var oe=W==null?0:W.length;return oe?df(W,le)/oe:ie}function ff(W){return function(le){return le==null?r:le[W]}}function hf(W){return function(le){return W==null?r:W[le]}}function h0(W,le,oe,Ne,Ge){return Ge(W,function(ht,ur,xt){oe=Ne?(Ne=!1,ht):le(oe,ht,ur,xt)}),oe}function K_(W,le){var oe=W.length;for(W.sort(le);oe--;)W[oe]=W[oe].value;return W}function df(W,le){for(var oe,Ne=-1,Ge=W.length;++Ne<Ge;){var ht=le(W[Ne]);ht!==r&&(oe=oe===r?ht:oe+ht)}return oe}function pf(W,le){for(var oe=-1,Ne=Array(W);++oe<W;)Ne[oe]=le(oe);return Ne}function V_(W,le){return Nt(le,function(oe){return[oe,W[oe]]})}function d0(W){return W&&W.slice(0,m0(W)+1).replace(kt,"")}function Jr(W){return function(le){return W(le)}}function gf(W,le){return Nt(le,function(oe){return W[oe]})}function Ko(W,le){return W.has(le)}function p0(W,le){for(var oe=-1,Ne=W.length;++oe<Ne&&zs(le,W[oe],0)>-1;);return oe}function g0(W,le){for(var oe=W.length;oe--&&zs(le,W[oe],0)>-1;);return oe}function G_(W,le){for(var oe=W.length,Ne=0;oe--;)W[oe]===le&&++Ne;return Ne}var W_=hf(F),Y_=hf(G);function J_(W){return"\\"+Re[W]}function X_(W,le){return W==null?r:W[le]}function qs(W){return wc.test(W)}function Q_(W){return ns.test(W)}function Z_(W){for(var le,oe=[];!(le=W.next()).done;)oe.push(le.value);return oe}function yf(W){var le=-1,oe=Array(W.size);return W.forEach(function(Ne,Ge){oe[++le]=[Ge,Ne]}),oe}function y0(W,le){return function(oe){return W(le(oe))}}function Si(W,le){for(var oe=-1,Ne=W.length,Ge=0,ht=[];++oe<Ne;){var ur=W[oe];(ur===le||ur===p)&&(W[oe]=p,ht[Ge++]=oe)}return ht}function Pc(W){var le=-1,oe=Array(W.size);return W.forEach(function(Ne){oe[++le]=Ne}),oe}function eE(W){var le=-1,oe=Array(W.size);return W.forEach(function(Ne){oe[++le]=[Ne,Ne]}),oe}function tE(W,le,oe){for(var Ne=oe-1,Ge=W.length;++Ne<Ge;)if(W[Ne]===le)return Ne;return-1}function rE(W,le,oe){for(var Ne=oe+1;Ne--;)if(W[Ne]===le)return Ne;return Ne}function Ks(W){return qs(W)?iE(W):k_(W)}function Sn(W){return qs(W)?sE(W):H_(W)}function m0(W){for(var le=W.length;le--&&qt.test(W.charAt(le)););return le}var nE=hf(ge);function iE(W){for(var le=Hs.lastIndex=0;Hs.test(W);)++le;return le}function sE(W){return W.match(Hs)||[]}function oE(W){return W.match(vc)||[]}var aE=function W(le){le=le==null?at:Vs.defaults(at.Object(),le,Vs.pick(at,_c));var oe=le.Array,Ne=le.Date,Ge=le.Error,ht=le.Function,ur=le.Math,xt=le.Object,mf=le.RegExp,cE=le.String,hn=le.TypeError,Sc=oe.prototype,uE=ht.prototype,Gs=xt.prototype,Ic=le["__core-js_shared__"],Dc=uE.toString,gt=Gs.hasOwnProperty,lE=0,b0=function(){var i=/[^.]+$/.exec(Ic&&Ic.keys&&Ic.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Oc=Gs.toString,fE=Dc.call(xt),hE=at._,dE=mf("^"+Dc.call(gt).replace(Bt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ac=Lr?le.Buffer:r,Ii=le.Symbol,Cc=le.Uint8Array,v0=Ac?Ac.allocUnsafe:r,Tc=y0(xt.getPrototypeOf,xt),w0=xt.create,_0=Gs.propertyIsEnumerable,Rc=Sc.splice,E0=Ii?Ii.isConcatSpreadable:r,Vo=Ii?Ii.iterator:r,ss=Ii?Ii.toStringTag:r,Nc=function(){try{var i=ls(xt,"defineProperty");return i({},"",{}),i}catch{}}(),pE=le.clearTimeout!==at.clearTimeout&&le.clearTimeout,gE=Ne&&Ne.now!==at.Date.now&&Ne.now,yE=le.setTimeout!==at.setTimeout&&le.setTimeout,$c=ur.ceil,Fc=ur.floor,bf=xt.getOwnPropertySymbols,mE=Ac?Ac.isBuffer:r,x0=le.isFinite,bE=Sc.join,vE=y0(xt.keys,xt),lr=ur.max,_r=ur.min,wE=Ne.now,_E=le.parseInt,P0=ur.random,EE=Sc.reverse,vf=ls(le,"DataView"),Go=ls(le,"Map"),wf=ls(le,"Promise"),Ws=ls(le,"Set"),Wo=ls(le,"WeakMap"),Yo=ls(xt,"create"),Mc=Wo&&new Wo,Ys={},xE=fs(vf),PE=fs(Go),SE=fs(wf),IE=fs(Ws),DE=fs(Wo),jc=Ii?Ii.prototype:r,Jo=jc?jc.valueOf:r,S0=jc?jc.toString:r;function S(i){if(zt(i)&&!Ye(i)&&!(i instanceof st)){if(i instanceof dn)return i;if(gt.call(i,"__wrapped__"))return Ig(i)}return new dn(i)}var Js=function(){function i(){}return function(o){if(!Ft(o))return{};if(w0)return w0(o);i.prototype=o;var l=new i;return i.prototype=r,l}}();function Lc(){}function dn(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=r}S.templateSettings={escape:Lt,evaluate:Ut,interpolate:$t,variable:"",imports:{_:S}},S.prototype=Lc.prototype,S.prototype.constructor=S,dn.prototype=Js(Lc.prototype),dn.prototype.constructor=dn;function st(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function OE(){var i=new st(this.__wrapped__);return i.__actions__=Ur(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Ur(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Ur(this.__views__),i}function AE(){if(this.__filtered__){var i=new st(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function CE(){var i=this.__wrapped__.value(),o=this.__dir__,l=Ye(i),g=o<0,v=l?i.length:0,O=H6(0,v,this.__views__),k=O.start,K=O.end,X=K-k,he=g?K:k-1,de=this.__iteratees__,be=de.length,Oe=0,je=_r(X,this.__takeCount__);if(!l||!g&&v==X&&je==X)return Y0(i,this.__actions__);var ke=[];e:for(;X--&&Oe<je;){he+=o;for(var et=-1,He=i[he];++et<be;){var it=de[et],ct=it.iteratee,Zr=it.type,Cr=ct(He);if(Zr==A)He=Cr;else if(!Cr){if(Zr==E)continue e;break e}}ke[Oe++]=He}return ke}st.prototype=Js(Lc.prototype),st.prototype.constructor=st;function os(i){var o=-1,l=i==null?0:i.length;for(this.clear();++o<l;){var g=i[o];this.set(g[0],g[1])}}function TE(){this.__data__=Yo?Yo(null):{},this.size=0}function RE(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function NE(i){var o=this.__data__;if(Yo){var l=o[i];return l===f?r:l}return gt.call(o,i)?o[i]:r}function $E(i){var o=this.__data__;return Yo?o[i]!==r:gt.call(o,i)}function FE(i,o){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=Yo&&o===r?f:o,this}os.prototype.clear=TE,os.prototype.delete=RE,os.prototype.get=NE,os.prototype.has=$E,os.prototype.set=FE;function ei(i){var o=-1,l=i==null?0:i.length;for(this.clear();++o<l;){var g=i[o];this.set(g[0],g[1])}}function ME(){this.__data__=[],this.size=0}function jE(i){var o=this.__data__,l=Uc(o,i);if(l<0)return!1;var g=o.length-1;return l==g?o.pop():Rc.call(o,l,1),--this.size,!0}function LE(i){var o=this.__data__,l=Uc(o,i);return l<0?r:o[l][1]}function UE(i){return Uc(this.__data__,i)>-1}function BE(i,o){var l=this.__data__,g=Uc(l,i);return g<0?(++this.size,l.push([i,o])):l[g][1]=o,this}ei.prototype.clear=ME,ei.prototype.delete=jE,ei.prototype.get=LE,ei.prototype.has=UE,ei.prototype.set=BE;function ti(i){var o=-1,l=i==null?0:i.length;for(this.clear();++o<l;){var g=i[o];this.set(g[0],g[1])}}function kE(){this.size=0,this.__data__={hash:new os,map:new(Go||ei),string:new os}}function HE(i){var o=Xc(this,i).delete(i);return this.size-=o?1:0,o}function zE(i){return Xc(this,i).get(i)}function qE(i){return Xc(this,i).has(i)}function KE(i,o){var l=Xc(this,i),g=l.size;return l.set(i,o),this.size+=l.size==g?0:1,this}ti.prototype.clear=kE,ti.prototype.delete=HE,ti.prototype.get=zE,ti.prototype.has=qE,ti.prototype.set=KE;function as(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new ti;++o<l;)this.add(i[o])}function VE(i){return this.__data__.set(i,f),this}function GE(i){return this.__data__.has(i)}as.prototype.add=as.prototype.push=VE,as.prototype.has=GE;function In(i){var o=this.__data__=new ei(i);this.size=o.size}function WE(){this.__data__=new ei,this.size=0}function YE(i){var o=this.__data__,l=o.delete(i);return this.size=o.size,l}function JE(i){return this.__data__.get(i)}function XE(i){return this.__data__.has(i)}function QE(i,o){var l=this.__data__;if(l instanceof ei){var g=l.__data__;if(!Go||g.length<s-1)return g.push([i,o]),this.size=++l.size,this;l=this.__data__=new ti(g)}return l.set(i,o),this.size=l.size,this}In.prototype.clear=WE,In.prototype.delete=YE,In.prototype.get=JE,In.prototype.has=XE,In.prototype.set=QE;function I0(i,o){var l=Ye(i),g=!l&&hs(i),v=!l&&!g&&Ti(i),O=!l&&!g&&!v&&eo(i),k=l||g||v||O,K=k?pf(i.length,cE):[],X=K.length;for(var he in i)(o||gt.call(i,he))&&!(k&&(he=="length"||v&&(he=="offset"||he=="parent")||O&&(he=="buffer"||he=="byteLength"||he=="byteOffset")||si(he,X)))&&K.push(he);return K}function D0(i){var o=i.length;return o?i[Tf(0,o-1)]:r}function ZE(i,o){return Qc(Ur(i),cs(o,0,i.length))}function e6(i){return Qc(Ur(i))}function _f(i,o,l){(l!==r&&!Dn(i[o],l)||l===r&&!(o in i))&&ri(i,o,l)}function Xo(i,o,l){var g=i[o];(!(gt.call(i,o)&&Dn(g,l))||l===r&&!(o in i))&&ri(i,o,l)}function Uc(i,o){for(var l=i.length;l--;)if(Dn(i[l][0],o))return l;return-1}function t6(i,o,l,g){return Di(i,function(v,O,k){o(g,v,l(v),k)}),g}function O0(i,o){return i&&Bn(o,dr(o),i)}function r6(i,o){return i&&Bn(o,kr(o),i)}function ri(i,o,l){o=="__proto__"&&Nc?Nc(i,o,{configurable:!0,enumerable:!0,value:l,writable:!0}):i[o]=l}function Ef(i,o){for(var l=-1,g=o.length,v=oe(g),O=i==null;++l<g;)v[l]=O?r:rh(i,o[l]);return v}function cs(i,o,l){return i===i&&(l!==r&&(i=i<=l?i:l),o!==r&&(i=i>=o?i:o)),i}function pn(i,o,l,g,v,O){var k,K=o&m,X=o&b,he=o&_;if(l&&(k=v?l(i,g,v,O):l(i)),k!==r)return k;if(!Ft(i))return i;var de=Ye(i);if(de){if(k=q6(i),!K)return Ur(i,k)}else{var be=Er(i),Oe=be==I||be==R;if(Ti(i))return Q0(i,K);if(be==ce||be==Pe||Oe&&!v){if(k=X||Oe?{}:mg(i),!K)return X?N6(i,r6(k,i)):R6(i,O0(k,i))}else{if(!bt[be])return v?i:{};k=K6(i,be,K)}}O||(O=new In);var je=O.get(i);if(je)return je;O.set(i,k),Vg(i)?i.forEach(function(He){k.add(pn(He,o,l,He,i,O))}):qg(i)&&i.forEach(function(He,it){k.set(it,pn(He,o,l,it,i,O))});var ke=he?X?Hf:kf:X?kr:dr,et=de?r:ke(i);return fn(et||i,function(He,it){et&&(it=He,He=i[it]),Xo(k,it,pn(He,o,l,it,i,O))}),k}function n6(i){var o=dr(i);return function(l){return A0(l,i,o)}}function A0(i,o,l){var g=l.length;if(i==null)return!g;for(i=xt(i);g--;){var v=l[g],O=o[v],k=i[v];if(k===r&&!(v in i)||!O(k))return!1}return!0}function C0(i,o,l){if(typeof i!="function")throw new hn(c);return ia(function(){i.apply(r,l)},o)}function Qo(i,o,l,g){var v=-1,O=Ec,k=!0,K=i.length,X=[],he=o.length;if(!K)return X;l&&(o=Nt(o,Jr(l))),g?(O=cf,k=!1):o.length>=s&&(O=Ko,k=!1,o=new as(o));e:for(;++v<K;){var de=i[v],be=l==null?de:l(de);if(de=g||de!==0?de:0,k&&be===be){for(var Oe=he;Oe--;)if(o[Oe]===be)continue e;X.push(de)}else O(o,be,g)||X.push(de)}return X}var Di=ng(Un),T0=ng(Pf,!0);function i6(i,o){var l=!0;return Di(i,function(g,v,O){return l=!!o(g,v,O),l}),l}function Bc(i,o,l){for(var g=-1,v=i.length;++g<v;){var O=i[g],k=o(O);if(k!=null&&(K===r?k===k&&!Qr(k):l(k,K)))var K=k,X=O}return X}function s6(i,o,l,g){var v=i.length;for(l=Qe(l),l<0&&(l=-l>v?0:v+l),g=g===r||g>v?v:Qe(g),g<0&&(g+=v),g=l>g?0:Wg(g);l<g;)i[l++]=o;return i}function R0(i,o){var l=[];return Di(i,function(g,v,O){o(g,v,O)&&l.push(g)}),l}function br(i,o,l,g,v){var O=-1,k=i.length;for(l||(l=G6),v||(v=[]);++O<k;){var K=i[O];o>0&&l(K)?o>1?br(K,o-1,l,g,v):Pi(v,K):g||(v[v.length]=K)}return v}var xf=ig(),N0=ig(!0);function Un(i,o){return i&&xf(i,o,dr)}function Pf(i,o){return i&&N0(i,o,dr)}function kc(i,o){return xi(o,function(l){return oi(i[l])})}function us(i,o){o=Ai(o,i);for(var l=0,g=o.length;i!=null&&l<g;)i=i[kn(o[l++])];return l&&l==g?i:r}function $0(i,o,l){var g=o(i);return Ye(i)?g:Pi(g,l(i))}function Or(i){return i==null?i===r?_e:ne:ss&&ss in xt(i)?k6(i):e2(i)}function Sf(i,o){return i>o}function o6(i,o){return i!=null&&gt.call(i,o)}function a6(i,o){return i!=null&&o in xt(i)}function c6(i,o,l){return i>=_r(o,l)&&i<lr(o,l)}function If(i,o,l){for(var g=l?cf:Ec,v=i[0].length,O=i.length,k=O,K=oe(O),X=1/0,he=[];k--;){var de=i[k];k&&o&&(de=Nt(de,Jr(o))),X=_r(de.length,X),K[k]=!l&&(o||v>=120&&de.length>=120)?new as(k&&de):r}de=i[0];var be=-1,Oe=K[0];e:for(;++be<v&&he.length<X;){var je=de[be],ke=o?o(je):je;if(je=l||je!==0?je:0,!(Oe?Ko(Oe,ke):g(he,ke,l))){for(k=O;--k;){var et=K[k];if(!(et?Ko(et,ke):g(i[k],ke,l)))continue e}Oe&&Oe.push(ke),he.push(je)}}return he}function u6(i,o,l,g){return Un(i,function(v,O,k){o(g,l(v),O,k)}),g}function Zo(i,o,l){o=Ai(o,i),i=_g(i,o);var g=i==null?i:i[kn(yn(o))];return g==null?r:hr(g,i,l)}function F0(i){return zt(i)&&Or(i)==Pe}function l6(i){return zt(i)&&Or(i)==Ie}function f6(i){return zt(i)&&Or(i)==j}function ea(i,o,l,g,v){return i===o?!0:i==null||o==null||!zt(i)&&!zt(o)?i!==i&&o!==o:h6(i,o,l,g,ea,v)}function h6(i,o,l,g,v,O){var k=Ye(i),K=Ye(o),X=k?Te:Er(i),he=K?Te:Er(o);X=X==Pe?ce:X,he=he==Pe?ce:he;var de=X==ce,be=he==ce,Oe=X==he;if(Oe&&Ti(i)){if(!Ti(o))return!1;k=!0,de=!1}if(Oe&&!de)return O||(O=new In),k||eo(i)?pg(i,o,l,g,v,O):U6(i,o,X,l,g,v,O);if(!(l&x)){var je=de&&gt.call(i,"__wrapped__"),ke=be&&gt.call(o,"__wrapped__");if(je||ke){var et=je?i.value():i,He=ke?o.value():o;return O||(O=new In),v(et,He,l,g,O)}}return Oe?(O||(O=new In),B6(i,o,l,g,v,O)):!1}function d6(i){return zt(i)&&Er(i)==q}function Df(i,o,l,g){var v=l.length,O=v,k=!g;if(i==null)return!O;for(i=xt(i);v--;){var K=l[v];if(k&&K[2]?K[1]!==i[K[0]]:!(K[0]in i))return!1}for(;++v<O;){K=l[v];var X=K[0],he=i[X],de=K[1];if(k&&K[2]){if(he===r&&!(X in i))return!1}else{var be=new In;if(g)var Oe=g(he,de,X,i,o,be);if(!(Oe===r?ea(de,he,x|N,g,be):Oe))return!1}}return!0}function M0(i){if(!Ft(i)||Y6(i))return!1;var o=oi(i)?dE:Kl;return o.test(fs(i))}function p6(i){return zt(i)&&Or(i)==fe}function g6(i){return zt(i)&&Er(i)==se}function y6(i){return zt(i)&&iu(i.length)&&!!wt[Or(i)]}function j0(i){return typeof i=="function"?i:i==null?Hr:typeof i=="object"?Ye(i)?B0(i[0],i[1]):U0(i):sy(i)}function Of(i){if(!na(i))return vE(i);var o=[];for(var l in xt(i))gt.call(i,l)&&l!="constructor"&&o.push(l);return o}function m6(i){if(!Ft(i))return Z6(i);var o=na(i),l=[];for(var g in i)g=="constructor"&&(o||!gt.call(i,g))||l.push(g);return l}function Af(i,o){return i<o}function L0(i,o){var l=-1,g=Br(i)?oe(i.length):[];return Di(i,function(v,O,k){g[++l]=o(v,O,k)}),g}function U0(i){var o=qf(i);return o.length==1&&o[0][2]?vg(o[0][0],o[0][1]):function(l){return l===i||Df(l,i,o)}}function B0(i,o){return Vf(i)&&bg(o)?vg(kn(i),o):function(l){var g=rh(l,i);return g===r&&g===o?nh(l,i):ea(o,g,x|N)}}function Hc(i,o,l,g,v){i!==o&&xf(o,function(O,k){if(v||(v=new In),Ft(O))b6(i,o,k,l,Hc,g,v);else{var K=g?g(Wf(i,k),O,k+"",i,o,v):r;K===r&&(K=O),_f(i,k,K)}},kr)}function b6(i,o,l,g,v,O,k){var K=Wf(i,l),X=Wf(o,l),he=k.get(X);if(he){_f(i,l,he);return}var de=O?O(K,X,l+"",i,o,k):r,be=de===r;if(be){var Oe=Ye(X),je=!Oe&&Ti(X),ke=!Oe&&!je&&eo(X);de=X,Oe||je||ke?Ye(K)?de=K:Vt(K)?de=Ur(K):je?(be=!1,de=Q0(X,!0)):ke?(be=!1,de=Z0(X,!0)):de=[]:sa(X)||hs(X)?(de=K,hs(K)?de=Yg(K):(!Ft(K)||oi(K))&&(de=mg(X))):be=!1}be&&(k.set(X,de),v(de,X,g,O,k),k.delete(X)),_f(i,l,de)}function k0(i,o){var l=i.length;if(l)return o+=o<0?l:0,si(o,l)?i[o]:r}function H0(i,o,l){o.length?o=Nt(o,function(O){return Ye(O)?function(k){return us(k,O.length===1?O[0]:O)}:O}):o=[Hr];var g=-1;o=Nt(o,Jr(Be()));var v=L0(i,function(O,k,K){var X=Nt(o,function(he){return he(O)});return{criteria:X,index:++g,value:O}});return K_(v,function(O,k){return T6(O,k,l)})}function v6(i,o){return z0(i,o,function(l,g){return nh(i,g)})}function z0(i,o,l){for(var g=-1,v=o.length,O={};++g<v;){var k=o[g],K=us(i,k);l(K,k)&&ta(O,Ai(k,i),K)}return O}function w6(i){return function(o){return us(o,i)}}function Cf(i,o,l,g){var v=g?q_:zs,O=-1,k=o.length,K=i;for(i===o&&(o=Ur(o)),l&&(K=Nt(i,Jr(l)));++O<k;)for(var X=0,he=o[O],de=l?l(he):he;(X=v(K,de,X,g))>-1;)K!==i&&Rc.call(K,X,1),Rc.call(i,X,1);return i}function q0(i,o){for(var l=i?o.length:0,g=l-1;l--;){var v=o[l];if(l==g||v!==O){var O=v;si(v)?Rc.call(i,v,1):$f(i,v)}}return i}function Tf(i,o){return i+Fc(P0()*(o-i+1))}function _6(i,o,l,g){for(var v=-1,O=lr($c((o-i)/(l||1)),0),k=oe(O);O--;)k[g?O:++v]=i,i+=l;return k}function Rf(i,o){var l="";if(!i||o<1||o>Q)return l;do o%2&&(l+=i),o=Fc(o/2),o&&(i+=i);while(o);return l}function rt(i,o){return Yf(wg(i,o,Hr),i+"")}function E6(i){return D0(to(i))}function x6(i,o){var l=to(i);return Qc(l,cs(o,0,l.length))}function ta(i,o,l,g){if(!Ft(i))return i;o=Ai(o,i);for(var v=-1,O=o.length,k=O-1,K=i;K!=null&&++v<O;){var X=kn(o[v]),he=l;if(X==="__proto__"||X==="constructor"||X==="prototype")return i;if(v!=k){var de=K[X];he=g?g(de,X,K):r,he===r&&(he=Ft(de)?de:si(o[v+1])?[]:{})}Xo(K,X,he),K=K[X]}return i}var K0=Mc?function(i,o){return Mc.set(i,o),i}:Hr,P6=Nc?function(i,o){return Nc(i,"toString",{configurable:!0,enumerable:!1,value:sh(o),writable:!0})}:Hr;function S6(i){return Qc(to(i))}function gn(i,o,l){var g=-1,v=i.length;o<0&&(o=-o>v?0:v+o),l=l>v?v:l,l<0&&(l+=v),v=o>l?0:l-o>>>0,o>>>=0;for(var O=oe(v);++g<v;)O[g]=i[g+o];return O}function I6(i,o){var l;return Di(i,function(g,v,O){return l=o(g,v,O),!l}),!!l}function zc(i,o,l){var g=0,v=i==null?g:i.length;if(typeof o=="number"&&o===o&&v<=ye){for(;g<v;){var O=g+v>>>1,k=i[O];k!==null&&!Qr(k)&&(l?k<=o:k<o)?g=O+1:v=O}return v}return Nf(i,o,Hr,l)}function Nf(i,o,l,g){var v=0,O=i==null?0:i.length;if(O===0)return 0;o=l(o);for(var k=o!==o,K=o===null,X=Qr(o),he=o===r;v<O;){var de=Fc((v+O)/2),be=l(i[de]),Oe=be!==r,je=be===null,ke=be===be,et=Qr(be);if(k)var He=g||ke;else he?He=ke&&(g||Oe):K?He=ke&&Oe&&(g||!je):X?He=ke&&Oe&&!je&&(g||!et):je||et?He=!1:He=g?be<=o:be<o;He?v=de+1:O=de}return _r(O,xe)}function V0(i,o){for(var l=-1,g=i.length,v=0,O=[];++l<g;){var k=i[l],K=o?o(k):k;if(!l||!Dn(K,X)){var X=K;O[v++]=k===0?0:k}}return O}function G0(i){return typeof i=="number"?i:Qr(i)?ie:+i}function Xr(i){if(typeof i=="string")return i;if(Ye(i))return Nt(i,Xr)+"";if(Qr(i))return S0?S0.call(i):"";var o=i+"";return o=="0"&&1/i==-te?"-0":o}function Oi(i,o,l){var g=-1,v=Ec,O=i.length,k=!0,K=[],X=K;if(l)k=!1,v=cf;else if(O>=s){var he=o?null:j6(i);if(he)return Pc(he);k=!1,v=Ko,X=new as}else X=o?[]:K;e:for(;++g<O;){var de=i[g],be=o?o(de):de;if(de=l||de!==0?de:0,k&&be===be){for(var Oe=X.length;Oe--;)if(X[Oe]===be)continue e;o&&X.push(be),K.push(de)}else v(X,be,l)||(X!==K&&X.push(be),K.push(de))}return K}function $f(i,o){return o=Ai(o,i),i=_g(i,o),i==null||delete i[kn(yn(o))]}function W0(i,o,l,g){return ta(i,o,l(us(i,o)),g)}function qc(i,o,l,g){for(var v=i.length,O=g?v:-1;(g?O--:++O<v)&&o(i[O],O,i););return l?gn(i,g?0:O,g?O+1:v):gn(i,g?O+1:0,g?v:O)}function Y0(i,o){var l=i;return l instanceof st&&(l=l.value()),uf(o,function(g,v){return v.func.apply(v.thisArg,Pi([g],v.args))},l)}function Ff(i,o,l){var g=i.length;if(g<2)return g?Oi(i[0]):[];for(var v=-1,O=oe(g);++v<g;)for(var k=i[v],K=-1;++K<g;)K!=v&&(O[v]=Qo(O[v]||k,i[K],o,l));return Oi(br(O,1),o,l)}function J0(i,o,l){for(var g=-1,v=i.length,O=o.length,k={};++g<v;){var K=g<O?o[g]:r;l(k,i[g],K)}return k}function Mf(i){return Vt(i)?i:[]}function jf(i){return typeof i=="function"?i:Hr}function Ai(i,o){return Ye(i)?i:Vf(i,o)?[i]:Sg(dt(i))}var D6=rt;function Ci(i,o,l){var g=i.length;return l=l===r?g:l,!o&&l>=g?i:gn(i,o,l)}var X0=pE||function(i){return at.clearTimeout(i)};function Q0(i,o){if(o)return i.slice();var l=i.length,g=v0?v0(l):new i.constructor(l);return i.copy(g),g}function Lf(i){var o=new i.constructor(i.byteLength);return new Cc(o).set(new Cc(i)),o}function O6(i,o){var l=o?Lf(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.byteLength)}function A6(i){var o=new i.constructor(i.source,un.exec(i));return o.lastIndex=i.lastIndex,o}function C6(i){return Jo?xt(Jo.call(i)):{}}function Z0(i,o){var l=o?Lf(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.length)}function eg(i,o){if(i!==o){var l=i!==r,g=i===null,v=i===i,O=Qr(i),k=o!==r,K=o===null,X=o===o,he=Qr(o);if(!K&&!he&&!O&&i>o||O&&k&&X&&!K&&!he||g&&k&&X||!l&&X||!v)return 1;if(!g&&!O&&!he&&i<o||he&&l&&v&&!g&&!O||K&&l&&v||!k&&v||!X)return-1}return 0}function T6(i,o,l){for(var g=-1,v=i.criteria,O=o.criteria,k=v.length,K=l.length;++g<k;){var X=eg(v[g],O[g]);if(X){if(g>=K)return X;var he=l[g];return X*(he=="desc"?-1:1)}}return i.index-o.index}function tg(i,o,l,g){for(var v=-1,O=i.length,k=l.length,K=-1,X=o.length,he=lr(O-k,0),de=oe(X+he),be=!g;++K<X;)de[K]=o[K];for(;++v<k;)(be||v<O)&&(de[l[v]]=i[v]);for(;he--;)de[K++]=i[v++];return de}function rg(i,o,l,g){for(var v=-1,O=i.length,k=-1,K=l.length,X=-1,he=o.length,de=lr(O-K,0),be=oe(de+he),Oe=!g;++v<de;)be[v]=i[v];for(var je=v;++X<he;)be[je+X]=o[X];for(;++k<K;)(Oe||v<O)&&(be[je+l[k]]=i[v++]);return be}function Ur(i,o){var l=-1,g=i.length;for(o||(o=oe(g));++l<g;)o[l]=i[l];return o}function Bn(i,o,l,g){var v=!l;l||(l={});for(var O=-1,k=o.length;++O<k;){var K=o[O],X=g?g(l[K],i[K],K,l,i):r;X===r&&(X=i[K]),v?ri(l,K,X):Xo(l,K,X)}return l}function R6(i,o){return Bn(i,Kf(i),o)}function N6(i,o){return Bn(i,gg(i),o)}function Kc(i,o){return function(l,g){var v=Ye(l)?L_:t6,O=o?o():{};return v(l,i,Be(g,2),O)}}function Xs(i){return rt(function(o,l){var g=-1,v=l.length,O=v>1?l[v-1]:r,k=v>2?l[2]:r;for(O=i.length>3&&typeof O=="function"?(v--,O):r,k&&Ar(l[0],l[1],k)&&(O=v<3?r:O,v=1),o=xt(o);++g<v;){var K=l[g];K&&i(o,K,g,O)}return o})}function ng(i,o){return function(l,g){if(l==null)return l;if(!Br(l))return i(l,g);for(var v=l.length,O=o?v:-1,k=xt(l);(o?O--:++O<v)&&g(k[O],O,k)!==!1;);return l}}function ig(i){return function(o,l,g){for(var v=-1,O=xt(o),k=g(o),K=k.length;K--;){var X=k[i?K:++v];if(l(O[X],X,O)===!1)break}return o}}function $6(i,o,l){var g=o&M,v=ra(i);function O(){var k=this&&this!==at&&this instanceof O?v:i;return k.apply(g?l:this,arguments)}return O}function sg(i){return function(o){o=dt(o);var l=qs(o)?Sn(o):r,g=l?l[0]:o.charAt(0),v=l?Ci(l,1).join(""):o.slice(1);return g[i]()+v}}function Qs(i){return function(o){return uf(ny(ry(o).replace(zo,"")),i,"")}}function ra(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var l=Js(i.prototype),g=i.apply(l,o);return Ft(g)?g:l}}function F6(i,o,l){var g=ra(i);function v(){for(var O=arguments.length,k=oe(O),K=O,X=Zs(v);K--;)k[K]=arguments[K];var he=O<3&&k[0]!==X&&k[O-1]!==X?[]:Si(k,X);if(O-=he.length,O<l)return lg(i,o,Vc,v.placeholder,r,k,he,r,r,l-O);var de=this&&this!==at&&this instanceof v?g:i;return hr(de,this,k)}return v}function og(i){return function(o,l,g){var v=xt(o);if(!Br(o)){var O=Be(l,3);o=dr(o),l=function(K){return O(v[K],K,v)}}var k=i(o,l,g);return k>-1?v[O?o[k]:k]:r}}function ag(i){return ii(function(o){var l=o.length,g=l,v=dn.prototype.thru;for(i&&o.reverse();g--;){var O=o[g];if(typeof O!="function")throw new hn(c);if(v&&!k&&Jc(O)=="wrapper")var k=new dn([],!0)}for(g=k?g:l;++g<l;){O=o[g];var K=Jc(O),X=K=="wrapper"?zf(O):r;X&&Gf(X[0])&&X[1]==(d|L|T|w)&&!X[4].length&&X[9]==1?k=k[Jc(X[0])].apply(k,X[3]):k=O.length==1&&Gf(O)?k[K]():k.thru(O)}return function(){var he=arguments,de=he[0];if(k&&he.length==1&&Ye(de))return k.plant(de).value();for(var be=0,Oe=l?o[be].apply(this,he):de;++be<l;)Oe=o[be].call(this,Oe);return Oe}})}function Vc(i,o,l,g,v,O,k,K,X,he){var de=o&d,be=o&M,Oe=o&z,je=o&(L|D),ke=o&Z,et=Oe?r:ra(i);function He(){for(var it=arguments.length,ct=oe(it),Zr=it;Zr--;)ct[Zr]=arguments[Zr];if(je)var Cr=Zs(He),en=G_(ct,Cr);if(g&&(ct=tg(ct,g,v,je)),O&&(ct=rg(ct,O,k,je)),it-=en,je&&it<he){var Gt=Si(ct,Cr);return lg(i,o,Vc,He.placeholder,l,ct,Gt,K,X,he-it)}var On=be?l:this,ci=Oe?On[i]:i;return it=ct.length,K?ct=t2(ct,K):ke&&it>1&&ct.reverse(),de&&X<it&&(ct.length=X),this&&this!==at&&this instanceof He&&(ci=et||ra(ci)),ci.apply(On,ct)}return He}function cg(i,o){return function(l,g){return u6(l,i,o(g),{})}}function Gc(i,o){return function(l,g){var v;if(l===r&&g===r)return o;if(l!==r&&(v=l),g!==r){if(v===r)return g;typeof l=="string"||typeof g=="string"?(l=Xr(l),g=Xr(g)):(l=G0(l),g=G0(g)),v=i(l,g)}return v}}function Uf(i){return ii(function(o){return o=Nt(o,Jr(Be())),rt(function(l){var g=this;return i(o,function(v){return hr(v,g,l)})})})}function Wc(i,o){o=o===r?" ":Xr(o);var l=o.length;if(l<2)return l?Rf(o,i):o;var g=Rf(o,$c(i/Ks(o)));return qs(o)?Ci(Sn(g),0,i).join(""):g.slice(0,i)}function M6(i,o,l,g){var v=o&M,O=ra(i);function k(){for(var K=-1,X=arguments.length,he=-1,de=g.length,be=oe(de+X),Oe=this&&this!==at&&this instanceof k?O:i;++he<de;)be[he]=g[he];for(;X--;)be[he++]=arguments[++K];return hr(Oe,v?l:this,be)}return k}function ug(i){return function(o,l,g){return g&&typeof g!="number"&&Ar(o,l,g)&&(l=g=r),o=ai(o),l===r?(l=o,o=0):l=ai(l),g=g===r?o<l?1:-1:ai(g),_6(o,l,g,i)}}function Yc(i){return function(o,l){return typeof o=="string"&&typeof l=="string"||(o=mn(o),l=mn(l)),i(o,l)}}function lg(i,o,l,g,v,O,k,K,X,he){var de=o&L,be=de?k:r,Oe=de?r:k,je=de?O:r,ke=de?r:O;o|=de?T:P,o&=~(de?P:T),o&C||(o&=~(M|z));var et=[i,o,v,je,be,ke,Oe,K,X,he],He=l.apply(r,et);return Gf(i)&&Eg(He,et),He.placeholder=g,xg(He,i,o)}function Bf(i){var o=ur[i];return function(l,g){if(l=mn(l),g=g==null?0:_r(Qe(g),292),g&&x0(l)){var v=(dt(l)+"e").split("e"),O=o(v[0]+"e"+(+v[1]+g));return v=(dt(O)+"e").split("e"),+(v[0]+"e"+(+v[1]-g))}return o(l)}}var j6=Ws&&1/Pc(new Ws([,-0]))[1]==te?function(i){return new Ws(i)}:ch;function fg(i){return function(o){var l=Er(o);return l==q?yf(o):l==se?eE(o):V_(o,i(o))}}function ni(i,o,l,g,v,O,k,K){var X=o&z;if(!X&&typeof i!="function")throw new hn(c);var he=g?g.length:0;if(he||(o&=~(T|P),g=v=r),k=k===r?k:lr(Qe(k),0),K=K===r?K:Qe(K),he-=v?v.length:0,o&P){var de=g,be=v;g=v=r}var Oe=X?r:zf(i),je=[i,o,l,g,v,de,be,O,k,K];if(Oe&&Q6(je,Oe),i=je[0],o=je[1],l=je[2],g=je[3],v=je[4],K=je[9]=je[9]===r?X?0:i.length:lr(je[9]-he,0),!K&&o&(L|D)&&(o&=~(L|D)),!o||o==M)var ke=$6(i,o,l);else o==L||o==D?ke=F6(i,o,K):(o==T||o==(M|T))&&!v.length?ke=M6(i,o,l,g):ke=Vc.apply(r,je);var et=Oe?K0:Eg;return xg(et(ke,je),i,o)}function hg(i,o,l,g){return i===r||Dn(i,Gs[l])&&!gt.call(g,l)?o:i}function dg(i,o,l,g,v,O){return Ft(i)&&Ft(o)&&(O.set(o,i),Hc(i,o,r,dg,O),O.delete(o)),i}function L6(i){return sa(i)?r:i}function pg(i,o,l,g,v,O){var k=l&x,K=i.length,X=o.length;if(K!=X&&!(k&&X>K))return!1;var he=O.get(i),de=O.get(o);if(he&&de)return he==o&&de==i;var be=-1,Oe=!0,je=l&N?new as:r;for(O.set(i,o),O.set(o,i);++be<K;){var ke=i[be],et=o[be];if(g)var He=k?g(et,ke,be,o,i,O):g(ke,et,be,i,o,O);if(He!==r){if(He)continue;Oe=!1;break}if(je){if(!lf(o,function(it,ct){if(!Ko(je,ct)&&(ke===it||v(ke,it,l,g,O)))return je.push(ct)})){Oe=!1;break}}else if(!(ke===et||v(ke,et,l,g,O))){Oe=!1;break}}return O.delete(i),O.delete(o),Oe}function U6(i,o,l,g,v,O,k){switch(l){case Ae:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Ie:return!(i.byteLength!=o.byteLength||!O(new Cc(i),new Cc(o)));case H:case j:case re:return Dn(+i,+o);case U:return i.name==o.name&&i.message==o.message;case fe:case ve:return i==o+"";case q:var K=yf;case se:var X=g&x;if(K||(K=Pc),i.size!=o.size&&!X)return!1;var he=k.get(i);if(he)return he==o;g|=N,k.set(i,o);var de=pg(K(i),K(o),g,v,O,k);return k.delete(i),de;case me:if(Jo)return Jo.call(i)==Jo.call(o)}return!1}function B6(i,o,l,g,v,O){var k=l&x,K=kf(i),X=K.length,he=kf(o),de=he.length;if(X!=de&&!k)return!1;for(var be=X;be--;){var Oe=K[be];if(!(k?Oe in o:gt.call(o,Oe)))return!1}var je=O.get(i),ke=O.get(o);if(je&&ke)return je==o&&ke==i;var et=!0;O.set(i,o),O.set(o,i);for(var He=k;++be<X;){Oe=K[be];var it=i[Oe],ct=o[Oe];if(g)var Zr=k?g(ct,it,Oe,o,i,O):g(it,ct,Oe,i,o,O);if(!(Zr===r?it===ct||v(it,ct,l,g,O):Zr)){et=!1;break}He||(He=Oe=="constructor")}if(et&&!He){var Cr=i.constructor,en=o.constructor;Cr!=en&&"constructor"in i&&"constructor"in o&&!(typeof Cr=="function"&&Cr instanceof Cr&&typeof en=="function"&&en instanceof en)&&(et=!1)}return O.delete(i),O.delete(o),et}function ii(i){return Yf(wg(i,r,Ag),i+"")}function kf(i){return $0(i,dr,Kf)}function Hf(i){return $0(i,kr,gg)}var zf=Mc?function(i){return Mc.get(i)}:ch;function Jc(i){for(var o=i.name+"",l=Ys[o],g=gt.call(Ys,o)?l.length:0;g--;){var v=l[g],O=v.func;if(O==null||O==i)return v.name}return o}function Zs(i){var o=gt.call(S,"placeholder")?S:i;return o.placeholder}function Be(){var i=S.iteratee||oh;return i=i===oh?j0:i,arguments.length?i(arguments[0],arguments[1]):i}function Xc(i,o){var l=i.__data__;return W6(o)?l[typeof o=="string"?"string":"hash"]:l.map}function qf(i){for(var o=dr(i),l=o.length;l--;){var g=o[l],v=i[g];o[l]=[g,v,bg(v)]}return o}function ls(i,o){var l=X_(i,o);return M0(l)?l:r}function k6(i){var o=gt.call(i,ss),l=i[ss];try{i[ss]=r;var g=!0}catch{}var v=Oc.call(i);return g&&(o?i[ss]=l:delete i[ss]),v}var Kf=bf?function(i){return i==null?[]:(i=xt(i),xi(bf(i),function(o){return _0.call(i,o)}))}:uh,gg=bf?function(i){for(var o=[];i;)Pi(o,Kf(i)),i=Tc(i);return o}:uh,Er=Or;(vf&&Er(new vf(new ArrayBuffer(1)))!=Ae||Go&&Er(new Go)!=q||wf&&Er(wf.resolve())!=we||Ws&&Er(new Ws)!=se||Wo&&Er(new Wo)!=Ee)&&(Er=function(i){var o=Or(i),l=o==ce?i.constructor:r,g=l?fs(l):"";if(g)switch(g){case xE:return Ae;case PE:return q;case SE:return we;case IE:return se;case DE:return Ee}return o});function H6(i,o,l){for(var g=-1,v=l.length;++g<v;){var O=l[g],k=O.size;switch(O.type){case"drop":i+=k;break;case"dropRight":o-=k;break;case"take":o=_r(o,i+k);break;case"takeRight":i=lr(i,o-k);break}}return{start:i,end:o}}function z6(i){var o=i.match(St);return o?o[1].split(nr):[]}function yg(i,o,l){o=Ai(o,i);for(var g=-1,v=o.length,O=!1;++g<v;){var k=kn(o[g]);if(!(O=i!=null&&l(i,k)))break;i=i[k]}return O||++g!=v?O:(v=i==null?0:i.length,!!v&&iu(v)&&si(k,v)&&(Ye(i)||hs(i)))}function q6(i){var o=i.length,l=new i.constructor(o);return o&&typeof i[0]=="string"&&gt.call(i,"index")&&(l.index=i.index,l.input=i.input),l}function mg(i){return typeof i.constructor=="function"&&!na(i)?Js(Tc(i)):{}}function K6(i,o,l){var g=i.constructor;switch(o){case Ie:return Lf(i);case H:case j:return new g(+i);case Ae:return O6(i,l);case Me:case Le:case Ve:case tt:case Ze:case nt:case ze:case Pt:case mr:return Z0(i,l);case q:return new g;case re:case ve:return new g(i);case fe:return A6(i);case se:return new g;case me:return C6(i)}}function V6(i,o){var l=o.length;if(!l)return i;var g=l-1;return o[g]=(l>1?"& ":"")+o[g],o=o.join(l>2?", ":" "),i.replace(Ht,`{
/* [wrapped with `+o+`] */
`)}function G6(i){return Ye(i)||hs(i)||!!(E0&&i&&i[E0])}function si(i,o){var l=typeof i;return o=o??Q,!!o&&(l=="number"||l!="symbol"&&Gl.test(i))&&i>-1&&i%1==0&&i<o}function Ar(i,o,l){if(!Ft(l))return!1;var g=typeof o;return(g=="number"?Br(l)&&si(o,l.length):g=="string"&&o in l)?Dn(l[o],i):!1}function Vf(i,o){if(Ye(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||Qr(i)?!0:er.test(i)||!Rt.test(i)||o!=null&&i in xt(o)}function W6(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function Gf(i){var o=Jc(i),l=S[o];if(typeof l!="function"||!(o in st.prototype))return!1;if(i===l)return!0;var g=zf(l);return!!g&&i===g[0]}function Y6(i){return!!b0&&b0 in i}var J6=Ic?oi:lh;function na(i){var o=i&&i.constructor,l=typeof o=="function"&&o.prototype||Gs;return i===l}function bg(i){return i===i&&!Ft(i)}function vg(i,o){return function(l){return l==null?!1:l[i]===o&&(o!==r||i in xt(l))}}function X6(i){var o=ru(i,function(g){return l.size===h&&l.clear(),g}),l=o.cache;return o}function Q6(i,o){var l=i[1],g=o[1],v=l|g,O=v<(M|z|d),k=g==d&&l==L||g==d&&l==w&&i[7].length<=o[8]||g==(d|w)&&o[7].length<=o[8]&&l==L;if(!(O||k))return i;g&M&&(i[2]=o[2],v|=l&M?0:C);var K=o[3];if(K){var X=i[3];i[3]=X?tg(X,K,o[4]):K,i[4]=X?Si(i[3],p):o[4]}return K=o[5],K&&(X=i[5],i[5]=X?rg(X,K,o[6]):K,i[6]=X?Si(i[5],p):o[6]),K=o[7],K&&(i[7]=K),g&d&&(i[8]=i[8]==null?o[8]:_r(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=v,i}function Z6(i){var o=[];if(i!=null)for(var l in xt(i))o.push(l);return o}function e2(i){return Oc.call(i)}function wg(i,o,l){return o=lr(o===r?i.length-1:o,0),function(){for(var g=arguments,v=-1,O=lr(g.length-o,0),k=oe(O);++v<O;)k[v]=g[o+v];v=-1;for(var K=oe(o+1);++v<o;)K[v]=g[v];return K[o]=l(k),hr(i,this,K)}}function _g(i,o){return o.length<2?i:us(i,gn(o,0,-1))}function t2(i,o){for(var l=i.length,g=_r(o.length,l),v=Ur(i);g--;){var O=o[g];i[g]=si(O,l)?v[O]:r}return i}function Wf(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var Eg=Pg(K0),ia=yE||function(i,o){return at.setTimeout(i,o)},Yf=Pg(P6);function xg(i,o,l){var g=o+"";return Yf(i,V6(g,r2(z6(g),l)))}function Pg(i){var o=0,l=0;return function(){var g=wE(),v=ae-(g-l);if(l=g,v>0){if(++o>=ee)return arguments[0]}else o=0;return i.apply(r,arguments)}}function Qc(i,o){var l=-1,g=i.length,v=g-1;for(o=o===r?g:o;++l<o;){var O=Tf(l,v),k=i[O];i[O]=i[l],i[l]=k}return i.length=o,i}var Sg=X6(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(tr,function(l,g,v,O){o.push(v?O.replace(kl,"$1"):g||l)}),o});function kn(i){if(typeof i=="string"||Qr(i))return i;var o=i+"";return o=="0"&&1/i==-te?"-0":o}function fs(i){if(i!=null){try{return Dc.call(i)}catch{}try{return i+""}catch{}}return""}function r2(i,o){return fn(Fe,function(l){var g="_."+l[0];o&l[1]&&!Ec(i,g)&&i.push(g)}),i.sort()}function Ig(i){if(i instanceof st)return i.clone();var o=new dn(i.__wrapped__,i.__chain__);return o.__actions__=Ur(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function n2(i,o,l){(l?Ar(i,o,l):o===r)?o=1:o=lr(Qe(o),0);var g=i==null?0:i.length;if(!g||o<1)return[];for(var v=0,O=0,k=oe($c(g/o));v<g;)k[O++]=gn(i,v,v+=o);return k}function i2(i){for(var o=-1,l=i==null?0:i.length,g=0,v=[];++o<l;){var O=i[o];O&&(v[g++]=O)}return v}function s2(){var i=arguments.length;if(!i)return[];for(var o=oe(i-1),l=arguments[0],g=i;g--;)o[g-1]=arguments[g];return Pi(Ye(l)?Ur(l):[l],br(o,1))}var o2=rt(function(i,o){return Vt(i)?Qo(i,br(o,1,Vt,!0)):[]}),a2=rt(function(i,o){var l=yn(o);return Vt(l)&&(l=r),Vt(i)?Qo(i,br(o,1,Vt,!0),Be(l,2)):[]}),c2=rt(function(i,o){var l=yn(o);return Vt(l)&&(l=r),Vt(i)?Qo(i,br(o,1,Vt,!0),r,l):[]});function u2(i,o,l){var g=i==null?0:i.length;return g?(o=l||o===r?1:Qe(o),gn(i,o<0?0:o,g)):[]}function l2(i,o,l){var g=i==null?0:i.length;return g?(o=l||o===r?1:Qe(o),o=g-o,gn(i,0,o<0?0:o)):[]}function f2(i,o){return i&&i.length?qc(i,Be(o,3),!0,!0):[]}function h2(i,o){return i&&i.length?qc(i,Be(o,3),!0):[]}function d2(i,o,l,g){var v=i==null?0:i.length;return v?(l&&typeof l!="number"&&Ar(i,o,l)&&(l=0,g=v),s6(i,o,l,g)):[]}function Dg(i,o,l){var g=i==null?0:i.length;if(!g)return-1;var v=l==null?0:Qe(l);return v<0&&(v=lr(g+v,0)),xc(i,Be(o,3),v)}function Og(i,o,l){var g=i==null?0:i.length;if(!g)return-1;var v=g-1;return l!==r&&(v=Qe(l),v=l<0?lr(g+v,0):_r(v,g-1)),xc(i,Be(o,3),v,!0)}function Ag(i){var o=i==null?0:i.length;return o?br(i,1):[]}function p2(i){var o=i==null?0:i.length;return o?br(i,te):[]}function g2(i,o){var l=i==null?0:i.length;return l?(o=o===r?1:Qe(o),br(i,o)):[]}function y2(i){for(var o=-1,l=i==null?0:i.length,g={};++o<l;){var v=i[o];g[v[0]]=v[1]}return g}function Cg(i){return i&&i.length?i[0]:r}function m2(i,o,l){var g=i==null?0:i.length;if(!g)return-1;var v=l==null?0:Qe(l);return v<0&&(v=lr(g+v,0)),zs(i,o,v)}function b2(i){var o=i==null?0:i.length;return o?gn(i,0,-1):[]}var v2=rt(function(i){var o=Nt(i,Mf);return o.length&&o[0]===i[0]?If(o):[]}),w2=rt(function(i){var o=yn(i),l=Nt(i,Mf);return o===yn(l)?o=r:l.pop(),l.length&&l[0]===i[0]?If(l,Be(o,2)):[]}),_2=rt(function(i){var o=yn(i),l=Nt(i,Mf);return o=typeof o=="function"?o:r,o&&l.pop(),l.length&&l[0]===i[0]?If(l,r,o):[]});function E2(i,o){return i==null?"":bE.call(i,o)}function yn(i){var o=i==null?0:i.length;return o?i[o-1]:r}function x2(i,o,l){var g=i==null?0:i.length;if(!g)return-1;var v=g;return l!==r&&(v=Qe(l),v=v<0?lr(g+v,0):_r(v,g-1)),o===o?rE(i,o,v):xc(i,l0,v,!0)}function P2(i,o){return i&&i.length?k0(i,Qe(o)):r}var S2=rt(Tg);function Tg(i,o){return i&&i.length&&o&&o.length?Cf(i,o):i}function I2(i,o,l){return i&&i.length&&o&&o.length?Cf(i,o,Be(l,2)):i}function D2(i,o,l){return i&&i.length&&o&&o.length?Cf(i,o,r,l):i}var O2=ii(function(i,o){var l=i==null?0:i.length,g=Ef(i,o);return q0(i,Nt(o,function(v){return si(v,l)?+v:v}).sort(eg)),g});function A2(i,o){var l=[];if(!(i&&i.length))return l;var g=-1,v=[],O=i.length;for(o=Be(o,3);++g<O;){var k=i[g];o(k,g,i)&&(l.push(k),v.push(g))}return q0(i,v),l}function Jf(i){return i==null?i:EE.call(i)}function C2(i,o,l){var g=i==null?0:i.length;return g?(l&&typeof l!="number"&&Ar(i,o,l)?(o=0,l=g):(o=o==null?0:Qe(o),l=l===r?g:Qe(l)),gn(i,o,l)):[]}function T2(i,o){return zc(i,o)}function R2(i,o,l){return Nf(i,o,Be(l,2))}function N2(i,o){var l=i==null?0:i.length;if(l){var g=zc(i,o);if(g<l&&Dn(i[g],o))return g}return-1}function $2(i,o){return zc(i,o,!0)}function F2(i,o,l){return Nf(i,o,Be(l,2),!0)}function M2(i,o){var l=i==null?0:i.length;if(l){var g=zc(i,o,!0)-1;if(Dn(i[g],o))return g}return-1}function j2(i){return i&&i.length?V0(i):[]}function L2(i,o){return i&&i.length?V0(i,Be(o,2)):[]}function U2(i){var o=i==null?0:i.length;return o?gn(i,1,o):[]}function B2(i,o,l){return i&&i.length?(o=l||o===r?1:Qe(o),gn(i,0,o<0?0:o)):[]}function k2(i,o,l){var g=i==null?0:i.length;return g?(o=l||o===r?1:Qe(o),o=g-o,gn(i,o<0?0:o,g)):[]}function H2(i,o){return i&&i.length?qc(i,Be(o,3),!1,!0):[]}function z2(i,o){return i&&i.length?qc(i,Be(o,3)):[]}var q2=rt(function(i){return Oi(br(i,1,Vt,!0))}),K2=rt(function(i){var o=yn(i);return Vt(o)&&(o=r),Oi(br(i,1,Vt,!0),Be(o,2))}),V2=rt(function(i){var o=yn(i);return o=typeof o=="function"?o:r,Oi(br(i,1,Vt,!0),r,o)});function G2(i){return i&&i.length?Oi(i):[]}function W2(i,o){return i&&i.length?Oi(i,Be(o,2)):[]}function Y2(i,o){return o=typeof o=="function"?o:r,i&&i.length?Oi(i,r,o):[]}function Xf(i){if(!(i&&i.length))return[];var o=0;return i=xi(i,function(l){if(Vt(l))return o=lr(l.length,o),!0}),pf(o,function(l){return Nt(i,ff(l))})}function Rg(i,o){if(!(i&&i.length))return[];var l=Xf(i);return o==null?l:Nt(l,function(g){return hr(o,r,g)})}var J2=rt(function(i,o){return Vt(i)?Qo(i,o):[]}),X2=rt(function(i){return Ff(xi(i,Vt))}),Q2=rt(function(i){var o=yn(i);return Vt(o)&&(o=r),Ff(xi(i,Vt),Be(o,2))}),Z2=rt(function(i){var o=yn(i);return o=typeof o=="function"?o:r,Ff(xi(i,Vt),r,o)}),e3=rt(Xf);function t3(i,o){return J0(i||[],o||[],Xo)}function r3(i,o){return J0(i||[],o||[],ta)}var n3=rt(function(i){var o=i.length,l=o>1?i[o-1]:r;return l=typeof l=="function"?(i.pop(),l):r,Rg(i,l)});function Ng(i){var o=S(i);return o.__chain__=!0,o}function i3(i,o){return o(i),i}function Zc(i,o){return o(i)}var s3=ii(function(i){var o=i.length,l=o?i[0]:0,g=this.__wrapped__,v=function(O){return Ef(O,i)};return o>1||this.__actions__.length||!(g instanceof st)||!si(l)?this.thru(v):(g=g.slice(l,+l+(o?1:0)),g.__actions__.push({func:Zc,args:[v],thisArg:r}),new dn(g,this.__chain__).thru(function(O){return o&&!O.length&&O.push(r),O}))});function o3(){return Ng(this)}function a3(){return new dn(this.value(),this.__chain__)}function c3(){this.__values__===r&&(this.__values__=Gg(this.value()));var i=this.__index__>=this.__values__.length,o=i?r:this.__values__[this.__index__++];return{done:i,value:o}}function u3(){return this}function l3(i){for(var o,l=this;l instanceof Lc;){var g=Ig(l);g.__index__=0,g.__values__=r,o?v.__wrapped__=g:o=g;var v=g;l=l.__wrapped__}return v.__wrapped__=i,o}function f3(){var i=this.__wrapped__;if(i instanceof st){var o=i;return this.__actions__.length&&(o=new st(this)),o=o.reverse(),o.__actions__.push({func:Zc,args:[Jf],thisArg:r}),new dn(o,this.__chain__)}return this.thru(Jf)}function h3(){return Y0(this.__wrapped__,this.__actions__)}var d3=Kc(function(i,o,l){gt.call(i,l)?++i[l]:ri(i,l,1)});function p3(i,o,l){var g=Ye(i)?c0:i6;return l&&Ar(i,o,l)&&(o=r),g(i,Be(o,3))}function g3(i,o){var l=Ye(i)?xi:R0;return l(i,Be(o,3))}var y3=og(Dg),m3=og(Og);function b3(i,o){return br(eu(i,o),1)}function v3(i,o){return br(eu(i,o),te)}function w3(i,o,l){return l=l===r?1:Qe(l),br(eu(i,o),l)}function $g(i,o){var l=Ye(i)?fn:Di;return l(i,Be(o,3))}function Fg(i,o){var l=Ye(i)?U_:T0;return l(i,Be(o,3))}var _3=Kc(function(i,o,l){gt.call(i,l)?i[l].push(o):ri(i,l,[o])});function E3(i,o,l,g){i=Br(i)?i:to(i),l=l&&!g?Qe(l):0;var v=i.length;return l<0&&(l=lr(v+l,0)),su(i)?l<=v&&i.indexOf(o,l)>-1:!!v&&zs(i,o,l)>-1}var x3=rt(function(i,o,l){var g=-1,v=typeof o=="function",O=Br(i)?oe(i.length):[];return Di(i,function(k){O[++g]=v?hr(o,k,l):Zo(k,o,l)}),O}),P3=Kc(function(i,o,l){ri(i,l,o)});function eu(i,o){var l=Ye(i)?Nt:L0;return l(i,Be(o,3))}function S3(i,o,l,g){return i==null?[]:(Ye(o)||(o=o==null?[]:[o]),l=g?r:l,Ye(l)||(l=l==null?[]:[l]),H0(i,o,l))}var I3=Kc(function(i,o,l){i[l?0:1].push(o)},function(){return[[],[]]});function D3(i,o,l){var g=Ye(i)?uf:h0,v=arguments.length<3;return g(i,Be(o,4),l,v,Di)}function O3(i,o,l){var g=Ye(i)?B_:h0,v=arguments.length<3;return g(i,Be(o,4),l,v,T0)}function A3(i,o){var l=Ye(i)?xi:R0;return l(i,nu(Be(o,3)))}function C3(i){var o=Ye(i)?D0:E6;return o(i)}function T3(i,o,l){(l?Ar(i,o,l):o===r)?o=1:o=Qe(o);var g=Ye(i)?ZE:x6;return g(i,o)}function R3(i){var o=Ye(i)?e6:S6;return o(i)}function N3(i){if(i==null)return 0;if(Br(i))return su(i)?Ks(i):i.length;var o=Er(i);return o==q||o==se?i.size:Of(i).length}function $3(i,o,l){var g=Ye(i)?lf:I6;return l&&Ar(i,o,l)&&(o=r),g(i,Be(o,3))}var F3=rt(function(i,o){if(i==null)return[];var l=o.length;return l>1&&Ar(i,o[0],o[1])?o=[]:l>2&&Ar(o[0],o[1],o[2])&&(o=[o[0]]),H0(i,br(o,1),[])}),tu=gE||function(){return at.Date.now()};function M3(i,o){if(typeof o!="function")throw new hn(c);return i=Qe(i),function(){if(--i<1)return o.apply(this,arguments)}}function Mg(i,o,l){return o=l?r:o,o=i&&o==null?i.length:o,ni(i,d,r,r,r,r,o)}function jg(i,o){var l;if(typeof o!="function")throw new hn(c);return i=Qe(i),function(){return--i>0&&(l=o.apply(this,arguments)),i<=1&&(o=r),l}}var Qf=rt(function(i,o,l){var g=M;if(l.length){var v=Si(l,Zs(Qf));g|=T}return ni(i,g,o,l,v)}),Lg=rt(function(i,o,l){var g=M|z;if(l.length){var v=Si(l,Zs(Lg));g|=T}return ni(o,g,i,l,v)});function Ug(i,o,l){o=l?r:o;var g=ni(i,L,r,r,r,r,r,o);return g.placeholder=Ug.placeholder,g}function Bg(i,o,l){o=l?r:o;var g=ni(i,D,r,r,r,r,r,o);return g.placeholder=Bg.placeholder,g}function kg(i,o,l){var g,v,O,k,K,X,he=0,de=!1,be=!1,Oe=!0;if(typeof i!="function")throw new hn(c);o=mn(o)||0,Ft(l)&&(de=!!l.leading,be="maxWait"in l,O=be?lr(mn(l.maxWait)||0,o):O,Oe="trailing"in l?!!l.trailing:Oe);function je(Gt){var On=g,ci=v;return g=v=r,he=Gt,k=i.apply(ci,On),k}function ke(Gt){return he=Gt,K=ia(it,o),de?je(Gt):k}function et(Gt){var On=Gt-X,ci=Gt-he,oy=o-On;return be?_r(oy,O-ci):oy}function He(Gt){var On=Gt-X,ci=Gt-he;return X===r||On>=o||On<0||be&&ci>=O}function it(){var Gt=tu();if(He(Gt))return ct(Gt);K=ia(it,et(Gt))}function ct(Gt){return K=r,Oe&&g?je(Gt):(g=v=r,k)}function Zr(){K!==r&&X0(K),he=0,g=X=v=K=r}function Cr(){return K===r?k:ct(tu())}function en(){var Gt=tu(),On=He(Gt);if(g=arguments,v=this,X=Gt,On){if(K===r)return ke(X);if(be)return X0(K),K=ia(it,o),je(X)}return K===r&&(K=ia(it,o)),k}return en.cancel=Zr,en.flush=Cr,en}var j3=rt(function(i,o){return C0(i,1,o)}),L3=rt(function(i,o,l){return C0(i,mn(o)||0,l)});function U3(i){return ni(i,Z)}function ru(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new hn(c);var l=function(){var g=arguments,v=o?o.apply(this,g):g[0],O=l.cache;if(O.has(v))return O.get(v);var k=i.apply(this,g);return l.cache=O.set(v,k)||O,k};return l.cache=new(ru.Cache||ti),l}ru.Cache=ti;function nu(i){if(typeof i!="function")throw new hn(c);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function B3(i){return jg(2,i)}var k3=D6(function(i,o){o=o.length==1&&Ye(o[0])?Nt(o[0],Jr(Be())):Nt(br(o,1),Jr(Be()));var l=o.length;return rt(function(g){for(var v=-1,O=_r(g.length,l);++v<O;)g[v]=o[v].call(this,g[v]);return hr(i,this,g)})}),Zf=rt(function(i,o){var l=Si(o,Zs(Zf));return ni(i,T,r,o,l)}),Hg=rt(function(i,o){var l=Si(o,Zs(Hg));return ni(i,P,r,o,l)}),H3=ii(function(i,o){return ni(i,w,r,r,r,o)});function z3(i,o){if(typeof i!="function")throw new hn(c);return o=o===r?o:Qe(o),rt(i,o)}function q3(i,o){if(typeof i!="function")throw new hn(c);return o=o==null?0:lr(Qe(o),0),rt(function(l){var g=l[o],v=Ci(l,0,o);return g&&Pi(v,g),hr(i,this,v)})}function K3(i,o,l){var g=!0,v=!0;if(typeof i!="function")throw new hn(c);return Ft(l)&&(g="leading"in l?!!l.leading:g,v="trailing"in l?!!l.trailing:v),kg(i,o,{leading:g,maxWait:o,trailing:v})}function V3(i){return Mg(i,1)}function G3(i,o){return Zf(jf(o),i)}function W3(){if(!arguments.length)return[];var i=arguments[0];return Ye(i)?i:[i]}function Y3(i){return pn(i,_)}function J3(i,o){return o=typeof o=="function"?o:r,pn(i,_,o)}function X3(i){return pn(i,m|_)}function Q3(i,o){return o=typeof o=="function"?o:r,pn(i,m|_,o)}function Z3(i,o){return o==null||A0(i,o,dr(o))}function Dn(i,o){return i===o||i!==i&&o!==o}var e5=Yc(Sf),t5=Yc(function(i,o){return i>=o}),hs=F0(function(){return arguments}())?F0:function(i){return zt(i)&&gt.call(i,"callee")&&!_0.call(i,"callee")},Ye=oe.isArray,r5=Dr?Jr(Dr):l6;function Br(i){return i!=null&&iu(i.length)&&!oi(i)}function Vt(i){return zt(i)&&Br(i)}function n5(i){return i===!0||i===!1||zt(i)&&Or(i)==H}var Ti=mE||lh,i5=Pn?Jr(Pn):f6;function s5(i){return zt(i)&&i.nodeType===1&&!sa(i)}function o5(i){if(i==null)return!0;if(Br(i)&&(Ye(i)||typeof i=="string"||typeof i.splice=="function"||Ti(i)||eo(i)||hs(i)))return!i.length;var o=Er(i);if(o==q||o==se)return!i.size;if(na(i))return!Of(i).length;for(var l in i)if(gt.call(i,l))return!1;return!0}function a5(i,o){return ea(i,o)}function c5(i,o,l){l=typeof l=="function"?l:r;var g=l?l(i,o):r;return g===r?ea(i,o,r,l):!!g}function eh(i){if(!zt(i))return!1;var o=Or(i);return o==U||o==y||typeof i.message=="string"&&typeof i.name=="string"&&!sa(i)}function u5(i){return typeof i=="number"&&x0(i)}function oi(i){if(!Ft(i))return!1;var o=Or(i);return o==I||o==R||o==$||o==pe}function zg(i){return typeof i=="number"&&i==Qe(i)}function iu(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Q}function Ft(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function zt(i){return i!=null&&typeof i=="object"}var qg=ln?Jr(ln):d6;function l5(i,o){return i===o||Df(i,o,qf(o))}function f5(i,o,l){return l=typeof l=="function"?l:r,Df(i,o,qf(o),l)}function h5(i){return Kg(i)&&i!=+i}function d5(i){if(J6(i))throw new Ge(a);return M0(i)}function p5(i){return i===null}function g5(i){return i==null}function Kg(i){return typeof i=="number"||zt(i)&&Or(i)==re}function sa(i){if(!zt(i)||Or(i)!=ce)return!1;var o=Tc(i);if(o===null)return!0;var l=gt.call(o,"constructor")&&o.constructor;return typeof l=="function"&&l instanceof l&&Dc.call(l)==fE}var th=Ln?Jr(Ln):p6;function y5(i){return zg(i)&&i>=-Q&&i<=Q}var Vg=qo?Jr(qo):g6;function su(i){return typeof i=="string"||!Ye(i)&&zt(i)&&Or(i)==ve}function Qr(i){return typeof i=="symbol"||zt(i)&&Or(i)==me}var eo=is?Jr(is):y6;function m5(i){return i===r}function b5(i){return zt(i)&&Er(i)==Ee}function v5(i){return zt(i)&&Or(i)==Se}var w5=Yc(Af),_5=Yc(function(i,o){return i<=o});function Gg(i){if(!i)return[];if(Br(i))return su(i)?Sn(i):Ur(i);if(Vo&&i[Vo])return Z_(i[Vo]());var o=Er(i),l=o==q?yf:o==se?Pc:to;return l(i)}function ai(i){if(!i)return i===0?i:0;if(i=mn(i),i===te||i===-te){var o=i<0?-1:1;return o*J}return i===i?i:0}function Qe(i){var o=ai(i),l=o%1;return o===o?l?o-l:o:0}function Wg(i){return i?cs(Qe(i),0,ue):0}function mn(i){if(typeof i=="number")return i;if(Qr(i))return ie;if(Ft(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=Ft(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=d0(i);var l=ql.test(i);return l||Vl.test(i)?We(i.slice(2),l?2:8):zl.test(i)?ie:+i}function Yg(i){return Bn(i,kr(i))}function E5(i){return i?cs(Qe(i),-Q,Q):i===0?i:0}function dt(i){return i==null?"":Xr(i)}var x5=Xs(function(i,o){if(na(o)||Br(o)){Bn(o,dr(o),i);return}for(var l in o)gt.call(o,l)&&Xo(i,l,o[l])}),Jg=Xs(function(i,o){Bn(o,kr(o),i)}),ou=Xs(function(i,o,l,g){Bn(o,kr(o),i,g)}),P5=Xs(function(i,o,l,g){Bn(o,dr(o),i,g)}),S5=ii(Ef);function I5(i,o){var l=Js(i);return o==null?l:O0(l,o)}var D5=rt(function(i,o){i=xt(i);var l=-1,g=o.length,v=g>2?o[2]:r;for(v&&Ar(o[0],o[1],v)&&(g=1);++l<g;)for(var O=o[l],k=kr(O),K=-1,X=k.length;++K<X;){var he=k[K],de=i[he];(de===r||Dn(de,Gs[he])&&!gt.call(i,he))&&(i[he]=O[he])}return i}),O5=rt(function(i){return i.push(r,dg),hr(Xg,r,i)});function A5(i,o){return u0(i,Be(o,3),Un)}function C5(i,o){return u0(i,Be(o,3),Pf)}function T5(i,o){return i==null?i:xf(i,Be(o,3),kr)}function R5(i,o){return i==null?i:N0(i,Be(o,3),kr)}function N5(i,o){return i&&Un(i,Be(o,3))}function $5(i,o){return i&&Pf(i,Be(o,3))}function F5(i){return i==null?[]:kc(i,dr(i))}function M5(i){return i==null?[]:kc(i,kr(i))}function rh(i,o,l){var g=i==null?r:us(i,o);return g===r?l:g}function j5(i,o){return i!=null&&yg(i,o,o6)}function nh(i,o){return i!=null&&yg(i,o,a6)}var L5=cg(function(i,o,l){o!=null&&typeof o.toString!="function"&&(o=Oc.call(o)),i[o]=l},sh(Hr)),U5=cg(function(i,o,l){o!=null&&typeof o.toString!="function"&&(o=Oc.call(o)),gt.call(i,o)?i[o].push(l):i[o]=[l]},Be),B5=rt(Zo);function dr(i){return Br(i)?I0(i):Of(i)}function kr(i){return Br(i)?I0(i,!0):m6(i)}function k5(i,o){var l={};return o=Be(o,3),Un(i,function(g,v,O){ri(l,o(g,v,O),g)}),l}function H5(i,o){var l={};return o=Be(o,3),Un(i,function(g,v,O){ri(l,v,o(g,v,O))}),l}var z5=Xs(function(i,o,l){Hc(i,o,l)}),Xg=Xs(function(i,o,l,g){Hc(i,o,l,g)}),q5=ii(function(i,o){var l={};if(i==null)return l;var g=!1;o=Nt(o,function(O){return O=Ai(O,i),g||(g=O.length>1),O}),Bn(i,Hf(i),l),g&&(l=pn(l,m|b|_,L6));for(var v=o.length;v--;)$f(l,o[v]);return l});function K5(i,o){return Qg(i,nu(Be(o)))}var V5=ii(function(i,o){return i==null?{}:v6(i,o)});function Qg(i,o){if(i==null)return{};var l=Nt(Hf(i),function(g){return[g]});return o=Be(o),z0(i,l,function(g,v){return o(g,v[0])})}function G5(i,o,l){o=Ai(o,i);var g=-1,v=o.length;for(v||(v=1,i=r);++g<v;){var O=i==null?r:i[kn(o[g])];O===r&&(g=v,O=l),i=oi(O)?O.call(i):O}return i}function W5(i,o,l){return i==null?i:ta(i,o,l)}function Y5(i,o,l,g){return g=typeof g=="function"?g:r,i==null?i:ta(i,o,l,g)}var Zg=fg(dr),ey=fg(kr);function J5(i,o,l){var g=Ye(i),v=g||Ti(i)||eo(i);if(o=Be(o,4),l==null){var O=i&&i.constructor;v?l=g?new O:[]:Ft(i)?l=oi(O)?Js(Tc(i)):{}:l={}}return(v?fn:Un)(i,function(k,K,X){return o(l,k,K,X)}),l}function X5(i,o){return i==null?!0:$f(i,o)}function Q5(i,o,l){return i==null?i:W0(i,o,jf(l))}function Z5(i,o,l,g){return g=typeof g=="function"?g:r,i==null?i:W0(i,o,jf(l),g)}function to(i){return i==null?[]:gf(i,dr(i))}function ex(i){return i==null?[]:gf(i,kr(i))}function tx(i,o,l){return l===r&&(l=o,o=r),l!==r&&(l=mn(l),l=l===l?l:0),o!==r&&(o=mn(o),o=o===o?o:0),cs(mn(i),o,l)}function rx(i,o,l){return o=ai(o),l===r?(l=o,o=0):l=ai(l),i=mn(i),c6(i,o,l)}function nx(i,o,l){if(l&&typeof l!="boolean"&&Ar(i,o,l)&&(o=l=r),l===r&&(typeof o=="boolean"?(l=o,o=r):typeof i=="boolean"&&(l=i,i=r)),i===r&&o===r?(i=0,o=1):(i=ai(i),o===r?(o=i,i=0):o=ai(o)),i>o){var g=i;i=o,o=g}if(l||i%1||o%1){var v=P0();return _r(i+v*(o-i+_t("1e-"+((v+"").length-1))),o)}return Tf(i,o)}var ix=Qs(function(i,o,l){return o=o.toLowerCase(),i+(l?ty(o):o)});function ty(i){return ih(dt(i).toLowerCase())}function ry(i){return i=dt(i),i&&i.replace(Qn,W_).replace(of,"")}function sx(i,o,l){i=dt(i),o=Xr(o);var g=i.length;l=l===r?g:cs(Qe(l),0,g);var v=l;return l-=o.length,l>=0&&i.slice(l,v)==o}function ox(i){return i=dt(i),i&&Tt.test(i)?i.replace(Zi,Y_):i}function ax(i){return i=dt(i),i&&rr.test(i)?i.replace(Bt,"\\$&"):i}var cx=Qs(function(i,o,l){return i+(l?"-":"")+o.toLowerCase()}),ux=Qs(function(i,o,l){return i+(l?" ":"")+o.toLowerCase()}),lx=sg("toLowerCase");function fx(i,o,l){i=dt(i),o=Qe(o);var g=o?Ks(i):0;if(!o||g>=o)return i;var v=(o-g)/2;return Wc(Fc(v),l)+i+Wc($c(v),l)}function hx(i,o,l){i=dt(i),o=Qe(o);var g=o?Ks(i):0;return o&&g<o?i+Wc(o-g,l):i}function dx(i,o,l){i=dt(i),o=Qe(o);var g=o?Ks(i):0;return o&&g<o?Wc(o-g,l)+i:i}function px(i,o,l){return l||o==null?o=0:o&&(o=+o),_E(dt(i).replace(kt,""),o||0)}function gx(i,o,l){return(l?Ar(i,o,l):o===r)?o=1:o=Qe(o),Rf(dt(i),o)}function yx(){var i=arguments,o=dt(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var mx=Qs(function(i,o,l){return i+(l?"_":"")+o.toLowerCase()});function bx(i,o,l){return l&&typeof l!="number"&&Ar(i,o,l)&&(o=l=r),l=l===r?ue:l>>>0,l?(i=dt(i),i&&(typeof o=="string"||o!=null&&!th(o))&&(o=Xr(o),!o&&qs(i))?Ci(Sn(i),0,l):i.split(o,l)):[]}var vx=Qs(function(i,o,l){return i+(l?" ":"")+ih(o)});function wx(i,o,l){return i=dt(i),l=l==null?0:cs(Qe(l),0,i.length),o=Xr(o),i.slice(l,l+o.length)==o}function _x(i,o,l){var g=S.templateSettings;l&&Ar(i,o,l)&&(o=r),i=dt(i),o=ou({},o,g,hg);var v=ou({},o.imports,g.imports,hg),O=dr(v),k=gf(v,O),K,X,he=0,de=o.interpolate||Ms,be="__p += '",Oe=mf((o.escape||Ms).source+"|"+de.source+"|"+(de===$t?Hl:Ms).source+"|"+(o.evaluate||Ms).source+"|$","g"),je="//# sourceURL="+(gt.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++af+"]")+`
`;i.replace(Oe,function(He,it,ct,Zr,Cr,en){return ct||(ct=Zr),be+=i.slice(he,en).replace(Wl,J_),it&&(K=!0,be+=`' +
__e(`+it+`) +
'`),Cr&&(X=!0,be+=`';
`+Cr+`;
__p += '`),ct&&(be+=`' +
((__t = (`+ct+`)) == null ? '' : __t) +
'`),he=en+He.length,He}),be+=`';
`;var ke=gt.call(o,"variable")&&o.variable;if(!ke)be=`with (obj) {
`+be+`
}
`;else if(Bl.test(ke))throw new Ge(u);be=(X?be.replace(Mn,""):be).replace(Ir,"$1").replace(Xn,"$1;"),be="function("+(ke||"obj")+`) {
`+(ke?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(K?", __e = _.escape":"")+(X?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+be+`return __p
}`;var et=iy(function(){return ht(O,je+"return "+be).apply(r,k)});if(et.source=be,eh(et))throw et;return et}function Ex(i){return dt(i).toLowerCase()}function xx(i){return dt(i).toUpperCase()}function Px(i,o,l){if(i=dt(i),i&&(l||o===r))return d0(i);if(!i||!(o=Xr(o)))return i;var g=Sn(i),v=Sn(o),O=p0(g,v),k=g0(g,v)+1;return Ci(g,O,k).join("")}function Sx(i,o,l){if(i=dt(i),i&&(l||o===r))return i.slice(0,m0(i)+1);if(!i||!(o=Xr(o)))return i;var g=Sn(i),v=g0(g,Sn(o))+1;return Ci(g,0,v).join("")}function Ix(i,o,l){if(i=dt(i),i&&(l||o===r))return i.replace(kt,"");if(!i||!(o=Xr(o)))return i;var g=Sn(i),v=p0(g,Sn(o));return Ci(g,v).join("")}function Dx(i,o){var l=B,g=V;if(Ft(o)){var v="separator"in o?o.separator:v;l="length"in o?Qe(o.length):l,g="omission"in o?Xr(o.omission):g}i=dt(i);var O=i.length;if(qs(i)){var k=Sn(i);O=k.length}if(l>=O)return i;var K=l-Ks(g);if(K<1)return g;var X=k?Ci(k,0,K).join(""):i.slice(0,K);if(v===r)return X+g;if(k&&(K+=X.length-K),th(v)){if(i.slice(K).search(v)){var he,de=X;for(v.global||(v=mf(v.source,dt(un.exec(v))+"g")),v.lastIndex=0;he=v.exec(de);)var be=he.index;X=X.slice(0,be===r?K:be)}}else if(i.indexOf(Xr(v),K)!=K){var Oe=X.lastIndexOf(v);Oe>-1&&(X=X.slice(0,Oe))}return X+g}function Ox(i){return i=dt(i),i&&jt.test(i)?i.replace(_i,nE):i}var Ax=Qs(function(i,o,l){return i+(l?" ":"")+o.toUpperCase()}),ih=sg("toUpperCase");function ny(i,o,l){return i=dt(i),o=l?r:o,o===r?Q_(i)?oE(i):z_(i):i.match(o)||[]}var iy=rt(function(i,o){try{return hr(i,r,o)}catch(l){return eh(l)?l:new Ge(l)}}),Cx=ii(function(i,o){return fn(o,function(l){l=kn(l),ri(i,l,Qf(i[l],i))}),i});function Tx(i){var o=i==null?0:i.length,l=Be();return i=o?Nt(i,function(g){if(typeof g[1]!="function")throw new hn(c);return[l(g[0]),g[1]]}):[],rt(function(g){for(var v=-1;++v<o;){var O=i[v];if(hr(O[0],this,g))return hr(O[1],this,g)}})}function Rx(i){return n6(pn(i,m))}function sh(i){return function(){return i}}function Nx(i,o){return i==null||i!==i?o:i}var $x=ag(),Fx=ag(!0);function Hr(i){return i}function oh(i){return j0(typeof i=="function"?i:pn(i,m))}function Mx(i){return U0(pn(i,m))}function jx(i,o){return B0(i,pn(o,m))}var Lx=rt(function(i,o){return function(l){return Zo(l,i,o)}}),Ux=rt(function(i,o){return function(l){return Zo(i,l,o)}});function ah(i,o,l){var g=dr(o),v=kc(o,g);l==null&&!(Ft(o)&&(v.length||!g.length))&&(l=o,o=i,i=this,v=kc(o,dr(o)));var O=!(Ft(l)&&"chain"in l)||!!l.chain,k=oi(i);return fn(v,function(K){var X=o[K];i[K]=X,k&&(i.prototype[K]=function(){var he=this.__chain__;if(O||he){var de=i(this.__wrapped__),be=de.__actions__=Ur(this.__actions__);return be.push({func:X,args:arguments,thisArg:i}),de.__chain__=he,de}return X.apply(i,Pi([this.value()],arguments))})}),i}function Bx(){return at._===this&&(at._=hE),this}function ch(){}function kx(i){return i=Qe(i),rt(function(o){return k0(o,i)})}var Hx=Uf(Nt),zx=Uf(c0),qx=Uf(lf);function sy(i){return Vf(i)?ff(kn(i)):w6(i)}function Kx(i){return function(o){return i==null?r:us(i,o)}}var Vx=ug(),Gx=ug(!0);function uh(){return[]}function lh(){return!1}function Wx(){return{}}function Yx(){return""}function Jx(){return!0}function Xx(i,o){if(i=Qe(i),i<1||i>Q)return[];var l=ue,g=_r(i,ue);o=Be(o),i-=ue;for(var v=pf(g,o);++l<i;)o(l);return v}function Qx(i){return Ye(i)?Nt(i,kn):Qr(i)?[i]:Ur(Sg(dt(i)))}function Zx(i){var o=++lE;return dt(i)+o}var e8=Gc(function(i,o){return i+o},0),t8=Bf("ceil"),r8=Gc(function(i,o){return i/o},1),n8=Bf("floor");function i8(i){return i&&i.length?Bc(i,Hr,Sf):r}function s8(i,o){return i&&i.length?Bc(i,Be(o,2),Sf):r}function o8(i){return f0(i,Hr)}function a8(i,o){return f0(i,Be(o,2))}function c8(i){return i&&i.length?Bc(i,Hr,Af):r}function u8(i,o){return i&&i.length?Bc(i,Be(o,2),Af):r}var l8=Gc(function(i,o){return i*o},1),f8=Bf("round"),h8=Gc(function(i,o){return i-o},0);function d8(i){return i&&i.length?df(i,Hr):0}function p8(i,o){return i&&i.length?df(i,Be(o,2)):0}return S.after=M3,S.ary=Mg,S.assign=x5,S.assignIn=Jg,S.assignInWith=ou,S.assignWith=P5,S.at=S5,S.before=jg,S.bind=Qf,S.bindAll=Cx,S.bindKey=Lg,S.castArray=W3,S.chain=Ng,S.chunk=n2,S.compact=i2,S.concat=s2,S.cond=Tx,S.conforms=Rx,S.constant=sh,S.countBy=d3,S.create=I5,S.curry=Ug,S.curryRight=Bg,S.debounce=kg,S.defaults=D5,S.defaultsDeep=O5,S.defer=j3,S.delay=L3,S.difference=o2,S.differenceBy=a2,S.differenceWith=c2,S.drop=u2,S.dropRight=l2,S.dropRightWhile=f2,S.dropWhile=h2,S.fill=d2,S.filter=g3,S.flatMap=b3,S.flatMapDeep=v3,S.flatMapDepth=w3,S.flatten=Ag,S.flattenDeep=p2,S.flattenDepth=g2,S.flip=U3,S.flow=$x,S.flowRight=Fx,S.fromPairs=y2,S.functions=F5,S.functionsIn=M5,S.groupBy=_3,S.initial=b2,S.intersection=v2,S.intersectionBy=w2,S.intersectionWith=_2,S.invert=L5,S.invertBy=U5,S.invokeMap=x3,S.iteratee=oh,S.keyBy=P3,S.keys=dr,S.keysIn=kr,S.map=eu,S.mapKeys=k5,S.mapValues=H5,S.matches=Mx,S.matchesProperty=jx,S.memoize=ru,S.merge=z5,S.mergeWith=Xg,S.method=Lx,S.methodOf=Ux,S.mixin=ah,S.negate=nu,S.nthArg=kx,S.omit=q5,S.omitBy=K5,S.once=B3,S.orderBy=S3,S.over=Hx,S.overArgs=k3,S.overEvery=zx,S.overSome=qx,S.partial=Zf,S.partialRight=Hg,S.partition=I3,S.pick=V5,S.pickBy=Qg,S.property=sy,S.propertyOf=Kx,S.pull=S2,S.pullAll=Tg,S.pullAllBy=I2,S.pullAllWith=D2,S.pullAt=O2,S.range=Vx,S.rangeRight=Gx,S.rearg=H3,S.reject=A3,S.remove=A2,S.rest=z3,S.reverse=Jf,S.sampleSize=T3,S.set=W5,S.setWith=Y5,S.shuffle=R3,S.slice=C2,S.sortBy=F3,S.sortedUniq=j2,S.sortedUniqBy=L2,S.split=bx,S.spread=q3,S.tail=U2,S.take=B2,S.takeRight=k2,S.takeRightWhile=H2,S.takeWhile=z2,S.tap=i3,S.throttle=K3,S.thru=Zc,S.toArray=Gg,S.toPairs=Zg,S.toPairsIn=ey,S.toPath=Qx,S.toPlainObject=Yg,S.transform=J5,S.unary=V3,S.union=q2,S.unionBy=K2,S.unionWith=V2,S.uniq=G2,S.uniqBy=W2,S.uniqWith=Y2,S.unset=X5,S.unzip=Xf,S.unzipWith=Rg,S.update=Q5,S.updateWith=Z5,S.values=to,S.valuesIn=ex,S.without=J2,S.words=ny,S.wrap=G3,S.xor=X2,S.xorBy=Q2,S.xorWith=Z2,S.zip=e3,S.zipObject=t3,S.zipObjectDeep=r3,S.zipWith=n3,S.entries=Zg,S.entriesIn=ey,S.extend=Jg,S.extendWith=ou,ah(S,S),S.add=e8,S.attempt=iy,S.camelCase=ix,S.capitalize=ty,S.ceil=t8,S.clamp=tx,S.clone=Y3,S.cloneDeep=X3,S.cloneDeepWith=Q3,S.cloneWith=J3,S.conformsTo=Z3,S.deburr=ry,S.defaultTo=Nx,S.divide=r8,S.endsWith=sx,S.eq=Dn,S.escape=ox,S.escapeRegExp=ax,S.every=p3,S.find=y3,S.findIndex=Dg,S.findKey=A5,S.findLast=m3,S.findLastIndex=Og,S.findLastKey=C5,S.floor=n8,S.forEach=$g,S.forEachRight=Fg,S.forIn=T5,S.forInRight=R5,S.forOwn=N5,S.forOwnRight=$5,S.get=rh,S.gt=e5,S.gte=t5,S.has=j5,S.hasIn=nh,S.head=Cg,S.identity=Hr,S.includes=E3,S.indexOf=m2,S.inRange=rx,S.invoke=B5,S.isArguments=hs,S.isArray=Ye,S.isArrayBuffer=r5,S.isArrayLike=Br,S.isArrayLikeObject=Vt,S.isBoolean=n5,S.isBuffer=Ti,S.isDate=i5,S.isElement=s5,S.isEmpty=o5,S.isEqual=a5,S.isEqualWith=c5,S.isError=eh,S.isFinite=u5,S.isFunction=oi,S.isInteger=zg,S.isLength=iu,S.isMap=qg,S.isMatch=l5,S.isMatchWith=f5,S.isNaN=h5,S.isNative=d5,S.isNil=g5,S.isNull=p5,S.isNumber=Kg,S.isObject=Ft,S.isObjectLike=zt,S.isPlainObject=sa,S.isRegExp=th,S.isSafeInteger=y5,S.isSet=Vg,S.isString=su,S.isSymbol=Qr,S.isTypedArray=eo,S.isUndefined=m5,S.isWeakMap=b5,S.isWeakSet=v5,S.join=E2,S.kebabCase=cx,S.last=yn,S.lastIndexOf=x2,S.lowerCase=ux,S.lowerFirst=lx,S.lt=w5,S.lte=_5,S.max=i8,S.maxBy=s8,S.mean=o8,S.meanBy=a8,S.min=c8,S.minBy=u8,S.stubArray=uh,S.stubFalse=lh,S.stubObject=Wx,S.stubString=Yx,S.stubTrue=Jx,S.multiply=l8,S.nth=P2,S.noConflict=Bx,S.noop=ch,S.now=tu,S.pad=fx,S.padEnd=hx,S.padStart=dx,S.parseInt=px,S.random=nx,S.reduce=D3,S.reduceRight=O3,S.repeat=gx,S.replace=yx,S.result=G5,S.round=f8,S.runInContext=W,S.sample=C3,S.size=N3,S.snakeCase=mx,S.some=$3,S.sortedIndex=T2,S.sortedIndexBy=R2,S.sortedIndexOf=N2,S.sortedLastIndex=$2,S.sortedLastIndexBy=F2,S.sortedLastIndexOf=M2,S.startCase=vx,S.startsWith=wx,S.subtract=h8,S.sum=d8,S.sumBy=p8,S.template=_x,S.times=Xx,S.toFinite=ai,S.toInteger=Qe,S.toLength=Wg,S.toLower=Ex,S.toNumber=mn,S.toSafeInteger=E5,S.toString=dt,S.toUpper=xx,S.trim=Px,S.trimEnd=Sx,S.trimStart=Ix,S.truncate=Dx,S.unescape=Ox,S.uniqueId=Zx,S.upperCase=Ax,S.upperFirst=ih,S.each=$g,S.eachRight=Fg,S.first=Cg,ah(S,function(){var i={};return Un(S,function(o,l){gt.call(S.prototype,l)||(i[l]=o)}),i}(),{chain:!1}),S.VERSION=n,fn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){S[i].placeholder=S}),fn(["drop","take"],function(i,o){st.prototype[i]=function(l){l=l===r?1:lr(Qe(l),0);var g=this.__filtered__&&!o?new st(this):this.clone();return g.__filtered__?g.__takeCount__=_r(l,g.__takeCount__):g.__views__.push({size:_r(l,ue),type:i+(g.__dir__<0?"Right":"")}),g},st.prototype[i+"Right"]=function(l){return this.reverse()[i](l).reverse()}}),fn(["filter","map","takeWhile"],function(i,o){var l=o+1,g=l==E||l==Y;st.prototype[i]=function(v){var O=this.clone();return O.__iteratees__.push({iteratee:Be(v,3),type:l}),O.__filtered__=O.__filtered__||g,O}}),fn(["head","last"],function(i,o){var l="take"+(o?"Right":"");st.prototype[i]=function(){return this[l](1).value()[0]}}),fn(["initial","tail"],function(i,o){var l="drop"+(o?"":"Right");st.prototype[i]=function(){return this.__filtered__?new st(this):this[l](1)}}),st.prototype.compact=function(){return this.filter(Hr)},st.prototype.find=function(i){return this.filter(i).head()},st.prototype.findLast=function(i){return this.reverse().find(i)},st.prototype.invokeMap=rt(function(i,o){return typeof i=="function"?new st(this):this.map(function(l){return Zo(l,i,o)})}),st.prototype.reject=function(i){return this.filter(nu(Be(i)))},st.prototype.slice=function(i,o){i=Qe(i);var l=this;return l.__filtered__&&(i>0||o<0)?new st(l):(i<0?l=l.takeRight(-i):i&&(l=l.drop(i)),o!==r&&(o=Qe(o),l=o<0?l.dropRight(-o):l.take(o-i)),l)},st.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},st.prototype.toArray=function(){return this.take(ue)},Un(st.prototype,function(i,o){var l=/^(?:filter|find|map|reject)|While$/.test(o),g=/^(?:head|last)$/.test(o),v=S[g?"take"+(o=="last"?"Right":""):o],O=g||/^find/.test(o);v&&(S.prototype[o]=function(){var k=this.__wrapped__,K=g?[1]:arguments,X=k instanceof st,he=K[0],de=X||Ye(k),be=function(it){var ct=v.apply(S,Pi([it],K));return g&&Oe?ct[0]:ct};de&&l&&typeof he=="function"&&he.length!=1&&(X=de=!1);var Oe=this.__chain__,je=!!this.__actions__.length,ke=O&&!Oe,et=X&&!je;if(!O&&de){k=et?k:new st(this);var He=i.apply(k,K);return He.__actions__.push({func:Zc,args:[be],thisArg:r}),new dn(He,Oe)}return ke&&et?i.apply(this,K):(He=this.thru(be),ke?g?He.value()[0]:He.value():He)})}),fn(["pop","push","shift","sort","splice","unshift"],function(i){var o=Sc[i],l=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",g=/^(?:pop|shift)$/.test(i);S.prototype[i]=function(){var v=arguments;if(g&&!this.__chain__){var O=this.value();return o.apply(Ye(O)?O:[],v)}return this[l](function(k){return o.apply(Ye(k)?k:[],v)})}}),Un(st.prototype,function(i,o){var l=S[o];if(l){var g=l.name+"";gt.call(Ys,g)||(Ys[g]=[]),Ys[g].push({name:o,func:l})}}),Ys[Vc(r,z).name]=[{name:"wrapper",func:r}],st.prototype.clone=OE,st.prototype.reverse=AE,st.prototype.value=CE,S.prototype.at=s3,S.prototype.chain=o3,S.prototype.commit=a3,S.prototype.next=c3,S.prototype.plant=l3,S.prototype.reverse=f3,S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=h3,S.prototype.first=S.prototype.head,Vo&&(S.prototype[Vo]=u3),S},Vs=aE();Kt?((Kt.exports=Vs)._=Vs,Et._=Vs):at._=Vs}).call(_a)})(Bd,Bd.exports);var eL=Object.defineProperty,tL=Object.defineProperties,rL=Object.getOwnPropertyDescriptors,qb=Object.getOwnPropertySymbols,nL=Object.prototype.hasOwnProperty,iL=Object.prototype.propertyIsEnumerable,Kb=(t,e,r)=>e in t?eL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mu=(t,e)=>{for(var r in e||(e={}))nL.call(e,r)&&Kb(t,r,e[r]);if(qb)for(var r of qb(e))iL.call(e,r)&&Kb(t,r,e[r]);return t},sL=(t,e)=>tL(t,rL(e));function _n(t,e,r){let n;const s=kd(t);return e.rpcMap&&(n=e.rpcMap[s]),n||(n=`${Zj}?chainId=eip155:${s}&projectId=${r}`),n}function kd(t){return t.includes("eip155")?Number(t.split(":")[1]):Number(t)}function oL(t,e){if(!e.includes(t))throw new Error(`Chain '${t}' not approved. Please use one of the following: ${e.toString()}`)}function aL(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function cL(t,e){const r=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!r.length)return[];const n=[];return r.forEach(s=>{const a=e.namespaces[s].accounts;n.push(...a)}),n}function uL(t,e={}){const r=Vb(t),n=Vb(e);return Bd.exports.merge(r,n)}function Vb(t){var e,r,n,s;const a={};if(!wo(t))return a;for(const[c,u]of Object.entries(t)){const f=Qw(c)?[c]:u.chains,h=u.methods||[],p=u.events||[],m=u.rpcMap||{},b=Du(c);a[b]=sL(mu(mu({},a[b]),u),{chains:Ah(f,(e=a[b])==null?void 0:e.chains),methods:Ah(h,(r=a[b])==null?void 0:r.methods),events:Ah(p,(n=a[b])==null?void 0:n.events),rpcMap:mu(mu({},m),(s=a[b])==null?void 0:s.rpcMap)})}return a}const Fs=(t,e)=>{const r=n=>{n.request!==e.request||n.topic!==e.topic||(t.events.removeListener("session_request_sent",r),lL(e,t.core.storage))};t.on("session_request_sent",r)};async function lL(t,e){try{const r=await e.getItem("WALLETCONNECT_DEEPLINK_CHOICE");if(!r)return;const n=typeof r=="string"?JSON.parse(r):r;let s=n==null?void 0:n.href;if(typeof s!="string")return;s.endsWith("/")&&(s=s.slice(0,-1));const a=`${s}/wc?requestId=${t.id}&sessionTopic=${t.topic}`,c=Gw();c===xs.browser?window.open(a,"_self","noreferrer noopener"):c===xs.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(r){console.error(r)}}const j_={},Zt=t=>j_[t],kh=(t,e)=>{j_[t]=e};class fL{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=Zt("events"),this.client=Zt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?(Fs(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||_n(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Qi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||_n(e,this.namespace);return typeof n>"u"?void 0:new Xi(new $s(n,Zt("disableProviderPing")))}}class hL{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=Zt("events"),this.client=Zt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){var r;switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return this.handleSwitchChain(e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0"),null;case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?(Fs(this.client,e),await this.client.request(e)):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){const n=kd(e);if(!this.httpProviders[n]){const s=r||_n(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,s)}this.chainId=n,this.events.emit(Qi.DEFAULT_CHAIN_CHANGED,`${this.name}:${n}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||_n(`${this.name}:${e}`,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Xi(new $s(n,Zt("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const s=kd(r);e[s]=this.createHttpProvider(s,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}handleSwitchChain(e){const r=parseInt(e,16),n=`${this.name}:${r}`;oL(n,this.namespace.chains),this.setDefaultChain(`${r}`)}}class dL{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=Zt("events"),this.client=Zt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?(Fs(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||_n(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Qi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||_n(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Xi(new $s(n,Zt("disableProviderPing")))}}class pL{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=Zt("events"),this.client=Zt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?(Fs(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||_n(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Qi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||_n(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Xi(new $s(n,Zt("disableProviderPing")))}}class gL{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=Zt("events"),this.client=Zt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?(Fs(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Qi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r);e[r]=this.createHttpProvider(r,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);return typeof n>"u"?void 0:new Xi(new $s(n,Zt("disableProviderPing")))}}class yL{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=Zt("events"),this.client=Zt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?(Fs(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||_n(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Qi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||_n(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Xi(new $s(n,Zt("disableProviderPing")))}}class mL{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=Zt("events"),this.client=Zt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?(Fs(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||_n(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Qi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||_n(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Xi(new $s(n,Zt("disableProviderPing")))}}var bL=Object.defineProperty,vL=Object.defineProperties,wL=Object.getOwnPropertyDescriptors,Gb=Object.getOwnPropertySymbols,_L=Object.prototype.hasOwnProperty,EL=Object.prototype.propertyIsEnumerable,Wb=(t,e,r)=>e in t?bL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bu=(t,e)=>{for(var r in e||(e={}))_L.call(e,r)&&Wb(t,r,e[r]);if(Gb)for(var r of Gb(e))EL.call(e,r)&&Wb(t,r,e[r]);return t},Hh=(t,e)=>vL(t,wL(e));class s0{constructor(e){this.events=new Up,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:ut.pino(ut.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||Hb})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new s0(e);return await r.initialize(),r}async request(e,r){const[n,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:bu({},e),chainId:`${n}:${s}`,topic:this.session.topic})}sendAsync(e,r,n){this.request(e,n).then(s=>r(null,s)).catch(s=>r(s,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Jt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let r=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(r>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:n,approval:s}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});n&&(this.uri=n,this.events.emit("display_uri",n)),await s().then(a=>{this.session=a}).catch(a=>{if(a.message!==F_)throw a;r++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,r){try{const[n,s]=this.validateChain(e);this.getProvider(n).setDefaultChain(s,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(bi(r)){for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await Vj.init({logger:this.providerOpts.logger||Hb,relayUrl:this.providerOpts.relayUrl||Jj,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>Du(r)))];kh("client",this.client),kh("events",this.events),kh("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=cL(r,this.session),s=aL(n),a=uL(this.namespaces,this.optionalNamespaces),c=Hh(bu({},a[r]),{accounts:n,chains:s});switch(r){case"eip155":this.rpcProviders[r]=new hL({namespace:c});break;case"solana":this.rpcProviders[r]=new dL({namespace:c});break;case"cosmos":this.rpcProviders[r]=new pL({namespace:c});break;case"polkadot":this.rpcProviders[r]=new fL({namespace:c});break;case"cip34":this.rpcProviders[r]=new gL({namespace:c});break;case"elrond":this.rpcProviders[r]=new yL({namespace:c});break;case"multiversx":this.rpcProviders[r]=new mL({namespace:c});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?this.events.emit("accountsChanged",n.data):n.name==="chainChanged"?this.onChainChanged(r.chainId):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n;const{namespaces:s}=r,a=(n=this.client)==null?void 0:n.session.get(e);this.session=Hh(bu({},a),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Hh(bu({},Jt("USER_DISCONNECTED")),{data:e.topic}))}),this.on(Qi.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r,optionalNamespaces:n,sessionProperties:s}=e;if(!r||!Object.keys(r).length)throw new Error("Namespaces must be not empty");this.namespaces=r,this.optionalNamespaces=n,this.sessionProperties=s,this.persist("namespaces",r),this.persist("optionalNamespaces",n)}validateChain(e){const[r,n]=(e==null?void 0:e.split(":"))||["",""];if(r&&!Object.keys(this.namespaces).map(c=>Du(c)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const s=Du(Object.keys(this.namespaces)[0]),a=this.rpcProviders[s].getDefaultChain();return[s,a]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,r=!1){var n;const[s,a]=this.validateChain(e);r||this.getProvider(s).setDefaultChain(a),((n=this.namespaces[s])!=null?n:this.namespaces[`${s}:${a}`]).defaultChain=a,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",a)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0})}persist(e,r){this.client.core.storage.setItem(`${zb}/${e}`,r)}async getFromStore(e){return await this.client.core.storage.getItem(`${zb}/${e}`)}}const xL=s0,PL="wc",SL="ethereum_provider",IL=`${PL}@2:${SL}:`,DL="https://rpc.walletconnect.com/v1/",Wu=["eth_sendTransaction","personal_sign"],Hd=["chainChanged","accountsChanged"];var OL=Object.defineProperty,AL=Object.defineProperties,CL=Object.getOwnPropertyDescriptors,Yb=Object.getOwnPropertySymbols,TL=Object.prototype.hasOwnProperty,RL=Object.prototype.propertyIsEnumerable,Jb=(t,e,r)=>e in t?OL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zh=(t,e)=>{for(var r in e||(e={}))TL.call(e,r)&&Jb(t,r,e[r]);if(Yb)for(var r of Yb(e))RL.call(e,r)&&Jb(t,r,e[r]);return t},Xb=(t,e)=>AL(t,CL(e));function zd(t){return Number(t[0].split(":")[1])}function qh(t){return`0x${t.toString(16)}`}function NL(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:s,events:a,optionalEvents:c,rpcMap:u}=t;if(!bi(e))throw new Error("Invalid chains");const f=e,h=n||Wu,p=a||Hd,m={[zd(f)]:u[zd(f)]},b={chains:f,methods:h,events:p,rpcMap:m},_=a==null?void 0:a.filter(z=>!Hd.includes(z)),x=n==null?void 0:n.filter(z=>!Wu.includes(z));if(!r&&!c&&!s&&!(_!=null&&_.length)&&!(x!=null&&x.length))return{required:b};const N=(_==null?void 0:_.length)&&(x==null?void 0:x.length)||!r,M={chains:[...new Set(N?f.concat(r||[]):r)],methods:[...new Set(h.concat(s||[]))],events:[...new Set(p.concat(c||[]))],rpcMap:u};return{required:b,optional:M}}class o0{constructor(){this.events=new an.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=IL,this.on=(e,r)=>(this.events.on(e,r),this),this.once=(e,r)=>(this.events.once(e,r),this),this.removeListener=(e,r)=>(this.events.removeListener(e,r),this),this.off=(e,r)=>(this.events.off(e,r),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){const r=new o0;return await r.initialize(e),r}async request(e){return await this.signer.request(e,this.formatChainId(this.chainId))}sendAsync(e,r){this.signer.sendAsync(e,r,this.formatChainId(this.chainId))}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:n}=NL(this.rpc);try{const s=await new Promise(async(c,u)=>{var f;this.rpc.showQrModal&&((f=this.modal)==null||f.subscribeModal(h=>{!h.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),u(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(Xb(zh({namespaces:{[this.namespace]:r}},n&&{optionalNamespaces:{[this.namespace]:n}}),{pairingTopic:e==null?void 0:e.pairingTopic})).then(h=>{c(h)}).catch(h=>{u(new Error(h.message))})});if(!s)return;this.setChainIds(this.rpc.chains);const a=BR(s.namespaces,[this.namespace]);this.setAccounts(a),this.events.emit("connect",{chainId:qh(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{const r=parseInt(e);this.chainId=r,this.events.emit("chainChanged",qh(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",Xb(zh({},Jt("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var r,n;this.rpc.showQrModal&&((r=this.modal)==null||r.closeModal(),(n=this.modal)==null||n.openModal({uri:e})),this.events.emit("display_uri",e)})}setHttpProvider(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const r=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",qh(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const r=this.parseChainId(e);this.chainId=r,this.setHttpProvider(r)}}parseAccountId(e){const[r,n,s]=e.split(":");return{chainId:`${r}:${n}`,address:s}}setAccounts(e){this.accounts=e.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var r,n;return{chains:((r=e.chains)==null?void 0:r.map(s=>this.formatChainId(s)))||[`${this.namespace}:1`],optionalChains:e.optionalChains?e.optionalChains.map(s=>this.formatChainId(s)):void 0,methods:(e==null?void 0:e.methods)||Wu,events:(e==null?void 0:e.events)||Hd,optionalMethods:(e==null?void 0:e.optionalMethods)||[],optionalEvents:(e==null?void 0:e.optionalEvents)||[],rpcMap:(e==null?void 0:e.rpcMap)||this.buildRpcMap(e.chains.concat(e.optionalChains||[]),e.projectId),showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:(n=e==null?void 0:e.qrModalOptions)!=null?n:void 0,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,r){const n={};return e.forEach(s=>{n[s]=this.getRpcUrl(s,r)}),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=zd(this.rpc.chains),this.signer=await xL.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal)try{const{Web3Modal:r}=await Hv(()=>import("./index.es-a1b25aaf.js").then(n=>n.i),[]);this.modal=new r(zh({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch{throw new Error("To use QR modal, please install @web3modal/standalone package")}}loadConnectOpts(e){if(!e)return;const{chains:r,optionalChains:n,rpcMap:s}=e;r&&bi(r)&&(this.rpc.chains=r.map(a=>this.formatChainId(a)),r.forEach(a=>{this.rpc.rpcMap[a]=(s==null?void 0:s[a])||this.getRpcUrl(a)})),n&&bi(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n==null?void 0:n.map(a=>this.formatChainId(a)),n.forEach(a=>{this.rpc.rpcMap[a]=(s==null?void 0:s[a])||this.getRpcUrl(a)}))}getRpcUrl(e,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${DL}?chainId=eip155:${e}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`);this.setChainIds(e?[this.formatChainId(e)]:this.session.namespaces[this.namespace].accounts),this.setAccounts(this.session.namespaces[this.namespace].accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(r=>this.parseAccount(r))}}const $L=o0,FL="https://testnets.opensea.io/assets/mumbai/",ML="https://blur.io/asset/",jL="mumbai",LL="0x6339d6fdF06c782046cc4DB7a61BEf1bB8542E58",UL="0xcA11bde05977b3631167028862bE2a173976CA11",BL=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ApprovalCallerNotOwnerNorApproved",type:"error"},{inputs:[],name:"ApprovalQueryForNonexistentToken",type:"error"},{inputs:[],name:"BalanceQueryForZeroAddress",type:"error"},{inputs:[],name:"InvalidQueryRange",type:"error"},{inputs:[],name:"MintERC2309QuantityExceedsLimit",type:"error"},{inputs:[],name:"MintToZeroAddress",type:"error"},{inputs:[],name:"MintZeroQuantity",type:"error"},{inputs:[{internalType:"address",name:"have",type:"address"},{internalType:"address",name:"want",type:"address"}],name:"OnlyCoordinatorCanFulfill",type:"error"},{inputs:[],name:"OwnerQueryForNonexistentToken",type:"error"},{inputs:[],name:"OwnershipNotInitializedForExtraData",type:"error"},{inputs:[],name:"TransferCallerNotOwnerNorApproved",type:"error"},{inputs:[],name:"TransferFromIncorrectOwner",type:"error"},{inputs:[],name:"TransferToNonERC721ReceiverImplementer",type:"error"},{inputs:[],name:"TransferToZeroAddress",type:"error"},{inputs:[],name:"URIQueryForNonexistentToken",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"fromTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toTokenId",type:"uint256"}],name:"BatchMetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toTokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"ConsecutiveTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"requestId",type:"uint256"},{indexed:!1,internalType:"uint256[]",name:"randomWords",type:"uint256[]"}],name:"RequestFulfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"requestId",type:"uint256"},{indexed:!1,internalType:"uint32",name:"numWords",type:"uint32"}],name:"RequestSent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"MAX_PER_MINT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_SUPPLY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"r",type:"uint8"},{internalType:"uint8",name:"g",type:"uint8"},{internalType:"uint8",name:"b",type:"uint8"}],name:"RGBToHex",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_markets",type:"address[]"}],name:"addMarket",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"backgroundColor",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"clubMember",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_markets",type:"address[]"}],name:"delMarket",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"explicitOwnershipOf",outputs:[{components:[{internalType:"address",name:"addr",type:"address"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"bool",name:"burned",type:"bool"},{internalType:"uint24",name:"extraData",type:"uint24"}],internalType:"struct IERC721A.TokenOwnership",name:"ownership",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"explicitOwnershipsOf",outputs:[{components:[{internalType:"address",name:"addr",type:"address"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"bool",name:"burned",type:"bool"},{internalType:"uint24",name:"extraData",type:"uint24"}],internalType:"struct IERC721A.TokenOwnership[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"getMarket",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"gradientColor",outputs:[{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isSale",outputs:[{internalType:"bool",name:"sale",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"member",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"numberOfMembers",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"operatorFilteringEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"requestId",type:"uint256"},{internalType:"uint256[]",name:"randomWords",type:"uint256[]"}],name:"rawFulfillRandomWords",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint96",name:"feeNumerator",type:"uint96"}],name:"setDefaultRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"value",type:"bool"}],name:"setOperatorFilteringEnabled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"token",outputs:[{internalType:"address",name:"lucker",type:"address"},{internalType:"uint8",name:"cartridges",type:"uint8"},{internalType:"uint8",name:"prevrandao",type:"uint8"},{internalType:"uint8",name:"mascot",type:"uint8"},{internalType:"uint8",name:"cartridge_red",type:"uint8"},{internalType:"uint8",name:"cartridge_green",type:"uint8"},{internalType:"uint8",name:"cartridge_blue",type:"uint8"},{internalType:"uint8",name:"background_red",type:"uint8"},{internalType:"uint8",name:"background_green",type:"uint8"},{internalType:"uint8",name:"background_blue",type:"uint8"},{internalType:"uint8",name:"gradient_red",type:"uint8"},{internalType:"uint8",name:"gradient_green",type:"uint8"},{internalType:"uint8",name:"gradient_blue",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"tokensOfOwner",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"start",type:"uint256"},{internalType:"uint256",name:"stop",type:"uint256"}],name:"tokensOfOwnerIn",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Rr={opensea:FL,blur:ML,chain:jL,address:LL,multicall:UL,abi:BL},Ul=rD("eth",()=>{const t=cT,e=Wt(!1),r=Wt(!1),n=Wt(null),s=Wt({}),a=Wt([]),c=Wt(""),u=WI(),f=Wt(eT({chain:t,batch:{multicall:!0},transport:OC()})),h=Wt(window&&window.ethereum?ym({chain:t,transport:pm(window.ethereum)}):null);async function p(M){if(typeof M=="boolean"){if(h&&h.value){const[z]=await h.value.getAddresses();if(z){const C=await h.value.getChainId();t.id===C&&(n.value=z)}}}else try{if(window&&window.ethereum){const z=await h.value.getChainId();t.id!=z&&(await h.value.addChain({chain:t}),await h.value.switchChain(t));const[C]=await h.value.requestAddresses();C&&(n.value=C)}else{const z="2d370def4cd33b8cdc388ee6f5511aae",C=await $L.init({projectId:z,chains:[t.id],showQrModal:!0,methods:Wu,rpcMap:{[t.id]:t.rpcUrls.default.http}});h.value=ym({chain:t,transport:pm(C)}),await C.connect();const[L]=await h.value.getAddresses();L&&(n.value=L)}}catch(z){console.log(z)}}async function m(){n.value=null}async function b(M,z,C=128){if(z){N(!0);try{const{ethereum:L}=window;if(L){const D=typeof z=="bigint"?z:BigInt(z),T=typeof C=="bigint"?C:BigInt(C),P=[];for(let w=D;w<D+T;w++)P.push({address:Rr.address,abi:Rr.abi,functionName:M,args:[w]});const d=await f.value.multicall({contracts:P,multicallAddress:Rr.multicall});a.value=[],d.filter(w=>w.status==="success").forEach(w=>{C===1?s.value=JSON.parse(w.result.replace("data:application/json;utf8,","")):a.value.push(JSON.parse(w.result.replace("data:application/json;utf8,","")))})}N(!1)}catch(L){console.error(M,L),N(!1)}}}async function _(M,z=1){N(!0);try{const C=await f.value.readContract({address:Rr.address,abi:Rr.abi,functionName:"tokensOfOwner",args:[M]});z=z?parseInt(z):1;const L=[];C.reverse().slice((z-1)*128,z*128).forEach(T=>{L.push({address:Rr.address,abi:Rr.abi,functionName:"tokenURI",args:[T]})}),r.value=z*128<C.length;const D=await f.value.multicall({contracts:L,multicallAddress:Rr.multicall});z===1&&(a.value=[]),D.filter(T=>T.status==="success").forEach(T=>{a.value.push(JSON.parse(T.result.replace("data:application/json;utf8,","")))}),N(!1)}catch(C){console.error(C),N(!1)}}async function x(M){N(!0);try{const{ethereum:z}=window;if(z){f.value.watchContractEvent({address:Rr.address,abi:Rr.abi,eventName:"Transfer",onLogs:L=>{L.forEach(async D=>{D.transactionHash===c.value&&(N(!1),u.push(`/${n.value}`))})}});const{request:C}=await f.value.simulateContract({address:Rr.address,abi:Rr.abi,functionName:"mint",args:[M],account:n.value});c.value=await h.value.writeContract(C)}else console.log("Ethereum object doesn't exist!"),N(!1)}catch(z){console.error("mint",z),N(!1)}}function N(M){e.value=M}return{opensea:Rr.opensea,blur:Rr.blur,contract:Rr.address,connect:p,disconnect:m,get:b,tokensOfOwner:_,mint:x,account:n,loading:e,last:r,token:s,tokens:a}});const kL={class:"container max-width px-1"},HL={class:"navbar relative z-10"},zL={class:"flex-1"},qL=$e("img",{src:nD,class:"w-10"},null,-1),KL={class:"flex-none"},VL={key:1},GL={class:"dropdown dropdown-end"},WL=$e("label",{tabindex:"0",class:"btn btn-ghost btn-circle"},[$e("div",{class:"indicator"},[$e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[$e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})])])],-1),YL={tabindex:"0",class:"menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52 truncate"},JL={class:"disabled"},XL={class:"justify-between"},QL=["href"],ZL=["href"],e9={class:"flex flex-col min-h-screen justify-center items-center -mt-16"},t9={class:"container mx-auto"},r9={class:"hero"},n9={class:"footer footer-center p-10 text-base-content"},i9={class:"grid grid-flow-col gap-4"},s9=As('<div><div class="grid grid-flow-col gap-4"><a href="https://github.com/6of6Club" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 448 512" class="fill-current"><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"></path></svg></a><a href="https://twitter.com/6of6Club" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 448 512" class="fill-current"><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"></path></svg></a><a href="https://youtube.com/@6of6Club" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 448 512" class="fill-current"><path d="M186.8 202.1l95.2 54.1-95.2 54.1V202.1zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-42 176.3s0-59.6-7.6-88.2c-4.2-15.8-16.5-28.2-32.2-32.4C337.9 128 224 128 224 128s-113.9 0-142.2 7.7c-15.7 4.2-28 16.6-32.2 32.4-7.6 28.5-7.6 88.2-7.6 88.2s0 59.6 7.6 88.2c4.2 15.8 16.5 27.7 32.2 31.9C110.1 384 224 384 224 384s113.9 0 142.2-7.7c15.7-4.2 28-16.1 32.2-31.9 7.6-28.5 7.6-88.1 7.6-88.1z"></path></svg></a></div></div><div><p>Copyright  2023 - RockArt  AI</p></div>',2),o9={__name:"App",setup(t){const e=Ul(),{contract:r,connect:n,disconnect:s}=e,{account:a}=fl(e);return il(async()=>{await n(!0)}),(c,u)=>{const f=my("router-link"),h=my("router-view");return pt(),mt("div",kL,[$e("div",HL,[$e("div",zL,[Yt(f,{to:"/"},{default:vs(()=>[qL]),_:1})]),$e("div",KL,[Ke(a)===null?(pt(),mt("button",{key:0,class:"btn btn-primary",onClick:u[0]||(u[0]=(...p)=>Ke(n)&&Ke(n)(...p))}," connect ")):(pt(),mt("div",VL,[$e("div",GL,[WL,$e("ul",YL,[$e("li",JL,[$e("span",XL,ho(Ke(a).substring(0,10))+"..."+ho(Ke(a).substring(Ke(a).length-9)),1)]),$e("li",null,[Yt(f,{to:`/${Ke(a)}`,class:"justify-between"},{default:vs(()=>[Li(" My 6of6 NFTs ")]),_:1},8,["to"])]),$e("li",null,[$e("a",{href:`https://opensea.io/assets/ethereum/${Ke(r)}`,class:"justify-between",target:"_blank"}," 6of6 on Opensea",8,QL)]),$e("li",null,[$e("a",{href:`https://blur.io/collection/${Ke(r)}`,class:"justify-between",target:"_blank"}," 6of6 on Blur",8,ZL)]),$e("li",null,[$e("button",{onClick:u[1]||(u[1]=(...p)=>Ke(s)&&Ke(s)(...p))},"Logout")])])])]))])]),$e("div",e9,[Yt(h),$e("div",t9,[$e("div",r9,[$e("footer",n9,[$e("div",i9,[Yt(f,{to:"/",class:"link link-hover"},{default:vs(()=>[Li("Home")]),_:1}),Yt(f,{to:"/about-us",class:"link link-hover"},{default:vs(()=>[Li("About us")]),_:1}),Yt(f,{to:"/contact",class:"link link-hover"},{default:vs(()=>[Li("Contact")]),_:1}),Yt(f,{to:"/faq",class:"link link-hover"},{default:vs(()=>[Li("FAQ")]),_:1})]),s9])])])])])}}},a9="/2.svg",c9="/3.svg",u9="/4.svg",l9="/5.svg",f9="/6.svg",h9={class:"container mx-auto"},d9={class:"hero min-h-screen"},p9={class:"hero-content text-center"},g9={class:"max-w-md"},y9=$e("h1",{class:"text-5xl font-bold"},"6of6 Club",-1),m9=$e("p",{class:"py-6 text-center"},"Dynamic on-chain NFTs",-1),b9={key:0,class:"loading loading-spinner"},v9={key:1,class:"form-control"},w9={class:"input-group"},_9={key:0,class:"loading loading-spinner"},E9={class:"hero min-h-screen"},x9={class:"hero-content flex-col w-full lg:flex-row"},P9=["src"],S9=As('<div class="w-full"><div class="py-6 text-center"><ul class="steps steps-vertical"><li data-content="" class="step"> Mint NFT - one of 65,536 different token variants will be generated </li><li data-content="" class="step"><ul><li data-content="" class="step step-success"> NFT Success - empty chamber stop at the top </li><li data-content="" class="step step-error"> NFT Wasted - cartridge stops at the top </li></ul></li><li data-content="" class="step"> Sell NFT - only opensea and blur marketplaces are supported </li></ul></div></div>',1),I9={class:"hero min-h-screen"},D9={class:"hero-content flex-col w-full lg:flex-row"},O9=["src"],A9=As('<div class="w-full"><div class="py-6 text-center"><ul class="steps steps-vertical"><li data-content="" class="step"> Buy NFT - plus one cartridge will be added and re-spun will start </li><li data-content="" class="step"><ul><li data-content="" class="step step-success"> NFT Success - selling NFT will add a new cartridge </li><li data-content="" class="step step-error"> NFT Wasted - no more cartridges will be added to the NFT </li></ul></li><li data-content="" class="step"> Sell NFT - until there are 6of6 cartridges in the drum </li></ul></div></div>',1),C9={class:"hero min-h-screen"},T9={class:"hero-content flex-col w-full lg:flex-row"},R9=["src"],N9=As('<div class="w-full"><div class="py-6 text-center"><ul class="steps steps-vertical"><li data-content="" class="step"> NFT 6of6 is very rare, the chance is 1 in 65 </li><li data-content="" class="step"> Users who collect 6 of 6 - become members of the 6of6 Club </li><li data-content="" class="step"> 6of6 Club members will be in future airdrops (SS2ERC721) </li><li data-content="" class="step"> NFT and metadata are generated by on-chain </li><li data-content="" class="step"> Only selling (not transfer) for ETH adds a cartridge </li></ul></div></div>',1),$9=As('<div class="hero min-h-screen"><div class="columns-1 lg:columns-5"><div class="text-center"><img src="'+a9+'"><div class="radial-progress text-primary-content border-4 border-primary my-10" style="--value:83.3;"> 83.3% </div><div class="text-lg bg-inherit border-0">54,000 NFTs</div></div><div class="text-center"><img src="'+c9+'"><div class="radial-progress text-primary-content border-4 border-primary my-10" style="--value:66.6;"> 66.6% </div><div class="text-xl bg-inherit border-0">36,000 NFTs</div></div><div class="text-center"><img src="'+u9+'"><div class="radial-progress text-primary-content border-4 border-primary my-10" style="--value:50;"> 50.0% </div><div class="text-2xl bg-inherit border-0">18,000 NFTs</div></div><div class="text-center"><img src="'+l9+'"><div class="radial-progress text-primary-content border-4 border-primary my-10" style="--value:33.3;"> 33.3% </div><div class="text-3xl bg-inherit border-0">06,000 NFTs</div></div><div class="text-center"><img src="'+f9+'"><div class="radial-progress text-primary-content border-4 border-primary my-10" style="--value:16.6;"> 16.6% </div><div class="text-4xl bg-inherit border-0">01,000 NFTs</div></div></div></div>',1),F9={__name:"HomeView",setup(t){const e=Ul(),{connect:r,mint:n}=e,{account:s}=fl(e);il(async()=>{await r(!0)});const a=Wt(1),c=Wt(!1),u=Wt("win.svg"),f=Wt("lose.svg"),h=Wt("plus.svg"),p=()=>{[u,f,h].forEach(m=>{m.value=m.value.split("?")[0]+"?d="+new Date().getMilliseconds()})};return setInterval(()=>{p()},1e4),(m,b)=>(pt(),mt("div",h9,[$e("div",d9,[$e("div",p9,[$e("div",g9,[y9,m9,Ke(s)===null?(pt(),mt("button",{key:0,class:"btn btn-primary",onClick:b[0]||(b[0]=async()=>{c.value=!0,await Ke(r)(),c.value=!1})},[c.value?(pt(),mt("span",b9)):pi("",!0),Li(" connect and mint ")])):(pt(),mt("div",v9,[$e("div",w9,[IP($e("input",{"onUpdate:modelValue":b[1]||(b[1]=_=>a.value=_),type:"text",placeholder:"1 - 64",class:"input input-bordered"},null,512),[[US,a.value]]),$e("button",{class:"btn btn-primary",onClick:b[2]||(b[2]=async()=>{c.value=!0,await Ke(n)(a.value),m.setTimeout(()=>{c.value=!1},3e4)})},[c.value?(pt(),mt("span",_9)):pi("",!0),Li(" free mint ")])])]))])])]),$e("div",E9,[$e("div",x9,[$e("div",null,[$e("img",{src:h.value,class:"max-w-sm w-96"},null,8,P9)]),S9])]),$e("div",I9,[$e("div",D9,[$e("div",null,[$e("img",{src:f.value,class:"max-w-sm w-96"},null,8,O9)]),A9])]),$e("div",C9,[$e("div",T9,[$e("div",null,[$e("img",{src:u.value,class:"max-w-sm w-96"},null,8,R9)]),N9])]),$9]))}},M9={key:0},j9={key:1,className:"card w-96"},L9={className:"card-body"},U9={className:"card-title justify-center"},B9={className:"px-10"},k9=["src","alt"],H9={className:"card-body items-center text-center"},z9={className:"card-actions"},q9={key:0},K9=["href"],V9={key:1,class:"divider divider-vertical"},G9=["href"],W9={key:1},Y9={__name:"TokenView",setup(t){const e=Ul(),{opensea:r,blur:n,contract:s,get:a}=e,{loading:c,token:u}=fl(e),f=sv(),h=Wt(""),p=Wt(!0);return ki(()=>f.params.id,async m=>{await a("tokenURI",m)}),ki(u,m=>{h.value=m&&m.name&&m.name.split("#")[1],p.value=m&&m.attributes&&m.attributes[1].value==="LOST",console.log(m)}),il(async()=>{await a("tokenURI",f.params.id)}),(m,b)=>Ke(c)||!Ke(u).name?(pt(),mt("div",M9,"Loading")):(pt(),mt("div",j9,[$e("div",L9,[$e("h1",U9,ho(Ke(u).name),1)]),$e("figure",B9,[$e("img",{src:Ke(u).image,alt:Ke(u).name,className:"rounded-xl"},null,8,k9)]),$e("div",H9,[$e("div",z9,[p.value?(pt(),mt("div",W9,"NFT Wasted")):(pt(),mt("div",q9,[Ke(r)!==""?(pt(),mt("a",{key:0,href:`${Ke(r)}${Ke(s)}/${h.value}`,target:"_blank",className:"btn btn-info btn-block"},"Sell on OpenSea",8,K9)):pi("",!0),Ke(n)!==""?(pt(),mt("div",V9,"OR")):pi("",!0),Ke(n)!==""?(pt(),mt("a",{key:2,href:`${Ke(n)}${Ke(s)}/${h.value}`,target:"_blank",className:"btn btn-warning btn-block"},"Sell on Blur",8,G9)):pi("",!0)]))])])]))}},J9={class:"min-h-screen"},X9={key:0,class:"hero min-h-screen"},Q9=$e("div",{class:"hero-content text-center"},"Loading ...",-1),Z9=[Q9],eU={key:1,class:"grid grid-cols-4 gap-4 mt-10"},tU={className:"card"},rU={className:"card-body"},nU={className:"card-title justify-center"},iU={className:"px-1"},sU=["src","alt"],oU={className:"card-body items-center text-center"},aU={key:0,className:"card-actions"},cU=["href"],uU={key:1,class:"divider divider-vertical"},lU=["href"],fU={key:1},hU={__name:"UserView",setup(t){const e=Ul(),{opensea:r,blur:n,contract:s,tokensOfOwner:a}=e,{account:c,loading:u,last:f,tokens:h}=fl(e),p=sv(),m=Wt(p.params.hash),b=Wt(1),_=N=>N.name.split("#")[1],x=N=>N.attributes[1].value!="";return PP(async()=>{await a(`0x${m.value}`,b.value)}),ki(h,N=>{}),(N,M)=>(pt(),mt("div",J9,[Ke(u)||!Ke(h)||!Ke(h).length?(pt(),mt("div",X9,Z9)):(pt(),mt("div",eU,[(pt(!0),mt(Gn,null,BP(Ke(h),z=>(pt(),mt("div",null,[$e("div",tU,[$e("div",rU,[$e("h1",nU,ho(z.name),1)]),$e("figure",iU,[$e("img",{src:z.image,alt:z.name,className:"rounded-xl"},null,8,sU)]),$e("div",oU,[x(z)?(pt(),mt("div",aU,[$e("div",null,[Ke(r)!==""?(pt(),mt("a",{key:0,href:`${Ke(r)}${Ke(s)}/${_(z)}`,target:"_blank",className:"btn btn-info btn-block btn-sm"},ho(Ke(c)===`0x${m.value}`?"Sell":"Buy")+" on OpenSea",9,cU)):pi("",!0),Ke(n)!==""?(pt(),mt("div",uU," OR ")):pi("",!0),Ke(n)!==""?(pt(),mt("a",{key:2,href:`${Ke(n)}${Ke(s)}/${_(z)}`,target:"_blank",className:"btn btn-warning btn-block btn-sm"},ho(Ke(c)===`0x${m.value}`?"Sell":"Buy")+" on Blur",9,lU)):pi("",!0)])])):(pt(),mt("div",fU,"NFT Wasted"))])])]))),256))])),Ke(f)?(pt(),mt("button",{key:2,class:"btn btn-block btn-primary",onClick:M[0]||(M[0]=()=>{b.value++})}," MORE ")):pi("",!0)]))}},a0=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},dU={},pU={class:"container mx-auto"},gU=$e("div",{class:"hero min-h-screen"},[$e("div",{class:"hero-content text-center flex flex-col"},[$e("h1",{class:"text-5xl"},"About Us"),$e("div",null,"RockArt  AI - is a marketplace for on-chain creativity."),$e("div",null," All dynamic NFTs similar to ancient cave drawings will be in the blockchain forever. ")])],-1),yU=[gU];function mU(t,e){return pt(),mt("div",pU,yU)}const bU=a0(dU,[["render",mU]]),vU={},wU={class:"container mx-auto"},_U=As('<div class="hero min-h-screen"><div class="hero-content text-center flex flex-col"><h1 class="text-5xl">Contact</h1><div><a href="https://github.com/6of6Club" target="_blank">https://github.com/6of6Club</a></div><div><a href="https://twitter.com/6of6Club" target="_blank">https://twitter.com/6of6Club</a></div><div><a href="https://youtube.com/@6of6Club" target="_blank">https://youtube.com/@6of6Club</a></div></div></div>',1),EU=[_U];function xU(t,e){return pt(),mt("div",wU,EU)}const PU=a0(vU,[["render",xU]]),SU={},IU={class:"container mx-auto"},DU=As('<div class="hero min-h-screen"><div class="hero-content text-center flex flex-col"><div tabindex="0" class="collapse collapse-arrow collapse-open border border-base-300 rounded-lg w-full"><div class="collapse-title text-xl font-medium"> How many maximum NFTs will be released? </div><div class="collapse-content"><p>Maximum number of NFTs - 65,536</p></div></div><div tabindex="0" class="collapse collapse-arrow collapse-open border border-base-300 rounded-lg w-full"><div class="collapse-title text-xl font-medium"> How many NFTs will be filled with 6of6 cartridges? </div><div class="collapse-content"><p> Of the 65,536 NFTs, the probability theory is that there will be about 1,000 completely filled. </p></div></div><div tabindex="0" class="collapse collapse-arrow collapse-open border border-base-300 rounded-lg w-full"><div class="collapse-title text-xl font-medium"> When is a new cartridge added to the NFT? </div><div class="collapse-content"><p> A new cartridge is added only when sold for ETH on the Opensea (<a href="https://etherscan.io/address/0x00000000000000adc04c56bf30ac9d3c0aaf14dc" target="_blank">Seaport 1.5</a>) or Blur (<a href="https://etherscan.io/address/0x000000000000ad05ccc4f10045630fb830b95127" target="_blank">Blur.io: Marketplace</a>). </p></div></div><div tabindex="0" class="collapse collapse-arrow collapse-open border border-base-300 rounded-lg w-full"><div class="collapse-title text-xl font-medium"> Can I sell NFTs that got Wasted status? </div><div class="collapse-content"><p> Yes, you can sell and transfer NFT Wasted, but new cartridges will no longer be added to them. </p></div></div></div></div>',1),OU=[DU];function AU(t,e){return pt(),mt("div",IU,OU)}const CU=a0(SU,[["render",AU]]),TU=JI(),RU=VI({history:cI(),routes:[{path:"/",name:"home",component:F9},{path:"/about-us",name:"about-us",component:bU},{path:"/contact",name:"contact",component:PU},{path:"/faq",name:"faq",component:CU},{path:"/:id",name:"token",component:Y9},{path:"/0x:hash",name:"user",component:hU}]});HS(o9).use(TU).use(RU).mount("#app");export{De as B,Aa as H,Ba as I,Hv as _,mi as a,qi as b,_l as c,WO as d,Va as e,dl as g,Do as i,Gr as s};
