(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function qd(t,e){const r=Object.create(null),n=t.split(",");for(let s=0;s<n.length;s++)r[n[s]]=!0;return e?s=>!!r[s.toLowerCase()]:s=>!!r[s]}const Dt={},uo=[],Tn=()=>{},g8=()=>!1,y8=/^on[^a-z]/,Wu=t=>y8.test(t),Kd=t=>t.startsWith("onUpdate:"),yr=Object.assign,Vd=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},m8=Object.prototype.hasOwnProperty,ft=(t,e)=>m8.call(t,e),qe=Array.isArray,lo=t=>Yu(t)==="[object Map]",Qb=t=>Yu(t)==="[object Set]",Ye=t=>typeof t=="function",fr=t=>typeof t=="string",Gd=t=>typeof t=="symbol",Ot=t=>t!==null&&typeof t=="object",Zb=t=>Ot(t)&&Ye(t.then)&&Ye(t.catch),e1=Object.prototype.toString,Yu=t=>e1.call(t),b8=t=>Yu(t).slice(8,-1),t1=t=>Yu(t)==="[object Object]",Wd=t=>fr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bu=qd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ju=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},v8=/-(\w)/g,Yn=Ju(t=>t.replace(v8,(e,r)=>r?r.toUpperCase():"")),w8=/\B([A-Z])/g,Do=Ju(t=>t.replace(w8,"-$1").toLowerCase()),Xu=Ju(t=>t.charAt(0).toUpperCase()+t.slice(1)),lh=Ju(t=>t?`on${Xu(t)}`:""),Ca=(t,e)=>!Object.is(t,e),vu=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},Ou=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},qh=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let ay;const Kh=()=>ay||(ay=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Yd(t){if(qe(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=fr(n)?P8(n):Yd(n);if(s)for(const a in s)e[a]=s[a]}return e}else{if(fr(t))return t;if(Ot(t))return t}}const _8=/;(?![^(]*\))/g,E8=/:([^]+)/,x8=/\/\*[^]*?\*\//g;function P8(t){const e={};return t.replace(x8,"").split(_8).forEach(r=>{if(r){const n=r.split(E8);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Jd(t){let e="";if(fr(t))e=t;else if(qe(t))for(let r=0;r<t.length;r++){const n=Jd(t[r]);n&&(e+=n+" ")}else if(Ot(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const S8="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",I8=qd(S8);function r1(t){return!!t||t===""}const fo=t=>fr(t)?t:t==null?"":qe(t)||Ot(t)&&(t.toString===e1||!Ye(t.toString))?JSON.stringify(t,n1,2):String(t),n1=(t,e)=>e&&e.__v_isRef?n1(t,e.value):lo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s])=>(r[`${n} =>`]=s,r),{})}:Qb(e)?{[`Set(${e.size})`]:[...e.values()]}:Ot(e)&&!qe(e)&&!t1(e)?String(e):e;let en;class i1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=en,!e&&en&&(this.index=(en.scopes||(en.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=en;try{return en=this,e()}finally{en=r}}}on(){en=this}off(){en=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function s1(t){return new i1(t)}function D8(t,e=en){e&&e.active&&e.effects.push(t)}function o1(){return en}function O8(t){en&&en.cleanups.push(t)}const Xd=t=>{const e=new Set(t);return e.w=0,e.n=0,e},a1=t=>(t.w&Hi)>0,c1=t=>(t.n&Hi)>0,A8=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Hi},C8=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const s=e[n];a1(s)&&!c1(s)?s.delete(t):e[r++]=s,s.w&=~Hi,s.n&=~Hi}e.length=r}},Au=new WeakMap;let _a=0,Hi=1;const Vh=30;let An;const Ps=Symbol(""),Gh=Symbol("");class Qd{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,D8(this,n)}run(){if(!this.active)return this.fn();let e=An,r=Li;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=An,An=this,Li=!0,Hi=1<<++_a,_a<=Vh?A8(this):cy(this),this.fn()}finally{_a<=Vh&&C8(this),Hi=1<<--_a,An=this.parent,Li=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){An===this?this.deferStop=!0:this.active&&(cy(this),this.onStop&&this.onStop(),this.active=!1)}}function cy(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let Li=!0;const u1=[];function Oo(){u1.push(Li),Li=!1}function Ao(){const t=u1.pop();Li=t===void 0?!0:t}function Kr(t,e,r){if(Li&&An){let n=Au.get(t);n||Au.set(t,n=new Map);let s=n.get(r);s||n.set(r,s=Xd()),l1(s)}}function l1(t,e){let r=!1;_a<=Vh?c1(t)||(t.n|=Hi,r=!a1(t)):r=!t.has(An),r&&(t.add(An),An.deps.push(t))}function pi(t,e,r,n,s,a){const c=Au.get(t);if(!c)return;let u=[];if(e==="clear")u=[...c.values()];else if(r==="length"&&qe(t)){const f=Number(n);c.forEach((h,p)=>{(p==="length"||p>=f)&&u.push(h)})}else switch(r!==void 0&&u.push(c.get(r)),e){case"add":qe(t)?Wd(r)&&u.push(c.get("length")):(u.push(c.get(Ps)),lo(t)&&u.push(c.get(Gh)));break;case"delete":qe(t)||(u.push(c.get(Ps)),lo(t)&&u.push(c.get(Gh)));break;case"set":lo(t)&&u.push(c.get(Ps));break}if(u.length===1)u[0]&&Wh(u[0]);else{const f=[];for(const h of u)h&&f.push(...h);Wh(Xd(f))}}function Wh(t,e){const r=qe(t)?t:[...t];for(const n of r)n.computed&&uy(n);for(const n of r)n.computed||uy(n)}function uy(t,e){(t!==An||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function T8(t,e){var r;return(r=Au.get(t))==null?void 0:r.get(e)}const R8=qd("__proto__,__v_isRef,__isVue"),f1=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Gd)),N8=Zd(),$8=Zd(!1,!0),F8=Zd(!0),ly=M8();function M8(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=lt(this);for(let a=0,c=this.length;a<c;a++)Kr(n,"get",a+"");const s=n[e](...r);return s===-1||s===!1?n[e](...r.map(lt)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){Oo();const n=lt(this)[e].apply(this,r);return Ao(),n}}),t}function j8(t){const e=lt(this);return Kr(e,"has",t),e.hasOwnProperty(t)}function Zd(t=!1,e=!1){return function(n,s,a){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&a===(t?e?Z8:y1:e?g1:p1).get(n))return n;const c=qe(n);if(!t){if(c&&ft(ly,s))return Reflect.get(ly,s,a);if(s==="hasOwnProperty")return j8}const u=Reflect.get(n,s,a);return(Gd(s)?f1.has(s):R8(s))||(t||Kr(n,"get",s),e)?u:Mt(u)?c&&Wd(s)?u:u.value:Ot(u)?t?m1(u):Co(u):u}}const L8=h1(),U8=h1(!0);function h1(t=!1){return function(r,n,s,a){let c=r[n];if(wo(c)&&Mt(c)&&!Mt(s))return!1;if(!t&&(!Cu(s)&&!wo(s)&&(c=lt(c),s=lt(s)),!qe(r)&&Mt(c)&&!Mt(s)))return c.value=s,!0;const u=qe(r)&&Wd(n)?Number(n)<r.length:ft(r,n),f=Reflect.set(r,n,s,a);return r===lt(a)&&(u?Ca(s,c)&&pi(r,"set",n,s):pi(r,"add",n,s)),f}}function B8(t,e){const r=ft(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&r&&pi(t,"delete",e,void 0),n}function k8(t,e){const r=Reflect.has(t,e);return(!Gd(e)||!f1.has(e))&&Kr(t,"has",e),r}function H8(t){return Kr(t,"iterate",qe(t)?"length":Ps),Reflect.ownKeys(t)}const d1={get:N8,set:L8,deleteProperty:B8,has:k8,ownKeys:H8},z8={get:F8,set(t,e){return!0},deleteProperty(t,e){return!0}},q8=yr({},d1,{get:$8,set:U8}),ep=t=>t,Qu=t=>Reflect.getPrototypeOf(t);function ou(t,e,r=!1,n=!1){t=t.__v_raw;const s=lt(t),a=lt(e);r||(e!==a&&Kr(s,"get",e),Kr(s,"get",a));const{has:c}=Qu(s),u=n?ep:r?np:Ta;if(c.call(s,e))return u(t.get(e));if(c.call(s,a))return u(t.get(a));t!==s&&t.get(e)}function au(t,e=!1){const r=this.__v_raw,n=lt(r),s=lt(t);return e||(t!==s&&Kr(n,"has",t),Kr(n,"has",s)),t===s?r.has(t):r.has(t)||r.has(s)}function cu(t,e=!1){return t=t.__v_raw,!e&&Kr(lt(t),"iterate",Ps),Reflect.get(t,"size",t)}function fy(t){t=lt(t);const e=lt(this);return Qu(e).has.call(e,t)||(e.add(t),pi(e,"add",t,t)),this}function hy(t,e){e=lt(e);const r=lt(this),{has:n,get:s}=Qu(r);let a=n.call(r,t);a||(t=lt(t),a=n.call(r,t));const c=s.call(r,t);return r.set(t,e),a?Ca(e,c)&&pi(r,"set",t,e):pi(r,"add",t,e),this}function dy(t){const e=lt(this),{has:r,get:n}=Qu(e);let s=r.call(e,t);s||(t=lt(t),s=r.call(e,t)),n&&n.call(e,t);const a=e.delete(t);return s&&pi(e,"delete",t,void 0),a}function py(){const t=lt(this),e=t.size!==0,r=t.clear();return e&&pi(t,"clear",void 0,void 0),r}function uu(t,e){return function(n,s){const a=this,c=a.__v_raw,u=lt(c),f=e?ep:t?np:Ta;return!t&&Kr(u,"iterate",Ps),c.forEach((h,p)=>n.call(s,f(h),f(p),a))}}function lu(t,e,r){return function(...n){const s=this.__v_raw,a=lt(s),c=lo(a),u=t==="entries"||t===Symbol.iterator&&c,f=t==="keys"&&c,h=s[t](...n),p=r?ep:e?np:Ta;return!e&&Kr(a,"iterate",f?Gh:Ps),{next(){const{value:m,done:b}=h.next();return b?{value:m,done:b}:{value:u?[p(m[0]),p(m[1])]:p(m),done:b}},[Symbol.iterator](){return this}}}}function Ci(t){return function(...e){return t==="delete"?!1:this}}function K8(){const t={get(a){return ou(this,a)},get size(){return cu(this)},has:au,add:fy,set:hy,delete:dy,clear:py,forEach:uu(!1,!1)},e={get(a){return ou(this,a,!1,!0)},get size(){return cu(this)},has:au,add:fy,set:hy,delete:dy,clear:py,forEach:uu(!1,!0)},r={get(a){return ou(this,a,!0)},get size(){return cu(this,!0)},has(a){return au.call(this,a,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:uu(!0,!1)},n={get(a){return ou(this,a,!0,!0)},get size(){return cu(this,!0)},has(a){return au.call(this,a,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:uu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{t[a]=lu(a,!1,!1),r[a]=lu(a,!0,!1),e[a]=lu(a,!1,!0),n[a]=lu(a,!0,!0)}),[t,r,e,n]}const[V8,G8,W8,Y8]=K8();function tp(t,e){const r=e?t?Y8:W8:t?G8:V8;return(n,s,a)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(ft(r,s)&&s in n?r:n,s,a)}const J8={get:tp(!1,!1)},X8={get:tp(!1,!0)},Q8={get:tp(!0,!1)},p1=new WeakMap,g1=new WeakMap,y1=new WeakMap,Z8=new WeakMap;function eP(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tP(t){return t.__v_skip||!Object.isExtensible(t)?0:eP(b8(t))}function Co(t){return wo(t)?t:rp(t,!1,d1,J8,p1)}function rP(t){return rp(t,!1,q8,X8,g1)}function m1(t){return rp(t,!0,z8,Q8,y1)}function rp(t,e,r,n,s){if(!Ot(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=s.get(t);if(a)return a;const c=tP(t);if(c===0)return t;const u=new Proxy(t,c===2?n:r);return s.set(t,u),u}function di(t){return wo(t)?di(t.__v_raw):!!(t&&t.__v_isReactive)}function wo(t){return!!(t&&t.__v_isReadonly)}function Cu(t){return!!(t&&t.__v_isShallow)}function b1(t){return di(t)||wo(t)}function lt(t){const e=t&&t.__v_raw;return e?lt(e):t}function Zu(t){return Ou(t,"__v_skip",!0),t}const Ta=t=>Ot(t)?Co(t):t,np=t=>Ot(t)?m1(t):t;function v1(t){Li&&An&&(t=lt(t),l1(t.dep||(t.dep=Xd())))}function w1(t,e){t=lt(t);const r=t.dep;r&&Wh(r)}function Mt(t){return!!(t&&t.__v_isRef===!0)}function Wt(t){return _1(t,!1)}function nP(t){return _1(t,!0)}function _1(t,e){return Mt(t)?t:new iP(t,e)}class iP{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:lt(e),this._value=r?e:Ta(e)}get value(){return v1(this),this._value}set value(e){const r=this.__v_isShallow||Cu(e)||wo(e);e=r?e:lt(e),Ca(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:Ta(e),w1(this))}}function st(t){return Mt(t)?t.value:t}const sP={get:(t,e,r)=>st(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return Mt(s)&&!Mt(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function E1(t){return di(t)?t:new Proxy(t,sP)}function oP(t){const e=qe(t)?new Array(t.length):{};for(const r in t)e[r]=x1(t,r);return e}class aP{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return T8(lt(this._object),this._key)}}class cP{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function uP(t,e,r){return Mt(t)?t:Ye(t)?new cP(t):Ot(t)&&arguments.length>1?x1(t,e,r):Wt(t)}function x1(t,e,r){const n=t[e];return Mt(n)?n:new aP(t,e,r)}class lP{constructor(e,r,n,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Qd(e,()=>{this._dirty||(this._dirty=!0,w1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const e=lt(this);return v1(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function fP(t,e,r=!1){let n,s;const a=Ye(t);return a?(n=t,s=Tn):(n=t.get,s=t.set),new lP(n,s,a||!s,r)}function Ui(t,e,r,n){let s;try{s=n?t(...n):t()}catch(a){el(a,e,r)}return s}function Rn(t,e,r,n){if(Ye(t)){const a=Ui(t,e,r,n);return a&&Zb(a)&&a.catch(c=>{el(c,e,r)}),a}const s=[];for(let a=0;a<t.length;a++)s.push(Rn(t[a],e,r,n));return s}function el(t,e,r,n=!0){const s=e?e.vnode:null;if(e){let a=e.parent;const c=e.proxy,u=r;for(;a;){const h=a.ec;if(h){for(let p=0;p<h.length;p++)if(h[p](t,c,u)===!1)return}a=a.parent}const f=e.appContext.config.errorHandler;if(f){Ui(f,null,10,[t,c,u]);return}}hP(t,r,s,n)}function hP(t,e,r,n=!0){console.error(t)}let Ra=!1,Yh=!1;const Sr=[];let Wn=0;const ho=[];let fi=null,vs=0;const P1=Promise.resolve();let ip=null;function sp(t){const e=ip||P1;return t?e.then(this?t.bind(this):t):e}function dP(t){let e=Wn+1,r=Sr.length;for(;e<r;){const n=e+r>>>1;Na(Sr[n])<t?e=n+1:r=n}return e}function op(t){(!Sr.length||!Sr.includes(t,Ra&&t.allowRecurse?Wn+1:Wn))&&(t.id==null?Sr.push(t):Sr.splice(dP(t.id),0,t),S1())}function S1(){!Ra&&!Yh&&(Yh=!0,ip=P1.then(D1))}function pP(t){const e=Sr.indexOf(t);e>Wn&&Sr.splice(e,1)}function gP(t){qe(t)?ho.push(...t):(!fi||!fi.includes(t,t.allowRecurse?vs+1:vs))&&ho.push(t),S1()}function gy(t,e=Ra?Wn+1:0){for(;e<Sr.length;e++){const r=Sr[e];r&&r.pre&&(Sr.splice(e,1),e--,r())}}function I1(t){if(ho.length){const e=[...new Set(ho)];if(ho.length=0,fi){fi.push(...e);return}for(fi=e,fi.sort((r,n)=>Na(r)-Na(n)),vs=0;vs<fi.length;vs++)fi[vs]();fi=null,vs=0}}const Na=t=>t.id==null?1/0:t.id,yP=(t,e)=>{const r=Na(t)-Na(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function D1(t){Yh=!1,Ra=!0,Sr.sort(yP);const e=Tn;try{for(Wn=0;Wn<Sr.length;Wn++){const r=Sr[Wn];r&&r.active!==!1&&Ui(r,null,14)}}finally{Wn=0,Sr.length=0,I1(),Ra=!1,ip=null,(Sr.length||ho.length)&&D1()}}function mP(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Dt;let s=r;const a=e.startsWith("update:"),c=a&&e.slice(7);if(c&&c in n){const p=`${c==="modelValue"?"model":c}Modifiers`,{number:m,trim:b}=n[p]||Dt;b&&(s=r.map(_=>fr(_)?_.trim():_)),m&&(s=r.map(qh))}let u,f=n[u=lh(e)]||n[u=lh(Yn(e))];!f&&a&&(f=n[u=lh(Do(e))]),f&&Rn(f,t,6,s);const h=n[u+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[u])return;t.emitted[u]=!0,Rn(h,t,6,s)}}function O1(t,e,r=!1){const n=e.emitsCache,s=n.get(t);if(s!==void 0)return s;const a=t.emits;let c={},u=!1;if(!Ye(t)){const f=h=>{const p=O1(h,e,!0);p&&(u=!0,yr(c,p))};!r&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!a&&!u?(Ot(t)&&n.set(t,null),null):(qe(a)?a.forEach(f=>c[f]=null):yr(c,a),Ot(t)&&n.set(t,c),c)}function tl(t,e){return!t||!Wu(e)?!1:(e=e.slice(2).replace(/Once$/,""),ft(t,e[0].toLowerCase()+e.slice(1))||ft(t,Do(e))||ft(t,e))}let rn=null,A1=null;function Tu(t){const e=rn;return rn=t,A1=t&&t.type.__scopeId||null,e}function bs(t,e=rn,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&Dy(-1);const a=Tu(e);let c;try{c=t(...s)}finally{Tu(a),n._d&&Dy(1)}return c};return n._n=!0,n._c=!0,n._d=!0,n}function fh(t){const{type:e,vnode:r,proxy:n,withProxy:s,props:a,propsOptions:[c],slots:u,attrs:f,emit:h,render:p,renderCache:m,data:b,setupState:_,ctx:x,inheritAttrs:N}=t;let M,z;const C=Tu(t);try{if(r.shapeFlag&4){const D=s||n;M=Gn(p.call(D,D,m,a,_,b,x)),z=f}else{const D=e;M=Gn(D.length>1?D(a,{attrs:f,slots:u,emit:h}):D(a,null)),z=e.props?f:bP(f)}}catch(D){Pa.length=0,el(D,t,1),M=Yt(Is)}let L=M;if(z&&N!==!1){const D=Object.keys(z),{shapeFlag:T}=L;D.length&&T&7&&(c&&D.some(Kd)&&(z=vP(z,c)),L=_o(L,z))}return r.dirs&&(L=_o(L),L.dirs=L.dirs?L.dirs.concat(r.dirs):r.dirs),r.transition&&(L.transition=r.transition),M=L,Tu(C),M}const bP=t=>{let e;for(const r in t)(r==="class"||r==="style"||Wu(r))&&((e||(e={}))[r]=t[r]);return e},vP=(t,e)=>{const r={};for(const n in t)(!Kd(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function wP(t,e,r){const{props:n,children:s,component:a}=t,{props:c,children:u,patchFlag:f}=e,h=a.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&f>=0){if(f&1024)return!0;if(f&16)return n?yy(n,c,h):!!c;if(f&8){const p=e.dynamicProps;for(let m=0;m<p.length;m++){const b=p[m];if(c[b]!==n[b]&&!tl(h,b))return!0}}}else return(s||u)&&(!u||!u.$stable)?!0:n===c?!1:n?c?yy(n,c,h):!0:!!c;return!1}function yy(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const a=n[s];if(e[a]!==t[a]&&!tl(r,a))return!0}return!1}function _P({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const EP=t=>t.__isSuspense;function xP(t,e){e&&e.pendingBranch?qe(t)?e.effects.push(...t):e.effects.push(t):gP(t)}function PP(t,e){return ap(t,null,e)}const fu={};function Bi(t,e,r){return ap(t,e,r)}function ap(t,e,{immediate:r,deep:n,flush:s,onTrack:a,onTrigger:c}=Dt){var u;const f=o1()===((u=pr)==null?void 0:u.scope)?pr:null;let h,p=!1,m=!1;if(Mt(t)?(h=()=>t.value,p=Cu(t)):di(t)?(h=()=>t,n=!0):qe(t)?(m=!0,p=t.some(D=>di(D)||Cu(D)),h=()=>t.map(D=>{if(Mt(D))return D.value;if(di(D))return _s(D);if(Ye(D))return Ui(D,f,2)})):Ye(t)?e?h=()=>Ui(t,f,2):h=()=>{if(!(f&&f.isUnmounted))return b&&b(),Rn(t,f,3,[_])}:h=Tn,e&&n){const D=h;h=()=>_s(D())}let b,_=D=>{b=C.onStop=()=>{Ui(D,f,4)}},x;if(Ma)if(_=Tn,e?r&&Rn(e,f,3,[h(),m?[]:void 0,_]):h(),s==="sync"){const D=wS();x=D.__watcherHandles||(D.__watcherHandles=[])}else return Tn;let N=m?new Array(t.length).fill(fu):fu;const M=()=>{if(C.active)if(e){const D=C.run();(n||p||(m?D.some((T,P)=>Ca(T,N[P])):Ca(D,N)))&&(b&&b(),Rn(e,f,3,[D,N===fu?void 0:m&&N[0]===fu?[]:N,_]),N=D)}else C.run()};M.allowRecurse=!!e;let z;s==="sync"?z=M:s==="post"?z=()=>Hr(M,f&&f.suspense):(M.pre=!0,f&&(M.id=f.uid),z=()=>op(M));const C=new Qd(h,z);e?r?M():N=C.run():s==="post"?Hr(C.run.bind(C),f&&f.suspense):C.run();const L=()=>{C.stop(),f&&f.scope&&Vd(f.scope.effects,C)};return x&&x.push(L),L}function SP(t,e,r){const n=this.proxy,s=fr(t)?t.includes(".")?C1(n,t):()=>n[t]:t.bind(n,n);let a;Ye(e)?a=e:(a=e.handler,r=e);const c=pr;Eo(this);const u=ap(s,a.bind(n),r);return c?Eo(c):Ss(),u}function C1(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function _s(t,e){if(!Ot(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Mt(t))_s(t.value,e);else if(qe(t))for(let r=0;r<t.length;r++)_s(t[r],e);else if(Qb(t)||lo(t))t.forEach(r=>{_s(r,e)});else if(t1(t))for(const r in t)_s(t[r],e);return t}function IP(t,e){const r=rn;if(r===null)return t;const n=ol(r)||r.proxy,s=t.dirs||(t.dirs=[]);for(let a=0;a<e.length;a++){let[c,u,f,h=Dt]=e[a];c&&(Ye(c)&&(c={mounted:c,updated:c}),c.deep&&_s(u),s.push({dir:c,instance:n,value:u,oldValue:void 0,arg:f,modifiers:h}))}return t}function hs(t,e,r,n){const s=t.dirs,a=e&&e.dirs;for(let c=0;c<s.length;c++){const u=s[c];a&&(u.oldValue=a[c].value);let f=u.dir[n];f&&(Oo(),Rn(f,r,8,[t.el,u,t,e]),Ao())}}function T1(t,e){return Ye(t)?(()=>yr({name:t.name},e,{setup:t}))():t}const wu=t=>!!t.type.__asyncLoader,R1=t=>t.type.__isKeepAlive;function DP(t,e){N1(t,"a",e)}function OP(t,e){N1(t,"da",e)}function N1(t,e,r=pr){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(rl(e,n,r),r){let s=r.parent;for(;s&&s.parent;)R1(s.parent.vnode)&&AP(n,e,r,s),s=s.parent}}function AP(t,e,r,n){const s=rl(e,t,n,!0);$1(()=>{Vd(n[e],s)},r)}function rl(t,e,r=pr,n=!1){if(r){const s=r[t]||(r[t]=[]),a=e.__weh||(e.__weh=(...c)=>{if(r.isUnmounted)return;Oo(),Eo(r);const u=Rn(e,r,t,c);return Ss(),Ao(),u});return n?s.unshift(a):s.push(a),a}}const mi=t=>(e,r=pr)=>(!Ma||t==="sp")&&rl(t,(...n)=>e(...n),r),CP=mi("bm"),nl=mi("m"),TP=mi("bu"),RP=mi("u"),NP=mi("bum"),$1=mi("um"),$P=mi("sp"),FP=mi("rtg"),MP=mi("rtc");function jP(t,e=pr){rl("ec",t,e)}const F1="components";function my(t,e){return UP(F1,t,!0,e)||t}const LP=Symbol.for("v-ndc");function UP(t,e,r=!0,n=!1){const s=rn||pr;if(s){const a=s.type;if(t===F1){const u=mS(a,!1);if(u&&(u===e||u===Yn(e)||u===Xu(Yn(e))))return a}const c=by(s[t]||a[t],e)||by(s.appContext[t],e);return!c&&n?a:c}}function by(t,e){return t&&(t[e]||t[Yn(e)]||t[Xu(Yn(e))])}function BP(t,e,r,n){let s;const a=r&&r[n];if(qe(t)||fr(t)){s=new Array(t.length);for(let c=0,u=t.length;c<u;c++)s[c]=e(t[c],c,void 0,a&&a[c])}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=e(c+1,c,void 0,a&&a[c])}else if(Ot(t))if(t[Symbol.iterator])s=Array.from(t,(c,u)=>e(c,u,void 0,a&&a[u]));else{const c=Object.keys(t);s=new Array(c.length);for(let u=0,f=c.length;u<f;u++){const h=c[u];s[u]=e(t[h],h,u,a&&a[u])}}else s=[];return r&&(r[n]=s),s}const Jh=t=>t?V1(t)?ol(t)||t.proxy:Jh(t.parent):null,xa=yr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Jh(t.parent),$root:t=>Jh(t.root),$emit:t=>t.emit,$options:t=>cp(t),$forceUpdate:t=>t.f||(t.f=()=>op(t.update)),$nextTick:t=>t.n||(t.n=sp.bind(t.proxy)),$watch:t=>SP.bind(t)}),hh=(t,e)=>t!==Dt&&!t.__isScriptSetup&&ft(t,e),kP={get({_:t},e){const{ctx:r,setupState:n,data:s,props:a,accessCache:c,type:u,appContext:f}=t;let h;if(e[0]!=="$"){const _=c[e];if(_!==void 0)switch(_){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return a[e]}else{if(hh(n,e))return c[e]=1,n[e];if(s!==Dt&&ft(s,e))return c[e]=2,s[e];if((h=t.propsOptions[0])&&ft(h,e))return c[e]=3,a[e];if(r!==Dt&&ft(r,e))return c[e]=4,r[e];Xh&&(c[e]=0)}}const p=xa[e];let m,b;if(p)return e==="$attrs"&&Kr(t,"get",e),p(t);if((m=u.__cssModules)&&(m=m[e]))return m;if(r!==Dt&&ft(r,e))return c[e]=4,r[e];if(b=f.config.globalProperties,ft(b,e))return b[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:a}=t;return hh(s,e)?(s[e]=r,!0):n!==Dt&&ft(n,e)?(n[e]=r,!0):ft(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,propsOptions:a}},c){let u;return!!r[c]||t!==Dt&&ft(t,c)||hh(e,c)||(u=a[0])&&ft(u,c)||ft(n,c)||ft(xa,c)||ft(s.config.globalProperties,c)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:ft(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function vy(t){return qe(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Xh=!0;function HP(t){const e=cp(t),r=t.proxy,n=t.ctx;Xh=!1,e.beforeCreate&&wy(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:c,watch:u,provide:f,inject:h,created:p,beforeMount:m,mounted:b,beforeUpdate:_,updated:x,activated:N,deactivated:M,beforeDestroy:z,beforeUnmount:C,destroyed:L,unmounted:D,render:T,renderTracked:P,renderTriggered:d,errorCaptured:w,serverPrefetch:Z,expose:B,inheritAttrs:V,components:ee,directives:ae,filters:E}=e;if(h&&zP(h,n,null),c)for(const te in c){const Q=c[te];Ye(Q)&&(n[te]=Q.bind(r))}if(s){const te=s.call(r,r);Ot(te)&&(t.data=Co(te))}if(Xh=!0,a)for(const te in a){const Q=a[te],J=Ye(Q)?Q.bind(r,r):Ye(Q.get)?Q.get.bind(r,r):Tn,ie=!Ye(Q)&&Ye(Q.set)?Q.set.bind(r):Tn,ue=tn({get:J,set:ie});Object.defineProperty(n,te,{enumerable:!0,configurable:!0,get:()=>ue.value,set:xe=>ue.value=xe})}if(u)for(const te in u)M1(u[te],n,r,te);if(f){const te=Ye(f)?f.call(r):f;Reflect.ownKeys(te).forEach(Q=>{_u(Q,te[Q])})}p&&wy(p,t,"c");function Y(te,Q){qe(Q)?Q.forEach(J=>te(J.bind(r))):Q&&te(Q.bind(r))}if(Y(CP,m),Y(nl,b),Y(TP,_),Y(RP,x),Y(DP,N),Y(OP,M),Y(jP,w),Y(MP,P),Y(FP,d),Y(NP,C),Y($1,D),Y($P,Z),qe(B))if(B.length){const te=t.exposed||(t.exposed={});B.forEach(Q=>{Object.defineProperty(te,Q,{get:()=>r[Q],set:J=>r[Q]=J})})}else t.exposed||(t.exposed={});T&&t.render===Tn&&(t.render=T),V!=null&&(t.inheritAttrs=V),ee&&(t.components=ee),ae&&(t.directives=ae)}function zP(t,e,r=Tn){qe(t)&&(t=Qh(t));for(const n in t){const s=t[n];let a;Ot(s)?"default"in s?a=vn(s.from||n,s.default,!0):a=vn(s.from||n):a=vn(s),Mt(a)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):e[n]=a}}function wy(t,e,r){Rn(qe(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function M1(t,e,r,n){const s=n.includes(".")?C1(r,n):()=>r[n];if(fr(t)){const a=e[t];Ye(a)&&Bi(s,a)}else if(Ye(t))Bi(s,t.bind(r));else if(Ot(t))if(qe(t))t.forEach(a=>M1(a,e,r,n));else{const a=Ye(t.handler)?t.handler.bind(r):e[t.handler];Ye(a)&&Bi(s,a,t)}}function cp(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:a,config:{optionMergeStrategies:c}}=t.appContext,u=a.get(e);let f;return u?f=u:!s.length&&!r&&!n?f=e:(f={},s.length&&s.forEach(h=>Ru(f,h,c,!0)),Ru(f,e,c)),Ot(e)&&a.set(e,f),f}function Ru(t,e,r,n=!1){const{mixins:s,extends:a}=e;a&&Ru(t,a,r,!0),s&&s.forEach(c=>Ru(t,c,r,!0));for(const c in e)if(!(n&&c==="expose")){const u=qP[c]||r&&r[c];t[c]=u?u(t[c],e[c]):e[c]}return t}const qP={data:_y,props:Ey,emits:Ey,methods:Ea,computed:Ea,beforeCreate:Rr,created:Rr,beforeMount:Rr,mounted:Rr,beforeUpdate:Rr,updated:Rr,beforeDestroy:Rr,beforeUnmount:Rr,destroyed:Rr,unmounted:Rr,activated:Rr,deactivated:Rr,errorCaptured:Rr,serverPrefetch:Rr,components:Ea,directives:Ea,watch:VP,provide:_y,inject:KP};function _y(t,e){return e?t?function(){return yr(Ye(t)?t.call(this,this):t,Ye(e)?e.call(this,this):e)}:e:t}function KP(t,e){return Ea(Qh(t),Qh(e))}function Qh(t){if(qe(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Rr(t,e){return t?[...new Set([].concat(t,e))]:e}function Ea(t,e){return t?yr(Object.create(null),t,e):e}function Ey(t,e){return t?qe(t)&&qe(e)?[...new Set([...t,...e])]:yr(Object.create(null),vy(t),vy(e??{})):e}function VP(t,e){if(!t)return e;if(!e)return t;const r=yr(Object.create(null),t);for(const n in e)r[n]=Rr(t[n],e[n]);return r}function j1(){return{app:null,config:{isNativeTag:g8,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let GP=0;function WP(t,e){return function(n,s=null){Ye(n)||(n=yr({},n)),s!=null&&!Ot(s)&&(s=null);const a=j1(),c=new Set;let u=!1;const f=a.app={_uid:GP++,_component:n,_props:s,_container:null,_context:a,_instance:null,version:_S,get config(){return a.config},set config(h){},use(h,...p){return c.has(h)||(h&&Ye(h.install)?(c.add(h),h.install(f,...p)):Ye(h)&&(c.add(h),h(f,...p))),f},mixin(h){return a.mixins.includes(h)||a.mixins.push(h),f},component(h,p){return p?(a.components[h]=p,f):a.components[h]},directive(h,p){return p?(a.directives[h]=p,f):a.directives[h]},mount(h,p,m){if(!u){const b=Yt(n,s);return b.appContext=a,p&&e?e(b,h):t(b,h,m),u=!0,f._container=h,h.__vue_app__=f,ol(b.component)||b.component.proxy}},unmount(){u&&(t(null,f._container),delete f._container.__vue_app__)},provide(h,p){return a.provides[h]=p,f},runWithContext(h){$a=f;try{return h()}finally{$a=null}}};return f}}let $a=null;function _u(t,e){if(pr){let r=pr.provides;const n=pr.parent&&pr.parent.provides;n===r&&(r=pr.provides=Object.create(n)),r[t]=e}}function vn(t,e,r=!1){const n=pr||rn;if(n||$a){const s=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:$a._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return r&&Ye(e)?e.call(n&&n.proxy):e}}function YP(){return!!(pr||rn||$a)}function JP(t,e,r,n=!1){const s={},a={};Ou(a,sl,1),t.propsDefaults=Object.create(null),L1(t,e,s,a);for(const c in t.propsOptions[0])c in s||(s[c]=void 0);r?t.props=n?s:rP(s):t.type.props?t.props=s:t.props=a,t.attrs=a}function XP(t,e,r,n){const{props:s,attrs:a,vnode:{patchFlag:c}}=t,u=lt(s),[f]=t.propsOptions;let h=!1;if((n||c>0)&&!(c&16)){if(c&8){const p=t.vnode.dynamicProps;for(let m=0;m<p.length;m++){let b=p[m];if(tl(t.emitsOptions,b))continue;const _=e[b];if(f)if(ft(a,b))_!==a[b]&&(a[b]=_,h=!0);else{const x=Yn(b);s[x]=Zh(f,u,x,_,t,!1)}else _!==a[b]&&(a[b]=_,h=!0)}}}else{L1(t,e,s,a)&&(h=!0);let p;for(const m in u)(!e||!ft(e,m)&&((p=Do(m))===m||!ft(e,p)))&&(f?r&&(r[m]!==void 0||r[p]!==void 0)&&(s[m]=Zh(f,u,m,void 0,t,!0)):delete s[m]);if(a!==u)for(const m in a)(!e||!ft(e,m))&&(delete a[m],h=!0)}h&&pi(t,"set","$attrs")}function L1(t,e,r,n){const[s,a]=t.propsOptions;let c=!1,u;if(e)for(let f in e){if(bu(f))continue;const h=e[f];let p;s&&ft(s,p=Yn(f))?!a||!a.includes(p)?r[p]=h:(u||(u={}))[p]=h:tl(t.emitsOptions,f)||(!(f in n)||h!==n[f])&&(n[f]=h,c=!0)}if(a){const f=lt(r),h=u||Dt;for(let p=0;p<a.length;p++){const m=a[p];r[m]=Zh(s,f,m,h[m],t,!ft(h,m))}}return c}function Zh(t,e,r,n,s,a){const c=t[r];if(c!=null){const u=ft(c,"default");if(u&&n===void 0){const f=c.default;if(c.type!==Function&&!c.skipFactory&&Ye(f)){const{propsDefaults:h}=s;r in h?n=h[r]:(Eo(s),n=h[r]=f.call(null,e),Ss())}else n=f}c[0]&&(a&&!u?n=!1:c[1]&&(n===""||n===Do(r))&&(n=!0))}return n}function U1(t,e,r=!1){const n=e.propsCache,s=n.get(t);if(s)return s;const a=t.props,c={},u=[];let f=!1;if(!Ye(t)){const p=m=>{f=!0;const[b,_]=U1(m,e,!0);yr(c,b),_&&u.push(..._)};!r&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!a&&!f)return Ot(t)&&n.set(t,uo),uo;if(qe(a))for(let p=0;p<a.length;p++){const m=Yn(a[p]);xy(m)&&(c[m]=Dt)}else if(a)for(const p in a){const m=Yn(p);if(xy(m)){const b=a[p],_=c[m]=qe(b)||Ye(b)?{type:b}:yr({},b);if(_){const x=Iy(Boolean,_.type),N=Iy(String,_.type);_[0]=x>-1,_[1]=N<0||x<N,(x>-1||ft(_,"default"))&&u.push(m)}}}const h=[c,u];return Ot(t)&&n.set(t,h),h}function xy(t){return t[0]!=="$"}function Py(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Sy(t,e){return Py(t)===Py(e)}function Iy(t,e){return qe(e)?e.findIndex(r=>Sy(r,t)):Ye(e)&&Sy(e,t)?0:-1}const B1=t=>t[0]==="_"||t==="$stable",up=t=>qe(t)?t.map(Gn):[Gn(t)],QP=(t,e,r)=>{if(e._n)return e;const n=bs((...s)=>up(e(...s)),r);return n._c=!1,n},k1=(t,e,r)=>{const n=t._ctx;for(const s in t){if(B1(s))continue;const a=t[s];if(Ye(a))e[s]=QP(s,a,n);else if(a!=null){const c=up(a);e[s]=()=>c}}},H1=(t,e)=>{const r=up(e);t.slots.default=()=>r},ZP=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=lt(e),Ou(e,"_",r)):k1(e,t.slots={})}else t.slots={},e&&H1(t,e);Ou(t.slots,sl,1)},eS=(t,e,r)=>{const{vnode:n,slots:s}=t;let a=!0,c=Dt;if(n.shapeFlag&32){const u=e._;u?r&&u===1?a=!1:(yr(s,e),!r&&u===1&&delete s._):(a=!e.$stable,k1(e,s)),c=e}else e&&(H1(t,e),c={default:1});if(a)for(const u in s)!B1(u)&&!(u in c)&&delete s[u]};function ed(t,e,r,n,s=!1){if(qe(t)){t.forEach((b,_)=>ed(b,e&&(qe(e)?e[_]:e),r,n,s));return}if(wu(n)&&!s)return;const a=n.shapeFlag&4?ol(n.component)||n.component.proxy:n.el,c=s?null:a,{i:u,r:f}=t,h=e&&e.r,p=u.refs===Dt?u.refs={}:u.refs,m=u.setupState;if(h!=null&&h!==f&&(fr(h)?(p[h]=null,ft(m,h)&&(m[h]=null)):Mt(h)&&(h.value=null)),Ye(f))Ui(f,u,12,[c,p]);else{const b=fr(f),_=Mt(f);if(b||_){const x=()=>{if(t.f){const N=b?ft(m,f)?m[f]:p[f]:f.value;s?qe(N)&&Vd(N,a):qe(N)?N.includes(a)||N.push(a):b?(p[f]=[a],ft(m,f)&&(m[f]=p[f])):(f.value=[a],t.k&&(p[t.k]=f.value))}else b?(p[f]=c,ft(m,f)&&(m[f]=c)):_&&(f.value=c,t.k&&(p[t.k]=c))};c?(x.id=-1,Hr(x,r)):x()}}}const Hr=xP;function tS(t){return rS(t)}function rS(t,e){const r=Kh();r.__VUE__=!0;const{insert:n,remove:s,patchProp:a,createElement:c,createText:u,createComment:f,setText:h,setElementText:p,parentNode:m,nextSibling:b,setScopeId:_=Tn,insertStaticContent:x}=t,N=(I,R,q,re=null,ne=null,ce=null,we=!1,pe=null,fe=!!R.dynamicChildren)=>{if(I===R)return;I&&!sa(I,R)&&(re=$(I),xe(I,ne,ce,!0),I=null),R.patchFlag===-2&&(fe=!1,R.dynamicChildren=null);const{type:se,ref:ve,shapeFlag:me}=R;switch(se){case il:M(I,R,q,re);break;case Is:z(I,R,q,re);break;case Eu:I==null&&C(R,q,re,we);break;case Vn:ee(I,R,q,re,ne,ce,we,pe,fe);break;default:me&1?T(I,R,q,re,ne,ce,we,pe,fe):me&6?ae(I,R,q,re,ne,ce,we,pe,fe):(me&64||me&128)&&se.process(I,R,q,re,ne,ce,we,pe,fe,j)}ve!=null&&ne&&ed(ve,I&&I.ref,ce,R||I,!R)},M=(I,R,q,re)=>{if(I==null)n(R.el=u(R.children),q,re);else{const ne=R.el=I.el;R.children!==I.children&&h(ne,R.children)}},z=(I,R,q,re)=>{I==null?n(R.el=f(R.children||""),q,re):R.el=I.el},C=(I,R,q,re)=>{[I.el,I.anchor]=x(I.children,R,q,re,I.el,I.anchor)},L=({el:I,anchor:R},q,re)=>{let ne;for(;I&&I!==R;)ne=b(I),n(I,q,re),I=ne;n(R,q,re)},D=({el:I,anchor:R})=>{let q;for(;I&&I!==R;)q=b(I),s(I),I=q;s(R)},T=(I,R,q,re,ne,ce,we,pe,fe)=>{we=we||R.type==="svg",I==null?P(R,q,re,ne,ce,we,pe,fe):Z(I,R,ne,ce,we,pe,fe)},P=(I,R,q,re,ne,ce,we,pe)=>{let fe,se;const{type:ve,props:me,shapeFlag:_e,transition:Ee,dirs:Se}=I;if(fe=I.el=c(I.type,ce,me&&me.is,me),_e&8?p(fe,I.children):_e&16&&w(I.children,fe,null,re,ne,ce&&ve!=="foreignObject",we,pe),Se&&hs(I,null,re,"created"),d(fe,I,I.scopeId,we,re),me){for(const Ae in me)Ae!=="value"&&!bu(Ae)&&a(fe,Ae,null,me[Ae],ce,I.children,re,ne,Re);"value"in me&&a(fe,"value",null,me.value),(se=me.onVnodeBeforeMount)&&kn(se,re,I)}Se&&hs(I,null,re,"beforeMount");const Ie=(!ne||ne&&!ne.pendingBranch)&&Ee&&!Ee.persisted;Ie&&Ee.beforeEnter(fe),n(fe,R,q),((se=me&&me.onVnodeMounted)||Ie||Se)&&Hr(()=>{se&&kn(se,re,I),Ie&&Ee.enter(fe),Se&&hs(I,null,re,"mounted")},ne)},d=(I,R,q,re,ne)=>{if(q&&_(I,q),re)for(let ce=0;ce<re.length;ce++)_(I,re[ce]);if(ne){let ce=ne.subTree;if(R===ce){const we=ne.vnode;d(I,we,we.scopeId,we.slotScopeIds,ne.parent)}}},w=(I,R,q,re,ne,ce,we,pe,fe=0)=>{for(let se=fe;se<I.length;se++){const ve=I[se]=pe?$i(I[se]):Gn(I[se]);N(null,ve,R,q,re,ne,ce,we,pe)}},Z=(I,R,q,re,ne,ce,we)=>{const pe=R.el=I.el;let{patchFlag:fe,dynamicChildren:se,dirs:ve}=R;fe|=I.patchFlag&16;const me=I.props||Dt,_e=R.props||Dt;let Ee;q&&ds(q,!1),(Ee=_e.onVnodeBeforeUpdate)&&kn(Ee,q,R,I),ve&&hs(R,I,q,"beforeUpdate"),q&&ds(q,!0);const Se=ne&&R.type!=="foreignObject";if(se?B(I.dynamicChildren,se,pe,q,re,Se,ce):we||Q(I,R,pe,null,q,re,Se,ce,!1),fe>0){if(fe&16)V(pe,R,me,_e,q,re,ne);else if(fe&2&&me.class!==_e.class&&a(pe,"class",null,_e.class,ne),fe&4&&a(pe,"style",me.style,_e.style,ne),fe&8){const Ie=R.dynamicProps;for(let Ae=0;Ae<Ie.length;Ae++){const Me=Ie[Ae],Le=me[Me],Ke=_e[Me];(Ke!==Le||Me==="value")&&a(pe,Me,Le,Ke,ne,I.children,q,re,Re)}}fe&1&&I.children!==R.children&&p(pe,R.children)}else!we&&se==null&&V(pe,R,me,_e,q,re,ne);((Ee=_e.onVnodeUpdated)||ve)&&Hr(()=>{Ee&&kn(Ee,q,R,I),ve&&hs(R,I,q,"updated")},re)},B=(I,R,q,re,ne,ce,we)=>{for(let pe=0;pe<R.length;pe++){const fe=I[pe],se=R[pe],ve=fe.el&&(fe.type===Vn||!sa(fe,se)||fe.shapeFlag&70)?m(fe.el):q;N(fe,se,ve,null,re,ne,ce,we,!0)}},V=(I,R,q,re,ne,ce,we)=>{if(q!==re){if(q!==Dt)for(const pe in q)!bu(pe)&&!(pe in re)&&a(I,pe,q[pe],null,we,R.children,ne,ce,Re);for(const pe in re){if(bu(pe))continue;const fe=re[pe],se=q[pe];fe!==se&&pe!=="value"&&a(I,pe,se,fe,we,R.children,ne,ce,Re)}"value"in re&&a(I,"value",q.value,re.value)}},ee=(I,R,q,re,ne,ce,we,pe,fe)=>{const se=R.el=I?I.el:u(""),ve=R.anchor=I?I.anchor:u("");let{patchFlag:me,dynamicChildren:_e,slotScopeIds:Ee}=R;Ee&&(pe=pe?pe.concat(Ee):Ee),I==null?(n(se,q,re),n(ve,q,re),w(R.children,q,ve,ne,ce,we,pe,fe)):me>0&&me&64&&_e&&I.dynamicChildren?(B(I.dynamicChildren,_e,q,ne,ce,we,pe),(R.key!=null||ne&&R===ne.subTree)&&z1(I,R,!0)):Q(I,R,q,ve,ne,ce,we,pe,fe)},ae=(I,R,q,re,ne,ce,we,pe,fe)=>{R.slotScopeIds=pe,I==null?R.shapeFlag&512?ne.ctx.activate(R,q,re,we,fe):E(R,q,re,ne,ce,we,fe):A(I,R,fe)},E=(I,R,q,re,ne,ce,we)=>{const pe=I.component=hS(I,re,ne);if(R1(I)&&(pe.ctx.renderer=j),dS(pe),pe.asyncDep){if(ne&&ne.registerDep(pe,Y),!I.el){const fe=pe.subTree=Yt(Is);z(null,fe,R,q)}return}Y(pe,I,R,q,ne,ce,we)},A=(I,R,q)=>{const re=R.component=I.component;if(wP(I,R,q))if(re.asyncDep&&!re.asyncResolved){te(re,R,q);return}else re.next=R,pP(re.update),re.update();else R.el=I.el,re.vnode=R},Y=(I,R,q,re,ne,ce,we)=>{const pe=()=>{if(I.isMounted){let{next:ve,bu:me,u:_e,parent:Ee,vnode:Se}=I,Ie=ve,Ae;ds(I,!1),ve?(ve.el=Se.el,te(I,ve,we)):ve=Se,me&&vu(me),(Ae=ve.props&&ve.props.onVnodeBeforeUpdate)&&kn(Ae,Ee,ve,Se),ds(I,!0);const Me=fh(I),Le=I.subTree;I.subTree=Me,N(Le,Me,m(Le.el),$(Le),I,ne,ce),ve.el=Me.el,Ie===null&&_P(I,Me.el),_e&&Hr(_e,ne),(Ae=ve.props&&ve.props.onVnodeUpdated)&&Hr(()=>kn(Ae,Ee,ve,Se),ne)}else{let ve;const{el:me,props:_e}=R,{bm:Ee,m:Se,parent:Ie}=I,Ae=wu(R);if(ds(I,!1),Ee&&vu(Ee),!Ae&&(ve=_e&&_e.onVnodeBeforeMount)&&kn(ve,Ie,R),ds(I,!0),me&&U){const Me=()=>{I.subTree=fh(I),U(me,I.subTree,I,ne,null)};Ae?R.type.__asyncLoader().then(()=>!I.isUnmounted&&Me()):Me()}else{const Me=I.subTree=fh(I);N(null,Me,q,re,I,ne,ce),R.el=Me.el}if(Se&&Hr(Se,ne),!Ae&&(ve=_e&&_e.onVnodeMounted)){const Me=R;Hr(()=>kn(ve,Ie,Me),ne)}(R.shapeFlag&256||Ie&&wu(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&I.a&&Hr(I.a,ne),I.isMounted=!0,R=q=re=null}},fe=I.effect=new Qd(pe,()=>op(se),I.scope),se=I.update=()=>fe.run();se.id=I.uid,ds(I,!0),se()},te=(I,R,q)=>{R.component=I;const re=I.vnode.props;I.vnode=R,I.next=null,XP(I,R.props,re,q),eS(I,R.children,q),Oo(),gy(),Ao()},Q=(I,R,q,re,ne,ce,we,pe,fe=!1)=>{const se=I&&I.children,ve=I?I.shapeFlag:0,me=R.children,{patchFlag:_e,shapeFlag:Ee}=R;if(_e>0){if(_e&128){ie(se,me,q,re,ne,ce,we,pe,fe);return}else if(_e&256){J(se,me,q,re,ne,ce,we,pe,fe);return}}Ee&8?(ve&16&&Re(se,ne,ce),me!==se&&p(q,me)):ve&16?Ee&16?ie(se,me,q,re,ne,ce,we,pe,fe):Re(se,ne,ce,!0):(ve&8&&p(q,""),Ee&16&&w(me,q,re,ne,ce,we,pe,fe))},J=(I,R,q,re,ne,ce,we,pe,fe)=>{I=I||uo,R=R||uo;const se=I.length,ve=R.length,me=Math.min(se,ve);let _e;for(_e=0;_e<me;_e++){const Ee=R[_e]=fe?$i(R[_e]):Gn(R[_e]);N(I[_e],Ee,q,null,ne,ce,we,pe,fe)}se>ve?Re(I,ne,ce,!0,!1,me):w(R,q,re,ne,ce,we,pe,fe,me)},ie=(I,R,q,re,ne,ce,we,pe,fe)=>{let se=0;const ve=R.length;let me=I.length-1,_e=ve-1;for(;se<=me&&se<=_e;){const Ee=I[se],Se=R[se]=fe?$i(R[se]):Gn(R[se]);if(sa(Ee,Se))N(Ee,Se,q,null,ne,ce,we,pe,fe);else break;se++}for(;se<=me&&se<=_e;){const Ee=I[me],Se=R[_e]=fe?$i(R[_e]):Gn(R[_e]);if(sa(Ee,Se))N(Ee,Se,q,null,ne,ce,we,pe,fe);else break;me--,_e--}if(se>me){if(se<=_e){const Ee=_e+1,Se=Ee<ve?R[Ee].el:re;for(;se<=_e;)N(null,R[se]=fe?$i(R[se]):Gn(R[se]),q,Se,ne,ce,we,pe,fe),se++}}else if(se>_e)for(;se<=me;)xe(I[se],ne,ce,!0),se++;else{const Ee=se,Se=se,Ie=new Map;for(se=Se;se<=_e;se++){const ze=R[se]=fe?$i(R[se]):Gn(R[se]);ze.key!=null&&Ie.set(ze.key,se)}let Ae,Me=0;const Le=_e-Se+1;let Ke=!1,et=0;const Qe=new Array(Le);for(se=0;se<Le;se++)Qe[se]=0;for(se=Ee;se<=me;se++){const ze=I[se];if(Me>=Le){xe(ze,ne,ce,!0);continue}let Et;if(ze.key!=null)Et=Ie.get(ze.key);else for(Ae=Se;Ae<=_e;Ae++)if(Qe[Ae-Se]===0&&sa(ze,R[Ae])){Et=Ae;break}Et===void 0?xe(ze,ne,ce,!0):(Qe[Et-Se]=se+1,Et>=et?et=Et:Ke=!0,N(ze,R[Et],q,null,ne,ce,we,pe,fe),Me++)}const rt=Ke?nS(Qe):uo;for(Ae=rt.length-1,se=Le-1;se>=0;se--){const ze=Se+se,Et=R[ze],mr=ze+1<ve?R[ze+1].el:re;Qe[se]===0?N(null,Et,q,mr,ne,ce,we,pe,fe):Ke&&(Ae<0||se!==rt[Ae]?ue(Et,q,mr,2):Ae--)}}},ue=(I,R,q,re,ne=null)=>{const{el:ce,type:we,transition:pe,children:fe,shapeFlag:se}=I;if(se&6){ue(I.component.subTree,R,q,re);return}if(se&128){I.suspense.move(R,q,re);return}if(se&64){we.move(I,R,q,j);return}if(we===Vn){n(ce,R,q);for(let me=0;me<fe.length;me++)ue(fe[me],R,q,re);n(I.anchor,R,q);return}if(we===Eu){L(I,R,q);return}if(re!==2&&se&1&&pe)if(re===0)pe.beforeEnter(ce),n(ce,R,q),Hr(()=>pe.enter(ce),ne);else{const{leave:me,delayLeave:_e,afterLeave:Ee}=pe,Se=()=>n(ce,R,q),Ie=()=>{me(ce,()=>{Se(),Ee&&Ee()})};_e?_e(ce,Se,Ie):Ie()}else n(ce,R,q)},xe=(I,R,q,re=!1,ne=!1)=>{const{type:ce,props:we,ref:pe,children:fe,dynamicChildren:se,shapeFlag:ve,patchFlag:me,dirs:_e}=I;if(pe!=null&&ed(pe,null,q,I,!0),ve&256){R.ctx.deactivate(I);return}const Ee=ve&1&&_e,Se=!wu(I);let Ie;if(Se&&(Ie=we&&we.onVnodeBeforeUnmount)&&kn(Ie,R,I),ve&6)Pe(I.component,q,re);else{if(ve&128){I.suspense.unmount(q,re);return}Ee&&hs(I,null,R,"beforeUnmount"),ve&64?I.type.remove(I,R,q,ne,j,re):se&&(ce!==Vn||me>0&&me&64)?Re(se,R,q,!1,!0):(ce===Vn&&me&384||!ne&&ve&16)&&Re(fe,R,q),re&&ye(I)}(Se&&(Ie=we&&we.onVnodeUnmounted)||Ee)&&Hr(()=>{Ie&&kn(Ie,R,I),Ee&&hs(I,null,R,"unmounted")},q)},ye=I=>{const{type:R,el:q,anchor:re,transition:ne}=I;if(R===Vn){Fe(q,re);return}if(R===Eu){D(I);return}const ce=()=>{s(q),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(I.shapeFlag&1&&ne&&!ne.persisted){const{leave:we,delayLeave:pe}=ne,fe=()=>we(q,ce);pe?pe(I.el,ce,fe):fe()}else ce()},Fe=(I,R)=>{let q;for(;I!==R;)q=b(I),s(I),I=q;s(R)},Pe=(I,R,q)=>{const{bum:re,scope:ne,update:ce,subTree:we,um:pe}=I;re&&vu(re),ne.stop(),ce&&(ce.active=!1,xe(we,I,R,q)),pe&&Hr(pe,R),Hr(()=>{I.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},Re=(I,R,q,re=!1,ne=!1,ce=0)=>{for(let we=ce;we<I.length;we++)xe(I[we],R,q,re,ne)},$=I=>I.shapeFlag&6?$(I.component.subTree):I.shapeFlag&128?I.suspense.next():b(I.anchor||I.el),H=(I,R,q)=>{I==null?R._vnode&&xe(R._vnode,null,null,!0):N(R._vnode||null,I,R,null,null,null,q),gy(),I1(),R._vnode=I},j={p:N,um:xe,m:ue,r:ye,mt:E,mc:w,pc:Q,pbc:B,n:$,o:t};let y,U;return e&&([y,U]=e(j)),{render:H,hydrate:y,createApp:WP(H,y)}}function ds({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function z1(t,e,r=!1){const n=t.children,s=e.children;if(qe(n)&&qe(s))for(let a=0;a<n.length;a++){const c=n[a];let u=s[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=s[a]=$i(s[a]),u.el=c.el),r||z1(c,u)),u.type===il&&(u.el=c.el)}}function nS(t){const e=t.slice(),r=[0];let n,s,a,c,u;const f=t.length;for(n=0;n<f;n++){const h=t[n];if(h!==0){if(s=r[r.length-1],t[s]<h){e[n]=s,r.push(n);continue}for(a=0,c=r.length-1;a<c;)u=a+c>>1,t[r[u]]<h?a=u+1:c=u;h<t[r[a]]&&(a>0&&(e[n]=r[a-1]),r[a]=n)}}for(a=r.length,c=r[a-1];a-- >0;)r[a]=c,c=e[c];return r}const iS=t=>t.__isTeleport,Vn=Symbol.for("v-fgt"),il=Symbol.for("v-txt"),Is=Symbol.for("v-cmt"),Eu=Symbol.for("v-stc"),Pa=[];let Cn=null;function Rt(t=!1){Pa.push(Cn=t?null:[])}function sS(){Pa.pop(),Cn=Pa[Pa.length-1]||null}let Fa=1;function Dy(t){Fa+=t}function q1(t){return t.dynamicChildren=Fa>0?Cn||uo:null,sS(),Fa>0&&Cn&&Cn.push(t),t}function Ft(t,e,r,n,s,a){return q1(Te(t,e,r,n,s,a,!0))}function oS(t,e,r,n,s){return q1(Yt(t,e,r,n,s,!0))}function td(t){return t?t.__v_isVNode===!0:!1}function sa(t,e){return t.type===e.type&&t.key===e.key}const sl="__vInternal",K1=({key:t})=>t??null,xu=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?fr(t)||Mt(t)||Ye(t)?{i:rn,r:t,k:e,f:!!r}:t:null);function Te(t,e=null,r=null,n=0,s=null,a=t===Vn?0:1,c=!1,u=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&K1(e),ref:e&&xu(e),scopeId:A1,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:rn};return u?(lp(f,r),a&128&&t.normalize(f)):r&&(f.shapeFlag|=fr(r)?8:16),Fa>0&&!c&&Cn&&(f.patchFlag>0||a&6)&&f.patchFlag!==32&&Cn.push(f),f}const Yt=aS;function aS(t,e=null,r=null,n=0,s=null,a=!1){if((!t||t===LP)&&(t=Is),td(t)){const u=_o(t,e,!0);return r&&lp(u,r),Fa>0&&!a&&Cn&&(u.shapeFlag&6?Cn[Cn.indexOf(t)]=u:Cn.push(u)),u.patchFlag|=-2,u}if(bS(t)&&(t=t.__vccOpts),e){e=cS(e);let{class:u,style:f}=e;u&&!fr(u)&&(e.class=Jd(u)),Ot(f)&&(b1(f)&&!qe(f)&&(f=yr({},f)),e.style=Yd(f))}const c=fr(t)?1:EP(t)?128:iS(t)?64:Ot(t)?4:Ye(t)?2:0;return Te(t,e,r,n,s,c,a,!0)}function cS(t){return t?b1(t)||sl in t?yr({},t):t:null}function _o(t,e,r=!1){const{props:n,ref:s,patchFlag:a,children:c}=t,u=e?uS(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&K1(u),ref:e&&e.ref?r&&s?qe(s)?s.concat(xu(e)):[s,xu(e)]:xu(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Vn?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&_o(t.ssContent),ssFallback:t.ssFallback&&_o(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function ji(t=" ",e=0){return Yt(il,null,t,e)}function Os(t,e){const r=Yt(Eu,null,t);return r.staticCount=e,r}function rd(t="",e=!1){return e?(Rt(),oS(Is,null,t)):Yt(Is,null,t)}function Gn(t){return t==null||typeof t=="boolean"?Yt(Is):qe(t)?Yt(Vn,null,t.slice()):typeof t=="object"?$i(t):Yt(il,null,String(t))}function $i(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:_o(t)}function lp(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(qe(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),lp(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!(sl in e)?e._ctx=rn:s===3&&rn&&(rn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ye(e)?(e={default:e,_ctx:rn},r=32):(e=String(e),n&64?(r=16,e=[ji(e)]):r=8);t.children=e,t.shapeFlag|=r}function uS(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=Jd([e.class,n.class]));else if(s==="style")e.style=Yd([e.style,n.style]);else if(Wu(s)){const a=e[s],c=n[s];c&&a!==c&&!(qe(a)&&a.includes(c))&&(e[s]=a?[].concat(a,c):c)}else s!==""&&(e[s]=n[s])}return e}function kn(t,e,r,n=null){Rn(t,e,7,[r,n])}const lS=j1();let fS=0;function hS(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||lS,a={uid:fS++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new i1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:U1(n,s),emitsOptions:O1(n,s),emit:null,emitted:null,propsDefaults:Dt,inheritAttrs:n.inheritAttrs,ctx:Dt,data:Dt,props:Dt,attrs:Dt,slots:Dt,refs:Dt,setupState:Dt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=mP.bind(null,a),t.ce&&t.ce(a),a}let pr=null,fp,to,Oy="__VUE_INSTANCE_SETTERS__";(to=Kh()[Oy])||(to=Kh()[Oy]=[]),to.push(t=>pr=t),fp=t=>{to.length>1?to.forEach(e=>e(t)):to[0](t)};const Eo=t=>{fp(t),t.scope.on()},Ss=()=>{pr&&pr.scope.off(),fp(null)};function V1(t){return t.vnode.shapeFlag&4}let Ma=!1;function dS(t,e=!1){Ma=e;const{props:r,children:n}=t.vnode,s=V1(t);JP(t,r,s,e),ZP(t,n);const a=s?pS(t,e):void 0;return Ma=!1,a}function pS(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=Zu(new Proxy(t.ctx,kP));const{setup:n}=r;if(n){const s=t.setupContext=n.length>1?yS(t):null;Eo(t),Oo();const a=Ui(n,t,0,[t.props,s]);if(Ao(),Ss(),Zb(a)){if(a.then(Ss,Ss),e)return a.then(c=>{Ay(t,c,e)}).catch(c=>{el(c,t,0)});t.asyncDep=a}else Ay(t,a,e)}else G1(t,e)}function Ay(t,e,r){Ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ot(e)&&(t.setupState=E1(e)),G1(t,r)}let Cy;function G1(t,e,r){const n=t.type;if(!t.render){if(!e&&Cy&&!n.render){const s=n.template||cp(t).template;if(s){const{isCustomElement:a,compilerOptions:c}=t.appContext.config,{delimiters:u,compilerOptions:f}=n,h=yr(yr({isCustomElement:a,delimiters:u},c),f);n.render=Cy(s,h)}}t.render=n.render||Tn}Eo(t),Oo(),HP(t),Ao(),Ss()}function gS(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return Kr(t,"get","$attrs"),e[r]}}))}function yS(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return gS(t)},slots:t.slots,emit:t.emit,expose:e}}function ol(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(E1(Zu(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in xa)return xa[r](t)},has(e,r){return r in e||r in xa}}))}function mS(t,e=!0){return Ye(t)?t.displayName||t.name:t.name||e&&t.__name}function bS(t){return Ye(t)&&"__vccOpts"in t}const tn=(t,e)=>fP(t,e,Ma);function W1(t,e,r){const n=arguments.length;return n===2?Ot(e)&&!qe(e)?td(e)?Yt(t,null,[e]):Yt(t,e):Yt(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&td(r)&&(r=[r]),Yt(t,e,r))}const vS=Symbol.for("v-scx"),wS=()=>vn(vS),_S="3.3.4",ES="http://www.w3.org/2000/svg",ws=typeof document<"u"?document:null,Ty=ws&&ws.createElement("template"),xS={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e?ws.createElementNS(ES,t):ws.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>ws.createTextNode(t),createComment:t=>ws.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ws.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,s,a){const c=r?r.previousSibling:e.lastChild;if(s&&(s===a||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===a||!(s=s.nextSibling)););else{Ty.innerHTML=n?`<svg>${t}</svg>`:t;const u=Ty.content;if(n){const f=u.firstChild;for(;f.firstChild;)u.appendChild(f.firstChild);u.removeChild(f)}e.insertBefore(u,r)}return[c?c.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function PS(t,e,r){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function SS(t,e,r){const n=t.style,s=fr(r);if(r&&!s){if(e&&!fr(e))for(const a in e)r[a]==null&&nd(n,a,"");for(const a in r)nd(n,a,r[a])}else{const a=n.display;s?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=a)}}const Ry=/\s*!important$/;function nd(t,e,r){if(qe(r))r.forEach(n=>nd(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=IS(t,e);Ry.test(r)?t.setProperty(Do(n),r.replace(Ry,""),"important"):t[n]=r}}const Ny=["Webkit","Moz","ms"],dh={};function IS(t,e){const r=dh[e];if(r)return r;let n=Yn(e);if(n!=="filter"&&n in t)return dh[e]=n;n=Xu(n);for(let s=0;s<Ny.length;s++){const a=Ny[s]+n;if(a in t)return dh[e]=a}return e}const $y="http://www.w3.org/1999/xlink";function DS(t,e,r,n,s){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS($y,e.slice(6,e.length)):t.setAttributeNS($y,e,r);else{const a=I8(e);r==null||a&&!r1(r)?t.removeAttribute(e):t.setAttribute(e,a?"":r)}}function OS(t,e,r,n,s,a,c){if(e==="innerHTML"||e==="textContent"){n&&c(n,s,a),t[e]=r??"";return}const u=t.tagName;if(e==="value"&&u!=="PROGRESS"&&!u.includes("-")){t._value=r;const h=u==="OPTION"?t.getAttribute("value"):t.value,p=r??"";h!==p&&(t.value=p),r==null&&t.removeAttribute(e);return}let f=!1;if(r===""||r==null){const h=typeof t[e];h==="boolean"?r=r1(r):r==null&&h==="string"?(r="",f=!0):h==="number"&&(r=0,f=!0)}try{t[e]=r}catch{}f&&t.removeAttribute(e)}function so(t,e,r,n){t.addEventListener(e,r,n)}function AS(t,e,r,n){t.removeEventListener(e,r,n)}function CS(t,e,r,n,s=null){const a=t._vei||(t._vei={}),c=a[e];if(n&&c)c.value=n;else{const[u,f]=TS(e);if(n){const h=a[e]=$S(n,s);so(t,u,h,f)}else c&&(AS(t,u,c,f),a[e]=void 0)}}const Fy=/(?:Once|Passive|Capture)$/;function TS(t){let e;if(Fy.test(t)){e={};let n;for(;n=t.match(Fy);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Do(t.slice(2)),e]}let ph=0;const RS=Promise.resolve(),NS=()=>ph||(RS.then(()=>ph=0),ph=Date.now());function $S(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Rn(FS(n,r.value),e,5,[n])};return r.value=t,r.attached=NS(),r}function FS(t,e){if(qe(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const My=/^on[a-z]/,MS=(t,e,r,n,s=!1,a,c,u,f)=>{e==="class"?PS(t,n,s):e==="style"?SS(t,r,n):Wu(e)?Kd(e)||CS(t,e,r,n,c):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):jS(t,e,n,s))?OS(t,e,n,a,c,u,f):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),DS(t,e,n,s))};function jS(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&My.test(e)&&Ye(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||My.test(e)&&fr(r)?!1:e in t}const jy=t=>{const e=t.props["onUpdate:modelValue"]||!1;return qe(e)?r=>vu(e,r):e};function LS(t){t.target.composing=!0}function Ly(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const US={created(t,{modifiers:{lazy:e,trim:r,number:n}},s){t._assign=jy(s);const a=n||s.props&&s.props.type==="number";so(t,e?"change":"input",c=>{if(c.target.composing)return;let u=t.value;r&&(u=u.trim()),a&&(u=qh(u)),t._assign(u)}),r&&so(t,"change",()=>{t.value=t.value.trim()}),e||(so(t,"compositionstart",LS),so(t,"compositionend",Ly),so(t,"change",Ly))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:n,number:s}},a){if(t._assign=jy(a),t.composing||document.activeElement===t&&t.type!=="range"&&(r||n&&t.value.trim()===e||(s||t.type==="number")&&qh(t.value)===e))return;const c=e??"";t.value!==c&&(t.value=c)}},BS=yr({patchProp:MS},xS);let Uy;function kS(){return Uy||(Uy=tS(BS))}const HS=(...t)=>{const e=kS().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=zS(n);if(!s)return;const a=e._component;!Ye(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.innerHTML="";const c=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),c},e};function zS(t){return fr(t)?document.querySelector(t):t}/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const oo=typeof window<"u";function qS(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const gt=Object.assign;function gh(t,e){const r={};for(const n in e){const s=e[n];r[n]=Nn(s)?s.map(t):t(s)}return r}const Sa=()=>{},Nn=Array.isArray,KS=/\/$/,VS=t=>t.replace(KS,"");function yh(t,e,r="/"){let n,s={},a="",c="";const u=e.indexOf("#");let f=e.indexOf("?");return u<f&&u>=0&&(f=-1),f>-1&&(n=e.slice(0,f),a=e.slice(f+1,u>-1?u:e.length),s=t(a)),u>-1&&(n=n||e.slice(0,u),c=e.slice(u,e.length)),n=JS(n??e,r),{fullPath:n+(a&&"?")+a+c,path:n,query:s,hash:c}}function GS(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function By(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function WS(t,e,r){const n=e.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&xo(e.matched[n],r.matched[s])&&Y1(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function xo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Y1(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!YS(t[r],e[r]))return!1;return!0}function YS(t,e){return Nn(t)?ky(t,e):Nn(e)?ky(e,t):t===e}function ky(t,e){return Nn(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function JS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let a=r.length-1,c,u;for(c=0;c<n.length;c++)if(u=n[c],u!==".")if(u==="..")a>1&&a--;else break;return r.slice(0,a).join("/")+"/"+n.slice(c-(c===n.length?1:0)).join("/")}var ja;(function(t){t.pop="pop",t.push="push"})(ja||(ja={}));var Ia;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ia||(Ia={}));function XS(t){if(!t)if(oo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),VS(t)}const QS=/^[^#]+#/;function ZS(t,e){return t.replace(QS,"#")+e}function eI(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const al=()=>({left:window.pageXOffset,top:window.pageYOffset});function tI(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;e=eI(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Hy(t,e){return(history.state?history.state.position-e:-1)+t}const id=new Map;function rI(t,e){id.set(t,e)}function nI(t){const e=id.get(t);return id.delete(t),e}let iI=()=>location.protocol+"//"+location.host;function J1(t,e){const{pathname:r,search:n,hash:s}=e,a=t.indexOf("#");if(a>-1){let u=s.includes(t.slice(a))?t.slice(a).length:1,f=s.slice(u);return f[0]!=="/"&&(f="/"+f),By(f,"")}return By(r,t)+n+s}function sI(t,e,r,n){let s=[],a=[],c=null;const u=({state:b})=>{const _=J1(t,location),x=r.value,N=e.value;let M=0;if(b){if(r.value=_,e.value=b,c&&c===x){c=null;return}M=N?b.position-N.position:0}else n(_);s.forEach(z=>{z(r.value,x,{delta:M,type:ja.pop,direction:M?M>0?Ia.forward:Ia.back:Ia.unknown})})};function f(){c=r.value}function h(b){s.push(b);const _=()=>{const x=s.indexOf(b);x>-1&&s.splice(x,1)};return a.push(_),_}function p(){const{history:b}=window;b.state&&b.replaceState(gt({},b.state,{scroll:al()}),"")}function m(){for(const b of a)b();a=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:f,listen:h,destroy:m}}function zy(t,e,r,n=!1,s=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:s?al():null}}function oI(t){const{history:e,location:r}=window,n={value:J1(t,r)},s={value:e.state};s.value||a(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(f,h,p){const m=t.indexOf("#"),b=m>-1?(r.host&&document.querySelector("base")?t:t.slice(m))+f:iI()+t+f;try{e[p?"replaceState":"pushState"](h,"",b),s.value=h}catch(_){console.error(_),r[p?"replace":"assign"](b)}}function c(f,h){const p=gt({},e.state,zy(s.value.back,f,s.value.forward,!0),h,{position:s.value.position});a(f,p,!0),n.value=f}function u(f,h){const p=gt({},s.value,e.state,{forward:f,scroll:al()});a(p.current,p,!0);const m=gt({},zy(n.value,f,null),{position:p.position+1},h);a(f,m,!1),n.value=f}return{location:n,state:s,push:u,replace:c}}function aI(t){t=XS(t);const e=oI(t),r=sI(t,e.state,e.location,e.replace);function n(a,c=!0){c||r.pauseListeners(),history.go(a)}const s=gt({location:"",base:t,go:n,createHref:ZS.bind(null,t)},e,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function cI(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),aI(t)}function uI(t){return typeof t=="string"||t&&typeof t=="object"}function X1(t){return typeof t=="string"||typeof t=="symbol"}const Ti={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Q1=Symbol("");var qy;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(qy||(qy={}));function Po(t,e){return gt(new Error,{type:t,[Q1]:!0},e)}function ci(t,e){return t instanceof Error&&Q1 in t&&(e==null||!!(t.type&e))}const Ky="[^/]+?",lI={sensitive:!1,strict:!1,start:!0,end:!0},fI=/[.+*?^${}()[\]/\\]/g;function hI(t,e){const r=gt({},lI,e),n=[];let s=r.start?"^":"";const a=[];for(const h of t){const p=h.length?[]:[90];r.strict&&!h.length&&(s+="/");for(let m=0;m<h.length;m++){const b=h[m];let _=40+(r.sensitive?.25:0);if(b.type===0)m||(s+="/"),s+=b.value.replace(fI,"\\$&"),_+=40;else if(b.type===1){const{value:x,repeatable:N,optional:M,regexp:z}=b;a.push({name:x,repeatable:N,optional:M});const C=z||Ky;if(C!==Ky){_+=10;try{new RegExp(`(${C})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${x}" (${C}): `+D.message)}}let L=N?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;m||(L=M&&h.length<2?`(?:/${L})`:"/"+L),M&&(L+="?"),s+=L,_+=20,M&&(_+=-8),N&&(_+=-20),C===".*"&&(_+=-50)}p.push(_)}n.push(p)}if(r.strict&&r.end){const h=n.length-1;n[h][n[h].length-1]+=.7000000000000001}r.strict||(s+="/?"),r.end?s+="$":r.strict&&(s+="(?:/|$)");const c=new RegExp(s,r.sensitive?"":"i");function u(h){const p=h.match(c),m={};if(!p)return null;for(let b=1;b<p.length;b++){const _=p[b]||"",x=a[b-1];m[x.name]=_&&x.repeatable?_.split("/"):_}return m}function f(h){let p="",m=!1;for(const b of t){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const _ of b)if(_.type===0)p+=_.value;else if(_.type===1){const{value:x,repeatable:N,optional:M}=_,z=x in h?h[x]:"";if(Nn(z)&&!N)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const C=Nn(z)?z.join("/"):z;if(!C)if(M)b.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${x}"`);p+=C}}return p||"/"}return{re:c,score:n,keys:a,parse:u,stringify:f}}function dI(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function pI(t,e){let r=0;const n=t.score,s=e.score;for(;r<n.length&&r<s.length;){const a=dI(n[r],s[r]);if(a)return a;r++}if(Math.abs(s.length-n.length)===1){if(Vy(n))return 1;if(Vy(s))return-1}return s.length-n.length}function Vy(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const gI={type:0,value:""},yI=/[a-zA-Z0-9_]/;function mI(t){if(!t)return[[]];if(t==="/")return[[gI]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(_){throw new Error(`ERR (${r})/"${h}": ${_}`)}let r=0,n=r;const s=[];let a;function c(){a&&s.push(a),a=[]}let u=0,f,h="",p="";function m(){h&&(r===0?a.push({type:0,value:h}):r===1||r===2||r===3?(a.length>1&&(f==="*"||f==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:h,regexp:p,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):e("Invalid state to consume buffer"),h="")}function b(){h+=f}for(;u<t.length;){if(f=t[u++],f==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:f==="/"?(h&&m(),c()):f===":"?(m(),r=1):b();break;case 4:b(),r=n;break;case 1:f==="("?r=2:yI.test(f)?b():(m(),r=0,f!=="*"&&f!=="?"&&f!=="+"&&u--);break;case 2:f===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+f:r=3:p+=f;break;case 3:m(),r=0,f!=="*"&&f!=="?"&&f!=="+"&&u--,p="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${h}"`),m(),c(),s}function bI(t,e,r){const n=hI(mI(t.path),r),s=gt(n,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function vI(t,e){const r=[],n=new Map;e=Yy({strict:!1,end:!0,sensitive:!1},e);function s(p){return n.get(p)}function a(p,m,b){const _=!b,x=wI(p);x.aliasOf=b&&b.record;const N=Yy(e,p),M=[x];if("alias"in p){const L=typeof p.alias=="string"?[p.alias]:p.alias;for(const D of L)M.push(gt({},x,{components:b?b.record.components:x.components,path:D,aliasOf:b?b.record:x}))}let z,C;for(const L of M){const{path:D}=L;if(m&&D[0]!=="/"){const T=m.record.path,P=T[T.length-1]==="/"?"":"/";L.path=m.record.path+(D&&P+D)}if(z=bI(L,m,N),b?b.alias.push(z):(C=C||z,C!==z&&C.alias.push(z),_&&p.name&&!Wy(z)&&c(p.name)),x.children){const T=x.children;for(let P=0;P<T.length;P++)a(T[P],z,b&&b.children[P])}b=b||z,(z.record.components&&Object.keys(z.record.components).length||z.record.name||z.record.redirect)&&f(z)}return C?()=>{c(C)}:Sa}function c(p){if(X1(p)){const m=n.get(p);m&&(n.delete(p),r.splice(r.indexOf(m),1),m.children.forEach(c),m.alias.forEach(c))}else{const m=r.indexOf(p);m>-1&&(r.splice(m,1),p.record.name&&n.delete(p.record.name),p.children.forEach(c),p.alias.forEach(c))}}function u(){return r}function f(p){let m=0;for(;m<r.length&&pI(p,r[m])>=0&&(p.record.path!==r[m].record.path||!Z1(p,r[m]));)m++;r.splice(m,0,p),p.record.name&&!Wy(p)&&n.set(p.record.name,p)}function h(p,m){let b,_={},x,N;if("name"in p&&p.name){if(b=n.get(p.name),!b)throw Po(1,{location:p});N=b.record.name,_=gt(Gy(m.params,b.keys.filter(C=>!C.optional).map(C=>C.name)),p.params&&Gy(p.params,b.keys.map(C=>C.name))),x=b.stringify(_)}else if("path"in p)x=p.path,b=r.find(C=>C.re.test(x)),b&&(_=b.parse(x),N=b.record.name);else{if(b=m.name?n.get(m.name):r.find(C=>C.re.test(m.path)),!b)throw Po(1,{location:p,currentLocation:m});N=b.record.name,_=gt({},m.params,p.params),x=b.stringify(_)}const M=[];let z=b;for(;z;)M.unshift(z.record),z=z.parent;return{name:N,path:x,params:_,matched:M,meta:EI(M)}}return t.forEach(p=>a(p)),{addRoute:a,resolve:h,removeRoute:c,getRoutes:u,getRecordMatcher:s}}function Gy(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function wI(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:_I(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function _I(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="boolean"?r:r[n];return e}function Wy(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function EI(t){return t.reduce((e,r)=>gt(e,r.meta),{})}function Yy(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function Z1(t,e){return e.children.some(r=>r===t||Z1(t,r))}const ev=/#/g,xI=/&/g,PI=/\//g,SI=/=/g,II=/\?/g,tv=/\+/g,DI=/%5B/g,OI=/%5D/g,rv=/%5E/g,AI=/%60/g,nv=/%7B/g,CI=/%7C/g,iv=/%7D/g,TI=/%20/g;function hp(t){return encodeURI(""+t).replace(CI,"|").replace(DI,"[").replace(OI,"]")}function RI(t){return hp(t).replace(nv,"{").replace(iv,"}").replace(rv,"^")}function sd(t){return hp(t).replace(tv,"%2B").replace(TI,"+").replace(ev,"%23").replace(xI,"%26").replace(AI,"`").replace(nv,"{").replace(iv,"}").replace(rv,"^")}function NI(t){return sd(t).replace(SI,"%3D")}function $I(t){return hp(t).replace(ev,"%23").replace(II,"%3F")}function FI(t){return t==null?"":$I(t).replace(PI,"%2F")}function Nu(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function MI(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const a=n[s].replace(tv," "),c=a.indexOf("="),u=Nu(c<0?a:a.slice(0,c)),f=c<0?null:Nu(a.slice(c+1));if(u in e){let h=e[u];Nn(h)||(h=e[u]=[h]),h.push(f)}else e[u]=f}return e}function Jy(t){let e="";for(let r in t){const n=t[r];if(r=NI(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Nn(n)?n.map(a=>a&&sd(a)):[n&&sd(n)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+r,a!=null&&(e+="="+a))})}return e}function jI(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Nn(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const LI=Symbol(""),Xy=Symbol(""),cl=Symbol(""),dp=Symbol(""),od=Symbol("");function oa(){let t=[];function e(n){return t.push(n),()=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)}}function r(){t=[]}return{add:e,list:()=>t,reset:r}}function Fi(t,e,r,n,s){const a=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((c,u)=>{const f=m=>{m===!1?u(Po(4,{from:r,to:e})):m instanceof Error?u(m):uI(m)?u(Po(2,{from:e,to:m})):(a&&n.enterCallbacks[s]===a&&typeof m=="function"&&a.push(m),c())},h=t.call(n&&n.instances[s],e,r,f);let p=Promise.resolve(h);t.length<3&&(p=p.then(f)),p.catch(m=>u(m))})}function mh(t,e,r,n){const s=[];for(const a of t)for(const c in a.components){let u=a.components[c];if(!(e!=="beforeRouteEnter"&&!a.instances[c]))if(UI(u)){const h=(u.__vccOpts||u)[e];h&&s.push(Fi(h,r,n,a,c))}else{let f=u();s.push(()=>f.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${a.path}"`));const p=qS(h)?h.default:h;a.components[c]=p;const b=(p.__vccOpts||p)[e];return b&&Fi(b,r,n,a,c)()}))}}return s}function UI(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Qy(t){const e=vn(cl),r=vn(dp),n=tn(()=>e.resolve(st(t.to))),s=tn(()=>{const{matched:f}=n.value,{length:h}=f,p=f[h-1],m=r.matched;if(!p||!m.length)return-1;const b=m.findIndex(xo.bind(null,p));if(b>-1)return b;const _=Zy(f[h-2]);return h>1&&Zy(p)===_&&m[m.length-1].path!==_?m.findIndex(xo.bind(null,f[h-2])):b}),a=tn(()=>s.value>-1&&zI(r.params,n.value.params)),c=tn(()=>s.value>-1&&s.value===r.matched.length-1&&Y1(r.params,n.value.params));function u(f={}){return HI(f)?e[st(t.replace)?"replace":"push"](st(t.to)).catch(Sa):Promise.resolve()}return{route:n,href:tn(()=>n.value.href),isActive:a,isExactActive:c,navigate:u}}const BI=T1({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Qy,setup(t,{slots:e}){const r=Co(Qy(t)),{options:n}=vn(cl),s=tn(()=>({[em(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[em(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const a=e.default&&e.default(r);return t.custom?a:W1("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},a)}}}),kI=BI;function HI(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function zI(t,e){for(const r in e){const n=e[r],s=t[r];if(typeof n=="string"){if(n!==s)return!1}else if(!Nn(s)||s.length!==n.length||n.some((a,c)=>a!==s[c]))return!1}return!0}function Zy(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const em=(t,e,r)=>t??e??r,qI=T1({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=vn(od),s=tn(()=>t.route||n.value),a=vn(Xy,0),c=tn(()=>{let h=st(a);const{matched:p}=s.value;let m;for(;(m=p[h])&&!m.components;)h++;return h}),u=tn(()=>s.value.matched[c.value]);_u(Xy,tn(()=>c.value+1)),_u(LI,u),_u(od,s);const f=Wt();return Bi(()=>[f.value,u.value,t.name],([h,p,m],[b,_,x])=>{p&&(p.instances[m]=h,_&&_!==p&&h&&h===b&&(p.leaveGuards.size||(p.leaveGuards=_.leaveGuards),p.updateGuards.size||(p.updateGuards=_.updateGuards))),h&&p&&(!_||!xo(p,_)||!b)&&(p.enterCallbacks[m]||[]).forEach(N=>N(h))},{flush:"post"}),()=>{const h=s.value,p=t.name,m=u.value,b=m&&m.components[p];if(!b)return tm(r.default,{Component:b,route:h});const _=m.props[p],x=_?_===!0?h.params:typeof _=="function"?_(h):_:null,M=W1(b,gt({},x,e,{onVnodeUnmounted:z=>{z.component.isUnmounted&&(m.instances[p]=null)},ref:f}));return tm(r.default,{Component:M,route:h})||M}}});function tm(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const KI=qI;function VI(t){const e=vI(t.routes,t),r=t.parseQuery||MI,n=t.stringifyQuery||Jy,s=t.history,a=oa(),c=oa(),u=oa(),f=nP(Ti);let h=Ti;oo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=gh.bind(null,$=>""+$),m=gh.bind(null,FI),b=gh.bind(null,Nu);function _($,H){let j,y;return X1($)?(j=e.getRecordMatcher($),y=H):y=$,e.addRoute(y,j)}function x($){const H=e.getRecordMatcher($);H&&e.removeRoute(H)}function N(){return e.getRoutes().map($=>$.record)}function M($){return!!e.getRecordMatcher($)}function z($,H){if(H=gt({},H||f.value),typeof $=="string"){const q=yh(r,$,H.path),re=e.resolve({path:q.path},H),ne=s.createHref(q.fullPath);return gt(q,re,{params:b(re.params),hash:Nu(q.hash),redirectedFrom:void 0,href:ne})}let j;if("path"in $)j=gt({},$,{path:yh(r,$.path,H.path).path});else{const q=gt({},$.params);for(const re in q)q[re]==null&&delete q[re];j=gt({},$,{params:m(q)}),H.params=m(H.params)}const y=e.resolve(j,H),U=$.hash||"";y.params=p(b(y.params));const I=GS(n,gt({},$,{hash:RI(U),path:y.path})),R=s.createHref(I);return gt({fullPath:I,hash:U,query:n===Jy?jI($.query):$.query||{}},y,{redirectedFrom:void 0,href:R})}function C($){return typeof $=="string"?yh(r,$,f.value.path):gt({},$)}function L($,H){if(h!==$)return Po(8,{from:H,to:$})}function D($){return d($)}function T($){return D(gt(C($),{replace:!0}))}function P($){const H=$.matched[$.matched.length-1];if(H&&H.redirect){const{redirect:j}=H;let y=typeof j=="function"?j($):j;return typeof y=="string"&&(y=y.includes("?")||y.includes("#")?y=C(y):{path:y},y.params={}),gt({query:$.query,hash:$.hash,params:"path"in y?{}:$.params},y)}}function d($,H){const j=h=z($),y=f.value,U=$.state,I=$.force,R=$.replace===!0,q=P(j);if(q)return d(gt(C(q),{state:typeof q=="object"?gt({},U,q.state):U,force:I,replace:R}),H||j);const re=j;re.redirectedFrom=H;let ne;return!I&&WS(n,y,j)&&(ne=Po(16,{to:re,from:y}),ue(y,y,!0,!1)),(ne?Promise.resolve(ne):B(re,y)).catch(ce=>ci(ce)?ci(ce,2)?ce:ie(ce):Q(ce,re,y)).then(ce=>{if(ce){if(ci(ce,2))return d(gt({replace:R},C(ce.to),{state:typeof ce.to=="object"?gt({},U,ce.to.state):U,force:I}),H||re)}else ce=ee(re,y,!0,R,U);return V(re,y,ce),ce})}function w($,H){const j=L($,H);return j?Promise.reject(j):Promise.resolve()}function Z($){const H=Fe.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext($):$()}function B($,H){let j;const[y,U,I]=GI($,H);j=mh(y.reverse(),"beforeRouteLeave",$,H);for(const q of y)q.leaveGuards.forEach(re=>{j.push(Fi(re,$,H))});const R=w.bind(null,$,H);return j.push(R),Re(j).then(()=>{j=[];for(const q of a.list())j.push(Fi(q,$,H));return j.push(R),Re(j)}).then(()=>{j=mh(U,"beforeRouteUpdate",$,H);for(const q of U)q.updateGuards.forEach(re=>{j.push(Fi(re,$,H))});return j.push(R),Re(j)}).then(()=>{j=[];for(const q of $.matched)if(q.beforeEnter&&!H.matched.includes(q))if(Nn(q.beforeEnter))for(const re of q.beforeEnter)j.push(Fi(re,$,H));else j.push(Fi(q.beforeEnter,$,H));return j.push(R),Re(j)}).then(()=>($.matched.forEach(q=>q.enterCallbacks={}),j=mh(I,"beforeRouteEnter",$,H),j.push(R),Re(j))).then(()=>{j=[];for(const q of c.list())j.push(Fi(q,$,H));return j.push(R),Re(j)}).catch(q=>ci(q,8)?q:Promise.reject(q))}function V($,H,j){for(const y of u.list())Z(()=>y($,H,j))}function ee($,H,j,y,U){const I=L($,H);if(I)return I;const R=H===Ti,q=oo?history.state:{};j&&(y||R?s.replace($.fullPath,gt({scroll:R&&q&&q.scroll},U)):s.push($.fullPath,U)),f.value=$,ue($,H,j,R),ie()}let ae;function E(){ae||(ae=s.listen(($,H,j)=>{if(!Pe.listening)return;const y=z($),U=P(y);if(U){d(gt(U,{replace:!0}),y).catch(Sa);return}h=y;const I=f.value;oo&&rI(Hy(I.fullPath,j.delta),al()),B(y,I).catch(R=>ci(R,12)?R:ci(R,2)?(d(R.to,y).then(q=>{ci(q,20)&&!j.delta&&j.type===ja.pop&&s.go(-1,!1)}).catch(Sa),Promise.reject()):(j.delta&&s.go(-j.delta,!1),Q(R,y,I))).then(R=>{R=R||ee(y,I,!1),R&&(j.delta&&!ci(R,8)?s.go(-j.delta,!1):j.type===ja.pop&&ci(R,20)&&s.go(-1,!1)),V(y,I,R)}).catch(Sa)}))}let A=oa(),Y=oa(),te;function Q($,H,j){ie($);const y=Y.list();return y.length?y.forEach(U=>U($,H,j)):console.error($),Promise.reject($)}function J(){return te&&f.value!==Ti?Promise.resolve():new Promise(($,H)=>{A.add([$,H])})}function ie($){return te||(te=!$,E(),A.list().forEach(([H,j])=>$?j($):H()),A.reset()),$}function ue($,H,j,y){const{scrollBehavior:U}=t;if(!oo||!U)return Promise.resolve();const I=!j&&nI(Hy($.fullPath,0))||(y||!j)&&history.state&&history.state.scroll||null;return sp().then(()=>U($,H,I)).then(R=>R&&tI(R)).catch(R=>Q(R,$,H))}const xe=$=>s.go($);let ye;const Fe=new Set,Pe={currentRoute:f,listening:!0,addRoute:_,removeRoute:x,hasRoute:M,getRoutes:N,resolve:z,options:t,push:D,replace:T,go:xe,back:()=>xe(-1),forward:()=>xe(1),beforeEach:a.add,beforeResolve:c.add,afterEach:u.add,onError:Y.add,isReady:J,install($){const H=this;$.component("RouterLink",kI),$.component("RouterView",KI),$.config.globalProperties.$router=H,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>st(f)}),oo&&!ye&&f.value===Ti&&(ye=!0,D(s.location).catch(U=>{}));const j={};for(const U in Ti)j[U]=tn(()=>f.value[U]);$.provide(cl,H),$.provide(dp,Co(j)),$.provide(od,f);const y=$.unmount;Fe.add($),$.unmount=function(){Fe.delete($),Fe.size<1&&(h=Ti,ae&&ae(),ae=null,f.value=Ti,ye=!1,te=!1),y()}}};function Re($){return $.reduce((H,j)=>H.then(()=>Z(j)),Promise.resolve())}return Pe}function GI(t,e){const r=[],n=[],s=[],a=Math.max(e.matched.length,t.matched.length);for(let c=0;c<a;c++){const u=e.matched[c];u&&(t.matched.find(h=>xo(h,u))?n.push(u):r.push(u));const f=t.matched[c];f&&(e.matched.find(h=>xo(h,f))||s.push(f))}return[r,n,s]}function WI(){return vn(cl)}function sv(){return vn(dp)}var YI=!1;/*!
  * pinia v2.1.3
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let ov;const ul=t=>ov=t,av=Symbol();function ad(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Da;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Da||(Da={}));function JI(){const t=s1(!0),e=t.run(()=>Wt({}));let r=[],n=[];const s=Zu({install(a){ul(s),s._a=a,a.provide(av,s),a.config.globalProperties.$pinia=s,n.forEach(c=>r.push(c)),n=[]},use(a){return!this._a&&!YI?n.push(a):r.push(a),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const cv=()=>{};function rm(t,e,r,n=cv){t.push(e);const s=()=>{const a=t.indexOf(e);a>-1&&(t.splice(a,1),n())};return!r&&o1()&&O8(s),s}function ro(t,...e){t.slice().forEach(r=>{r(...e)})}const XI=t=>t();function cd(t,e){t instanceof Map&&e instanceof Map&&e.forEach((r,n)=>t.set(n,r)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],s=t[r];ad(s)&&ad(n)&&t.hasOwnProperty(r)&&!Mt(n)&&!di(n)?t[r]=cd(s,n):t[r]=n}return t}const QI=Symbol();function ZI(t){return!ad(t)||!t.hasOwnProperty(QI)}const{assign:Ni}=Object;function eD(t){return!!(Mt(t)&&t.effect)}function tD(t,e,r,n){const{state:s,actions:a,getters:c}=e,u=r.state.value[t];let f;function h(){u||(r.state.value[t]=s?s():{});const p=oP(r.state.value[t]);return Ni(p,a,Object.keys(c||{}).reduce((m,b)=>(m[b]=Zu(tn(()=>{ul(r);const _=r._s.get(t);return c[b].call(_,_)})),m),{}))}return f=uv(t,h,e,r,n,!0),f}function uv(t,e,r={},n,s,a){let c;const u=Ni({actions:{}},r),f={deep:!0};let h,p,m=[],b=[],_;const x=n.state.value[t];!a&&!x&&(n.state.value[t]={}),Wt({});let N;function M(w){let Z;h=p=!1,typeof w=="function"?(w(n.state.value[t]),Z={type:Da.patchFunction,storeId:t,events:_}):(cd(n.state.value[t],w),Z={type:Da.patchObject,payload:w,storeId:t,events:_});const B=N=Symbol();sp().then(()=>{N===B&&(h=!0)}),p=!0,ro(m,Z,n.state.value[t])}const z=a?function(){const{state:Z}=r,B=Z?Z():{};this.$patch(V=>{Ni(V,B)})}:cv;function C(){c.stop(),m=[],b=[],n._s.delete(t)}function L(w,Z){return function(){ul(n);const B=Array.from(arguments),V=[],ee=[];function ae(Y){V.push(Y)}function E(Y){ee.push(Y)}ro(b,{args:B,name:w,store:T,after:ae,onError:E});let A;try{A=Z.apply(this&&this.$id===t?this:T,B)}catch(Y){throw ro(ee,Y),Y}return A instanceof Promise?A.then(Y=>(ro(V,Y),Y)).catch(Y=>(ro(ee,Y),Promise.reject(Y))):(ro(V,A),A)}}const D={_p:n,$id:t,$onAction:rm.bind(null,b),$patch:M,$reset:z,$subscribe(w,Z={}){const B=rm(m,w,Z.detached,()=>V()),V=c.run(()=>Bi(()=>n.state.value[t],ee=>{(Z.flush==="sync"?p:h)&&w({storeId:t,type:Da.direct,events:_},ee)},Ni({},f,Z)));return B},$dispose:C},T=Co(D);n._s.set(t,T);const P=n._a&&n._a.runWithContext||XI,d=n._e.run(()=>(c=s1(),P(()=>c.run(e))));for(const w in d){const Z=d[w];if(Mt(Z)&&!eD(Z)||di(Z))a||(x&&ZI(Z)&&(Mt(Z)?Z.value=x[w]:cd(Z,x[w])),n.state.value[t][w]=Z);else if(typeof Z=="function"){const B=L(w,Z);d[w]=B,u.actions[w]=Z}}return Ni(T,d),Ni(lt(T),d),Object.defineProperty(T,"$state",{get:()=>n.state.value[t],set:w=>{M(Z=>{Ni(Z,w)})}}),n._p.forEach(w=>{Ni(T,c.run(()=>w({store:T,app:n._a,pinia:n,options:u})))}),x&&a&&r.hydrate&&r.hydrate(T.$state,x),h=!0,p=!0,T}function rD(t,e,r){let n,s;const a=typeof e=="function";typeof t=="string"?(n=t,s=a?r:e):(s=t,n=t.id);function c(u,f){const h=YP();return u=u||(h?vn(av,null):null),u&&ul(u),u=ov,u._s.has(n)||(a?uv(n,e,s,u):tD(n,s,u)),u._s.get(n)}return c.$id=n,c}function ll(t){{t=lt(t);const e={};for(const r in t){const n=t[r];(Mt(n)||di(n))&&(e[r]=uP(t,r))}return e}}const nD="/logo.svg";function As(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new ED(t.type);return`${t.name}(${fl(t.inputs,{includeName:e})})`}function fl(t,{includeName:e=!1}={}){return t?t.map(r=>iD(r,{includeName:e})).join(e?", ":","):""}function iD(t,{includeName:e}){return t.type.startsWith("tuple")?`(${fl(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function zi(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Qt(t){return zi(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const sD="0.3.50",oD=t=>t,hl=t=>t,aD=()=>`viem@${sD}`;var lv=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},$u,fv;class De extends Error{constructor(e,r={}){var a;super(),$u.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:aD()});const n=r.cause instanceof De?r.cause.details:(a=r.cause)!=null&&a.message?r.cause.message:r.details,s=r.cause instanceof De&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: https://viem.sh${s}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=s,this.metaMessages=r.metaMessages,this.shortMessage=e}walk(e){return lv(this,$u,"m",fv).call(this,this,e)}}$u=new WeakSet,fv=function t(e,r){return r!=null&&r(e)?e:e.cause?lv(this,$u,"m",t).call(this,e.cause,r):e};class cD extends De{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class nm extends De{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class pp extends De{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${fl(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class dl extends De{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class uD extends De{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class lD extends De{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Qt(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class fD extends De{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class hD extends De{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"})}}class dD extends De{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class pD extends De{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class im extends De{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class Fu extends De{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class gD extends De{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class yD extends De{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class mD extends De{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${fl(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class bD extends De{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${As(e,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"})}}class vD extends De{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class wD extends De{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class _D extends De{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class ED extends De{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class xD extends De{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class hv extends De{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class dv extends De{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function To(t,{dir:e,size:r=32}={}){return typeof t=="string"?ki(t,{dir:e,size:r}):PD(t,{dir:e,size:r})}function ki(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new dv({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function PD(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new dv({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let s=0;s<r;s++){const a=e==="right";n[a?s:r-s-1]=t[a?s:t.length-s-1]}return n}class SD extends De{constructor({max:e,min:r,signed:n,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class ID extends De{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class DD extends De{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function po(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let s=0;s<r.length-1&&r[e==="left"?s:r.length-s-1].toString()==="0";s++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function Vi(t,{size:e}){if(Qt(t)>e)throw new DD({givenSize:Qt(t),maxSize:e})}function gp(t,e={}){const{signed:r}=e;e.size&&Vi(t,{size:e.size});const n=BigInt(t);if(!r)return n;const s=(t.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return n<=a?n:n-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function OD(t,e={}){let r=t;if(e.size&&(Vi(r,{size:e.size}),r=po(r)),po(r)==="0x00")return!1;if(po(r)==="0x01")return!0;throw new ID(r)}function $r(t,e={}){return Number(gp(t,e))}function AD(t,e={}){let r=mp(t);return e.size&&(Vi(r,{size:e.size}),r=po(r,{dir:"right"})),new TextDecoder().decode(r)}const CD=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bi(t,e={}){return typeof t=="number"||typeof t=="bigint"?ot(t,e):typeof t=="string"?yp(t,e):typeof t=="boolean"?pv(t,e):Mu(t,e)}function pv(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Vi(r,{size:e.size}),To(r,{size:e.size})):r}function Mu(t,e={}){let r="";for(let s=0;s<t.length;s++)r+=CD[t[s]];const n=`0x${r}`;return typeof e.size=="number"?(Vi(n,{size:e.size}),To(n,{dir:"right",size:e.size})):n}function ot(t,e={}){const{signed:r,size:n}=e,s=BigInt(t);let a;n?r?a=(1n<<BigInt(n)*8n-1n)-1n:a=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&r?-a-1n:0;if(a&&s>a||s<c){const f=typeof t=="bigint"?"n":"";throw new SD({max:a?`${a}${f}`:void 0,min:`${c}${f}`,signed:r,size:n,value:`${t}${f}`})}const u=`0x${(r&&s<0?(1n<<BigInt(n*8))+BigInt(s):s).toString(16)}`;return n?To(u,{size:n}):u}const TD=new TextEncoder;function yp(t,e={}){const r=TD.encode(t);return Mu(r,e)}const RD=new TextEncoder;function So(t,e={}){return typeof t=="number"||typeof t=="bigint"?$D(t,e):typeof t=="boolean"?ND(t,e):zi(t)?mp(t,e):Ds(t,e)}function ND(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Vi(r,{size:e.size}),To(r,{size:e.size})):r}function mp(t,e={}){let r=t;e.size&&(Vi(r,{size:e.size}),r=To(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const s=new Uint8Array(n.length/2);for(let a=0;a<s.length;a++){const c=a*2,u=n.slice(c,c+2),f=Number.parseInt(u,16);if(Number.isNaN(f)||f<0)throw new De(`Invalid byte sequence ("${u}" in "${n}").`);s[a]=f}return s}function $D(t,e){const r=ot(t,e);return mp(r)}function Ds(t,e={}){const r=RD.encode(t);return typeof e.size=="number"?(Vi(r,{size:e.size}),To(r,{dir:"right",size:e.size})):r}const FD=/((function|event)\s)?(.*)(\((.*)\))/;function gv(t){const e=t.match(FD),r=(e==null?void 0:e[2])||void 0,n=e==null?void 0:e[3],s=(e==null?void 0:e[5])||void 0;return{type:r,name:n,params:s}}function MD(t){return gv(t).name}function jD(t){const e=gv(t).params,r=e==null?void 0:e.split(",").map(n=>n.trim().split(" "));return r==null?void 0:r.map(n=>({type:n[0],name:n[1]==="indexed"?n[2]:n[1],...n[1]==="indexed"?{indexed:!0}:{}}))}function ud(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function LD(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function yv(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function UD(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ud(t.outputLen),ud(t.blockLen)}function BD(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function kD(t,e){yv(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const no={number:ud,bool:LD,bytes:yv,hash:UD,exists:BD,output:kD},hu=BigInt(2**32-1),ld=BigInt(32);function mv(t,e=!1){return e?{h:Number(t&hu),l:Number(t>>ld&hu)}:{h:Number(t>>ld&hu)|0,l:Number(t&hu)|0}}function HD(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:a,l:c}=mv(t[s],e);[r[s],n[s]]=[a,c]}return[r,n]}const zD=(t,e)=>BigInt(t>>>0)<<ld|BigInt(e>>>0),qD=(t,e,r)=>t>>>r,KD=(t,e,r)=>t<<32-r|e>>>r,VD=(t,e,r)=>t>>>r|e<<32-r,GD=(t,e,r)=>t<<32-r|e>>>r,WD=(t,e,r)=>t<<64-r|e>>>r-32,YD=(t,e,r)=>t>>>r-32|e<<64-r,JD=(t,e)=>e,XD=(t,e)=>t,QD=(t,e,r)=>t<<r|e>>>32-r,ZD=(t,e,r)=>e<<r|t>>>32-r,eO=(t,e,r)=>e<<r-32|t>>>64-r,tO=(t,e,r)=>t<<r-32|e>>>64-r;function rO(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const nO=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),iO=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,sO=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),oO=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,aO=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),cO=(t,e,r,n,s,a)=>e+r+n+s+a+(t/2**32|0)|0,La={fromBig:mv,split:HD,toBig:zD,shrSH:qD,shrSL:KD,rotrSH:VD,rotrSL:GD,rotrBH:WD,rotrBL:YD,rotr32H:JD,rotr32L:XD,rotlSH:QD,rotlSL:ZD,rotlBH:eO,rotlBL:tO,add:rO,add3L:nO,add3H:iO,add4L:sO,add4H:oO,add5H:cO,add5L:aO};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uO=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),lO=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!lO)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fO(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function bp(t){if(typeof t=="string"&&(t=fO(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class hO{clone(){return this._cloneInto()}}function dO(t){const e=n=>t().update(bp(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function pO(t){const e=(n,s)=>t(s).update(bp(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const[bv,vv,wv]=[[],[],[]],gO=BigInt(0),aa=BigInt(1),yO=BigInt(2),mO=BigInt(7),bO=BigInt(256),vO=BigInt(113);for(let t=0,e=aa,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],bv.push(2*(5*n+r)),vv.push((t+1)*(t+2)/2%64);let s=gO;for(let a=0;a<7;a++)e=(e<<aa^(e>>mO)*vO)%bO,e&yO&&(s^=aa<<(aa<<BigInt(a))-aa);wv.push(s)}const[wO,_O]=La.split(wv,!0),sm=(t,e,r)=>r>32?La.rotlBH(t,e,r):La.rotlSH(t,e,r),om=(t,e,r)=>r>32?La.rotlBL(t,e,r):La.rotlSL(t,e,r);function EO(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let c=0;c<10;c++)r[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,f=(c+2)%10,h=r[f],p=r[f+1],m=sm(h,p,1)^r[u],b=om(h,p,1)^r[u+1];for(let _=0;_<50;_+=10)t[c+_]^=m,t[c+_+1]^=b}let s=t[2],a=t[3];for(let c=0;c<24;c++){const u=vv[c],f=sm(s,a,u),h=om(s,a,u),p=bv[c];s=t[p],a=t[p+1],t[p]=f,t[p+1]=h}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)r[u]=t[c+u];for(let u=0;u<10;u++)t[c+u]^=~r[(u+2)%10]&r[(u+4)%10]}t[0]^=wO[n],t[1]^=_O[n]}r.fill(0)}class pl extends hO{constructor(e,r,n,s=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,no.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=uO(this.state)}keccak(){EO(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){no.exists(this);const{blockLen:r,state:n}=this;e=bp(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(r-this.pos,s-a);for(let u=0;u<c;u++)n[this.pos++]^=e[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){no.exists(this,!1),no.bytes(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,a=e.length;s<a;){this.posOut>=n&&this.keccak();const c=Math.min(n-this.posOut,a-s);e.set(r.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return no.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(no.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:a,enableXOF:c}=this;return e||(e=new pl(r,n,s,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}}const Gi=(t,e,r)=>dO(()=>new pl(e,t,r));Gi(6,144,224/8);Gi(6,136,256/8);Gi(6,104,384/8);Gi(6,72,512/8);Gi(1,144,224/8);const xO=Gi(1,136,256/8);Gi(1,104,384/8);Gi(1,72,512/8);const _v=(t,e,r)=>pO((n={})=>new pl(e,t,n.dkLen===void 0?r:n.dkLen,!0));_v(31,168,128/8);_v(31,136,256/8);function nn(t,e){const r=e||"hex",n=xO(zi(t,{strict:!1})?So(t):t);return r==="bytes"?n:bi(n)}const PO=t=>nn(So(t));function Ev(t){const e=MD(t),r=jD(t)||[];return PO(`${e}(${r.map(({type:n})=>n).join(",")})`)}const xv=t=>Ev(t);class Ua extends De{constructor({address:e}){super(`Address "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const SO=/^0x[a-fA-F0-9]{40}$/;function Io(t){return SO.test(t)}function gi(t){return typeof t[0]=="string"?vp(t):IO(t)}function IO(t){let e=0;for(const s of t)e+=s.length;const r=new Uint8Array(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return r}function vp(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function Xt(t,e,r,{strict:n}={}){return zi(t,{strict:!1})?OO(t,e,r,{strict:n}):DO(t,e,r,{strict:n})}function Pv(t,e){if(typeof e=="number"&&e>0&&e>Qt(t)-1)throw new hv({offset:e,position:"start",size:Qt(t)})}function Sv(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Qt(t)!==r-e)throw new hv({offset:r,position:"end",size:Qt(t)})}function DO(t,e,r,{strict:n}={}){Pv(t,e);const s=t.slice(e,r);return n&&Sv(s,e,r),s}function OO(t,e,r,{strict:n}={}){Pv(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&Sv(s,e,r),s}function Ka(t,e){if(t.length!==e.length)throw new fD({expectedLength:t.length,givenLength:e.length});const r=AO({params:t,values:e}),n=_p(r);return n.length===0?"0x":n}function AO({params:t,values:e}){const r=[];for(let n=0;n<t.length;n++)r.push(wp({param:t[n],value:e[n]}));return r}function wp({param:t,value:e}){const r=gl(t.type);if(r){const[n,s]=r;return TO(e,{length:n,param:{...t,type:s}})}if(t.type==="tuple")return MO(e,{param:t});if(t.type==="address")return CO(e);if(t.type==="bool")return NO(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const n=t.type.startsWith("int");return $O(e,{signed:n})}if(t.type.startsWith("bytes"))return RO(e,{param:t});if(t.type==="string")return FO(e);throw new vD(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function _p(t){let e=0;for(let a=0;a<t.length;a++){const{dynamic:c,encoded:u}=t[a];c?e+=32:e+=Qt(u)}const r=[],n=[];let s=0;for(let a=0;a<t.length;a++){const{dynamic:c,encoded:u}=t[a];c?(r.push(ot(e+s,{size:32})),n.push(u),s+=Qt(u)):r.push(u)}return gi([...r,...n])}function CO(t){if(!Io(t))throw new Ua({address:t});return{dynamic:!1,encoded:ki(t.toLowerCase())}}function TO(t,{length:e,param:r}){const n=e===null;if(!Array.isArray(t))throw new _D(t);if(!n&&t.length!==e)throw new uD({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let s=!1;const a=[];for(let c=0;c<t.length;c++){const u=wp({param:r,value:t[c]});u.dynamic&&(s=!0),a.push(u)}if(n||s){const c=_p(a);if(n){const u=ot(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?gi([u,c]):u}}if(s)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:gi(a.map(({encoded:c})=>c))}}function RO(t,{param:e}){const[r,n]=e.type.split("bytes");if(!n){const s=Math.ceil(Qt(t)/32),a=[];for(let c=0;c<s;c++)a.push(ki(Xt(t,c*32,(c+1)*32),{dir:"right"}));return{dynamic:!0,encoded:gi([ki(ot(Qt(t),{size:32})),...a])}}if(Qt(t)!==parseInt(n))throw new lD({expectedSize:parseInt(n),value:t});return{dynamic:!1,encoded:ki(t,{dir:"right"})}}function NO(t){return{dynamic:!1,encoded:ki(pv(t))}}function $O(t,{signed:e}){return{dynamic:!1,encoded:ot(t,{size:32,signed:e})}}function FO(t){const e=yp(t),r=Math.ceil(Qt(e)/32),n=[];for(let s=0;s<r;s++)n.push(ki(Xt(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:gi([ki(ot(Qt(e),{size:32})),...n])}}function MO(t,{param:e}){let r=!1;const n=[];for(let s=0;s<e.components.length;s++){const a=e.components[s],c=Array.isArray(t)?s:a.name,u=wp({param:a,value:t[c]});n.push(u),u.dynamic&&(r=!0)}return{dynamic:r,encoded:r?_p(n):gi(n.map(({encoded:s})=>s))}}function gl(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Va({abi:t,args:e=[],name:r}){const n=t.filter(s=>"name"in s&&s.name===r);if(n.length!==0){if(n.length===1)return n[0];for(const s of n){if(!("inputs"in s))continue;if(!e||e.length===0){if(!s.inputs||s.inputs.length===0)return s;continue}if(!s.inputs||s.inputs.length===0)continue;if(e.every((c,u)=>{const f="inputs"in s&&s.inputs[u];return f?fd(c,f):!1}))return s}return n[0]}}function fd(t,e){const r=typeof t,n=e.type;switch(n){case"address":return Io(t);case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((s,a)=>fd(Object.values(t)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(s=>fd(s,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ep({abi:t,eventName:e,args:r}){var u;let n=t[0];if(e&&(n=Va({abi:t,args:r,name:e}),!n))throw new im(e,{docsPath:"/docs/contract/encodeEventTopics"});if(n.type!=="event")throw new im(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const s=As(n),a=xv(s);let c=[];if(r&&"inputs"in n){const f=(u=n.inputs)==null?void 0:u.filter(p=>"indexed"in p&&p.indexed),h=Array.isArray(r)?r:(f==null?void 0:f.map(p=>r[p.name]))??[];c=(f==null?void 0:f.map((p,m)=>Array.isArray(h[m])?h[m].map((b,_)=>am({param:p,value:h[m][_]})):h[m]?am({param:p,value:h[m]}):null))??[]}return[a,...c]}function am({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return nn(So(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new xD(t.type);return Ka([t],[e])}function yl(t,{method:e}){var n,s;const r={};return t.transport.type==="fallback"&&((s=(n=t.transport).onResponse)==null||s.call(n,({method:a,response:c,status:u,transport:f})=>{u==="success"&&e===a&&(r[c]=f.request)})),a=>r[a]||t.request}async function Iv(t,{address:e,abi:r,args:n,eventName:s,fromBlock:a,toBlock:c}){const u=yl(t,{method:"eth_newFilter"}),f=s?Ep({abi:r,args:n,eventName:s}):void 0,h=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof a=="bigint"?ot(a):a,toBlock:typeof c=="bigint"?ot(c):c,topics:f}]});return{abi:r,args:n,eventName:s,id:h,request:u(h),type:"event"}}function $n(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const Dv=t=>Xt(Ev(t),0,4);function Wi({abi:t,args:e,functionName:r}){let n=t[0];if(r&&(n=Va({abi:t,args:e,name:r}),!n))throw new Fu(r,{docsPath:"/docs/contract/encodeFunctionData"});if(n.type!=="function")throw new Fu(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const s=As(n),a=Dv(s),c="inputs"in n&&n.inputs?Ka(n.inputs,e??[]):void 0;return vp([a,c??"0x"])}const Ov={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},jO={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},LO={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function xp(t,e){const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=nn(Ds(r),"bytes"),s=(e?r.substring(`${e}0x`.length):r).split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(n[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());return`0x${s.join("")}`}function UO(t,e){if(!Io(t))throw new Ua({address:t});return xp(t,e)}function ml(t,e){if(e==="0x"&&t.length>0)throw new dl;if(Qt(e)&&Qt(e)<32)throw new pp({data:e,params:t,size:Qt(e)});return BO({data:e,params:t})}function BO({data:t,params:e}){const r=[];let n=0;for(let s=0;s<e.length;s++){if(n>=Qt(t))throw new pp({data:t,params:e,size:Qt(t)});const a=e[s],{consumed:c,value:u}=go({data:t,param:a,position:n});r.push(u),n+=c}return r}function go({data:t,param:e,position:r}){const n=gl(e.type);if(n){const[a,c]=n;return HO(t,{length:a,param:{...e,type:c},position:r})}if(e.type==="tuple")return GO(t,{param:e,position:r});if(e.type==="string")return VO(t,{position:r});if(e.type.startsWith("bytes"))return qO(t,{param:e,position:r});const s=Xt(t,r,r+32,{strict:!0});if(e.type.startsWith("uint")||e.type.startsWith("int"))return KO(s,{param:e});if(e.type==="address")return kO(s);if(e.type==="bool")return zO(s);throw new wD(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function kO(t){return{consumed:32,value:xp(Xt(t,-20))}}function HO(t,{param:e,length:r,position:n}){if(!r){const c=$r(Xt(t,n,n+32,{strict:!0})),u=$r(Xt(t,c,c+32,{strict:!0}));let f=0;const h=[];for(let p=0;p<u;++p){const m=go({data:Xt(t,c+32),param:e,position:f});f+=m.consumed,h.push(m.value)}return{value:h,consumed:32}}if(ju(e)){const c=gl(e.type),u=!(c!=null&&c[0]);let f=0;const h=[];for(let p=0;p<r;++p){const m=$r(Xt(t,n,n+32,{strict:!0})),b=go({data:Xt(t,m),param:e,position:u?f:p*32});f+=b.consumed,h.push(b.value)}return{value:h,consumed:32}}let s=0;const a=[];for(let c=0;c<r;++c){const u=go({data:t,param:e,position:n+s});s+=u.consumed,a.push(u.value)}return{value:a,consumed:s}}function zO(t){return{consumed:32,value:OD(t)}}function qO(t,{param:e,position:r}){const[n,s]=e.type.split("bytes");if(!s){const c=$r(Xt(t,r,r+32,{strict:!0})),u=$r(Xt(t,c,c+32,{strict:!0}));return u===0?{consumed:32,value:"0x"}:{consumed:32,value:Xt(t,c+32,c+32+u,{strict:!0})}}return{consumed:32,value:Xt(t,r,r+parseInt(s),{strict:!0})}}function KO(t,{param:e}){const r=e.type.startsWith("int");return{consumed:32,value:parseInt(e.type.split("int")[1]||"256")>48?gp(t,{signed:r}):$r(t,{signed:r})}}function VO(t,{position:e}){const r=$r(Xt(t,e,e+32,{strict:!0})),n=$r(Xt(t,r,r+32,{strict:!0}));return n===0?{consumed:32,value:""}:{consumed:32,value:AD(po(Xt(t,r+32,r+32+n,{strict:!0})))}}function GO(t,{param:e,position:r}){const n=e.components.length===0||e.components.some(({name:c})=>!c),s=n?[]:{};let a=0;if(ju(e)){const c=$r(Xt(t,r,r+32,{strict:!0}));for(let u=0;u<e.components.length;++u){const f=e.components[u],h=go({data:Xt(t,c),param:f,position:a});a+=h.consumed,s[n?u:f==null?void 0:f.name]=h.value}return{consumed:32,value:s}}for(let c=0;c<e.components.length;++c){const u=e.components[c],f=go({data:t,param:u,position:r+a});a+=f.consumed,s[n?c:u==null?void 0:u.name]=f.value}return{consumed:a,value:s}}function ju(t){var n;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(n=t.components)==null?void 0:n.some(ju);const r=gl(t.type);return!!(r&&ju({...t,type:r[1]}))}function WO({abi:t,data:e}){const r=Xt(e,0,4);if(r==="0x")throw new dl;const s=[...t||[],jO,LO].find(a=>a.type==="error"&&r===Dv(As(a)));if(!s)throw new hD(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?ml(s.inputs,Xt(e,4)):void 0,errorName:s.name}}const Vr=(t,e,r)=>JSON.stringify(t,(n,s)=>{const a=typeof s=="bigint"?s.toString():s;return typeof e=="function"?e(n,a):a},r);function Av({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((s,a)=>`${n&&s.name?`${s.name}: `:""}${typeof e[a]=="object"?Vr(e[a]):e[a]}`).join(", ")})`}const YO={gwei:9,wei:18},JO={ether:-9,wei:9};function Cv(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[s,a]=[r.slice(0,r.length-e),r.slice(r.length-e)];return a=a.replace(/(0+)$/,""),`${n?"-":""}${s||"0"}${a?`.${a}`:""}`}function Pp(t,e="wei"){return Cv(t,YO[e])}function sn(t,e="wei"){return Cv(t,JO[e])}function bl(t){const e=Object.entries(t).map(([n,s])=>s===void 0||s===!1?null:[n,s]).filter(Boolean),r=e.reduce((n,[s])=>Math.max(n,s.length),0);return e.map(([n,s])=>`  ${`${n}:`.padEnd(r+1)}  ${s}`).join(`
`)}class XO extends De{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class QO extends De{constructor(e,{account:r,docsPath:n,chain:s,data:a,gas:c,gasPrice:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:m,value:b}){const _=bl({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:r==null?void 0:r.address,to:m,value:typeof b<"u"&&`${Pp(b)} ${(s==null?void 0:s.nativeCurrency.symbol)||"ETH"}`,data:a,gas:c,gasPrice:typeof u<"u"&&`${sn(u)} gwei`,maxFeePerGas:typeof f<"u"&&`${sn(f)} gwei`,maxPriorityFeePerGas:typeof h<"u"&&`${sn(h)} gwei`,nonce:p});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",_].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}class Tv extends De{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:s,index:a}){let c="Transaction";n&&a!==void 0&&(c=`Transaction at block time "${n}" at index "${a}"`),e&&a!==void 0&&(c=`Transaction at block hash "${e}" at index "${a}"`),r&&a!==void 0&&(c=`Transaction at block number "${r}" at index "${a}"`),s&&(c=`Transaction with hash "${s}"`),super(`${c} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class Rv extends De{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class ZO extends De{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class Nv extends De{constructor(e,{account:r,docsPath:n,chain:s,data:a,gas:c,gasPrice:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:m,value:b}){const _=r?$n(r):void 0,x=bl({from:_==null?void 0:_.address,to:m,value:typeof b<"u"&&`${Pp(b)} ${(s==null?void 0:s.nativeCurrency.symbol)||"ETH"}`,data:a,gas:c,gasPrice:typeof u<"u"&&`${sn(u)} gwei`,maxFeePerGas:typeof f<"u"&&`${sn(f)} gwei`,maxPriorityFeePerGas:typeof h<"u"&&`${sn(h)} gwei`,nonce:p});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",x].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class $v extends De{constructor(e,{abi:r,args:n,contractAddress:s,docsPath:a,functionName:c,sender:u}){const f=Va({abi:r,args:n,name:c}),h=f?Av({abiItem:f,args:n,includeFunctionName:!1,includeName:!1}):void 0,p=f?As(f,{includeName:!0}):void 0,m=bl({address:s&&oD(s),function:p,args:h&&h!=="()"&&`${[...Array((c==null?void 0:c.length)??0).keys()].map(()=>" ").join("")}${h}`,sender:u});super(e.shortMessage||`An unknown error occurred while executing the contract function "${c}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",m].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=s,this.functionName=c,this.sender=u}}class eA extends De{constructor({abi:e,data:r,functionName:n,message:s}){let a,c,u;if(r&&r!=="0x"){a=WO({abi:e,data:r});const{abiItem:f,errorName:h,args:p}=a;if(h==="Error")u=p[0];else if(h==="Panic"){const[m]=p;u=Ov[m]}else{const m=f?As(f,{includeName:!0}):void 0,b=f&&p?Av({abiItem:f,args:p,includeFunctionName:!1,includeName:!1}):void 0;c=[m?`Error: ${m}`:"",b&&b!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}else s&&(u=s);super(u&&u!=="execution reverted"?[`The contract function "${n}" reverted with the following reason:`,u].join(`
`):`The contract function "${n}" reverted.`,{metaMessages:c}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.reason=u,this.data=a}}class tA extends De{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class Sp extends De{constructor({data:e,message:r}){super(r||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}const rA=3;function Ba(t,{abi:e,address:r,args:n,docsPath:s,functionName:a,sender:c}){const{code:u,data:f,message:h,shortMessage:p}=t instanceof Sp?t:t instanceof De?t.walk(b=>"data"in b):{};let m=t;return t instanceof dl?m=new tA({functionName:a}):u===rA&&(f||h||p)&&(m=new eA({abi:e,data:typeof f=="object"?f.data:f,functionName:a,message:p??h})),new $v(m,{abi:e,args:n,contractAddress:r,docsPath:s,functionName:a,sender:c})}class Ga extends De{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class nA extends De{constructor(e,{account:r,docsPath:n,chain:s,data:a,gas:c,gasPrice:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:m,value:b}){const _=bl({from:r==null?void 0:r.address,to:m,value:typeof b<"u"&&`${Pp(b)} ${(s==null?void 0:s.nativeCurrency.symbol)||"ETH"}`,data:a,gas:c,gasPrice:typeof u<"u"&&`${sn(u)} gwei`,maxFeePerGas:typeof f<"u"&&`${sn(f)} gwei`,maxPriorityFeePerGas:typeof h<"u"&&`${sn(h)} gwei`,nonce:p});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",_].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}class yo extends De{constructor({cause:e,message:r}={}){var s;const n=(s=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(yo,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(yo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Lu extends De{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${sn(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(Lu,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class hd extends De{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${sn(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(hd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class dd extends De{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(dd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class pd extends De{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(pd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported/});class gd extends De{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(gd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class yd extends De{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(yd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class md extends De{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(md,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class bd extends De{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(bd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class vd extends De{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(vd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Uu extends De{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${sn(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${sn(n)} gwei`:""}).`].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(Uu,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class iA extends De{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.message}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}class Oa extends De{constructor({body:e,details:r,headers:n,status:s,url:a}){super("HTTP request failed.",{details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${hl(a)}`,e&&`Request body: ${Vr(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=n,this.status=s,this.url=a}}class sA extends De{constructor({body:e,details:r,url:n}){super("WebSocket request failed.",{details:r,metaMessages:[`URL: ${hl(n)}`,`Request body: ${Vr(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class ka extends De{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${hl(n)}`,`Request body: ${Vr(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code}}class wd extends De{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${hl(r)}`,`Request body: ${Vr(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const oA=-1;class Gr extends De{constructor(e,{code:r,docsPath:n,metaMessages:s,shortMessage:a}){super(a,{cause:e,docsPath:n,metaMessages:s||(e==null?void 0:e.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof ka?e.code:r??oA}}class Ro extends Gr{constructor(e,r){super(e,r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class aA extends Gr{constructor(e){super(e,{code:-32700,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}class cA extends Gr{constructor(e){super(e,{code:-32600,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}class uA extends Gr{constructor(e){super(e,{code:-32601,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}class lA extends Gr{constructor(e){super(e,{code:-32602,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}class fA extends Gr{constructor(e){super(e,{code:-32603,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}class Fv extends Gr{constructor(e){super(e,{code:-32e3,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}class hA extends Gr{constructor(e){super(e,{code:-32001,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}class dA extends Gr{constructor(e){super(e,{code:-32002,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}class Mv extends Gr{constructor(e){super(e,{code:-32003,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}class cm extends Gr{constructor(e){super(e,{code:-32004,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}class pA extends Gr{constructor(e){super(e,{code:-32005,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}class gA extends Gr{constructor(e){super(e,{code:-32006,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}class yA extends Ro{constructor(e){super(e,{code:4001,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}class mA extends Ro{constructor(e){super(e,{code:4100,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}class bA extends Ro{constructor(e){super(e,{code:4200,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}class vA extends Ro{constructor(e){super(e,{code:4900,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}class wA extends Ro{constructor(e){super(e,{code:4901,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}class _A extends Ro{constructor(e){super(e,{code:4902,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}class EA extends Gr{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}function Ip(t){return t instanceof Mv||t instanceof Fv||t instanceof ka&&t.code===yo.code}function Dp(t,e){var n;const r=t.details.toLowerCase();return Lu.nodeMessage.test(r)?new Lu({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):hd.nodeMessage.test(r)?new hd({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):dd.nodeMessage.test(r)?new dd({cause:t,nonce:e==null?void 0:e.nonce}):pd.nodeMessage.test(r)?new pd({cause:t,nonce:e==null?void 0:e.nonce}):gd.nodeMessage.test(r)?new gd({cause:t,nonce:e==null?void 0:e.nonce}):yd.nodeMessage.test(r)?new yd({cause:t}):md.nodeMessage.test(r)?new md({cause:t,gas:e==null?void 0:e.gas}):bd.nodeMessage.test(r)?new bd({cause:t,gas:e==null?void 0:e.gas}):vd.nodeMessage.test(r)?new vd({cause:t}):Uu.nodeMessage.test(r)?new Uu({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):r.match(yo.nodeMessage)||"code"in t.cause&&((n=t.cause)==null?void 0:n.code)===yo.code?new yo({cause:t,message:t.cause.details||t.details}):new iA({cause:t.cause.cause})}function xA(t,{docsPath:e,...r}){let n=t;return Ip(t)&&(n=Dp(t,r)),new nA(n,{docsPath:e,...r})}function Op(t,{formatter:e}){return e?Object.keys(e({})).reduce((n,s)=>(t!=null&&t.hasOwnProperty(s)&&(n[s]=t[s]),n),{}):{}}function No(t,{formatter:e}){return e(t)}function Ap(t){return{...t,gas:typeof t.gas<"u"?ot(t.gas):void 0,gasPrice:typeof t.gasPrice<"u"?ot(t.gasPrice):void 0,maxFeePerGas:typeof t.maxFeePerGas<"u"?ot(t.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof t.maxPriorityFeePerGas<"u"?ot(t.maxPriorityFeePerGas):void 0,nonce:typeof t.nonce<"u"?ot(t.nonce):void 0,value:typeof t.value<"u"?ot(t.value):void 0}}function vl(t){const{account:e,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:s,to:a}=t,c=e?$n(e):void 0;if(c&&!Io(c.address))throw new Ua({address:c.address});if(a&&!Io(a))throw new Ua({address:a});if(typeof r<"u"&&(typeof n<"u"||typeof s<"u"))throw new XO;if(n&&n>2n**256n-1n)throw new Lu({maxFeePerGas:n});if(s&&n&&s>n)throw new Uu({maxFeePerGas:n,maxPriorityFeePerGas:s})}class PA extends De{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const jv={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function Lv(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?$r(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?$r(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?jv[t.type]:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip2930"&&(delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e}function SA(t){var r;const e=(r=t.transactions)==null?void 0:r.map(n=>typeof n=="string"?n:Lv(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,difficulty:t.difficulty?BigInt(t.difficulty):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function Ha(t,{blockHash:e,blockNumber:r,blockTag:n="latest",includeTransactions:s=!1}={}){var u,f;const a=r!==void 0?ot(r):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,s]}):c=await t.request({method:"eth_getBlockByNumber",params:[a||n,s]}),!c)throw new PA({blockHash:e,blockNumber:r});return No(c,{formatter:((f=(u=t.chain)==null?void 0:u.formatters)==null?void 0:f.block)||SA})}async function Uv(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Bv(t,{address:e,blockTag:r="latest",blockNumber:n}){const s=await t.request({method:"eth_getTransactionCount",params:[e,n?ot(n):r]});return $r(s)}const bh=1500000000n;async function kv(t,e){const{account:r,gas:n,gasPrice:s,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:u}=e;if(!r)throw new Ga;const f=$n(r),h=await Ha(t,{blockTag:"latest"}),p={...e,from:f.address};if(typeof u>"u"&&(p.nonce=await Bv(t,{address:f.address,blockTag:"pending"})),h.baseFeePerGas){if(typeof s<"u")throw new De("Chain does not support legacy `gasPrice`.");if(typeof a>"u")p.maxPriorityFeePerGas=c??bh,p.maxFeePerGas=h.baseFeePerGas*120n/100n+p.maxPriorityFeePerGas;else{if(typeof c>"u"&&a<bh)throw new De("`maxFeePerGas` cannot be less than the default `maxPriorityFeePerGas` (1.5 gwei).");p.maxFeePerGas=a,p.maxPriorityFeePerGas=c??bh}}else{if(typeof a<"u"||typeof c<"u")throw new De("Chain does not support EIP-1559 fees.");typeof s>"u"&&(p.gasPrice=await Uv(t)*120n/100n)}return typeof n>"u"&&(p.gas=await Cp(t,{...p,account:{address:f.address,type:"json-rpc"}})),vl(p),p}async function Cp(t,e){var s,a;const r=e.account??t.account;if(!r)throw new Ga({docsPath:"/docs/actions/public/estimateGas"});const n=$n(r);try{const{accessList:c,blockNumber:u,blockTag:f,data:h,gas:p,gasPrice:m,maxFeePerGas:b,maxPriorityFeePerGas:_,nonce:x,to:N,value:M,...z}=n.type==="local"?await kv(t,e):e,L=(u?ot(u):void 0)||f;vl(e);const D=(a=(s=t.chain)==null?void 0:s.formatters)==null?void 0:a.transactionRequest,T=No({from:n.address,accessList:c,data:h,gas:p,gasPrice:m,maxFeePerGas:b,maxPriorityFeePerGas:_,nonce:x,to:N,value:M,...Op(z,{formatter:D})},{formatter:D||Ap}),P=await t.request({method:"eth_estimateGas",params:L?[T,L]:[T]});return BigInt(P)}catch(c){throw xA(c,{...e,account:n,chain:t.chain})}}async function IA(t,{abi:e,address:r,args:n,functionName:s,...a}){const c=Wi({abi:e,args:n,functionName:s});try{return await Cp(t,{data:c,to:r,...a})}catch(u){const f=a.account?$n(a.account):void 0;throw Ba(u,{abi:e,address:r,args:n,docsPath:"/docs/contract/simulateContract",functionName:s,sender:f==null?void 0:f.address})}}const vh="/docs/contract/decodeFunctionResult";function $o({abi:t,args:e,functionName:r,data:n}){let s=t[0];if(r&&(s=Va({abi:t,args:e,name:r}),!s))throw new Fu(r,{docsPath:vh});if(s.type!=="function")throw new Fu(void 0,{docsPath:vh});if(!s.outputs)throw new gD(s.name,{docsPath:vh});const a=ml(s.outputs,n);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const DA="modulepreload",OA=function(t){return"/"+t},um={},Hv=function(e,r,n){if(!r||r.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=OA(a),a in um)return;um[a]=!0;const c=a.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!n)for(let p=s.length-1;p>=0;p--){const m=s[p];if(m.href===a&&(!c||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":DA,c||(h.as="script",h.crossOrigin=""),h.href=a,document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e())},_d=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],zv=[{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],lm=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],fm=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]}],AA=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],CA="0x82ad56cb";class Ed extends De{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class TA extends De{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id}  ${e.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class RA extends De{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class qv extends De{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}function NA({chain:t,currentChainId:e}){if(!t)throw new RA;if(e!==t.id)throw new TA({chain:t,currentChainId:e})}function Fo({blockNumber:t,chain:e,contract:r}){var s;const n=(s=e==null?void 0:e.contracts)==null?void 0:s[r];if(!n)throw new Ed({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new Ed({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function $A(t,{docsPath:e,...r}){let n=t;return Ip(t)&&(n=Dp(t,r)),new Nv(n,{docsPath:e,...r})}const wh=new Map;function FA({fn:t,id:e,shouldSplitBatch:r,wait:n=0}){const s=async()=>{const h=u();a();const p=h.map(({args:m})=>m);p.length!==0&&t(p).then(m=>{h.forEach(({pendingPromise:b},_)=>{var x;return(x=b.resolve)==null?void 0:x.call(b,[m[_],m])})}).catch(m=>{h.forEach(({pendingPromise:b})=>{var _;return(_=b.reject)==null?void 0:_.call(b,m)})})},a=()=>wh.delete(e),c=()=>u().map(({args:h})=>h),u=()=>wh.get(e)||[],f=h=>wh.set(e,[...u(),h]);return{flush:a,async schedule(h){const p={},m=new Promise((x,N)=>{p.resolve=x,p.reject=N});return(r==null?void 0:r([...c(),h]))&&s(),u().length>0?(f({args:h,pendingPromise:p}),m):(f({args:h,pendingPromise:p}),setTimeout(s,n),m)}}}async function wl(t,e){var z,C,L;const{account:r,batch:n=!!((z=t.batch)!=null&&z.multicall),blockNumber:s,blockTag:a="latest",accessList:c,data:u,gas:f,gasPrice:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:b,to:_,value:x,...N}=e,M=r?$n(r):void 0;try{vl(e);const T=(s?ot(s):void 0)||a,P=(L=(C=t.chain)==null?void 0:C.formatters)==null?void 0:L.transactionRequest,d=No({from:M==null?void 0:M.address,accessList:c,data:u,gas:f,gasPrice:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:b,to:_,value:x,...Op(N,{formatter:P})},{formatter:P||Ap});if(n&&MA({request:d}))try{return await jA(t,{...d,blockNumber:s,blockTag:a})}catch(Z){if(!(Z instanceof qv)&&!(Z instanceof Ed))throw Z}const w=await t.request({method:"eth_call",params:T?[d,T]:[d]});return w==="0x"?{data:void 0}:{data:w}}catch(D){const T=LA(D),{offchainLookup:P,offchainLookupSignature:d}=await Hv(()=>import("./ccip-534b8a52.js"),[]);if((T==null?void 0:T.slice(0,10))===d&&_)return{data:await P(t,{data:T,to:_})};throw $A(D,{...e,account:M,chain:t.chain})}}function MA({request:t}){const{data:e,to:r,...n}=t;return!(!e||e.startsWith(CA)||!r||Object.values(n).filter(s=>typeof s<"u").length>0)}async function jA(t,e){var N,M;const{batchSize:r=1024,wait:n=0}=typeof((N=t.batch)==null?void 0:N.multicall)=="object"?(M=t.batch)==null?void 0:M.multicall:{},{blockNumber:s,blockTag:a="latest",data:c,multicallAddress:u,to:f}=e;let h=u;if(!h){if(!t.chain)throw new qv;h=Fo({blockNumber:s,chain:t.chain,contract:"multicall3"})}const m=(s?ot(s):void 0)||a,{schedule:b}=FA({id:`${t.uid}.${m}`,wait:n,shouldSplitBatch(z){return z.reduce((L,{data:D})=>L+(D.length-2),0)>r*2},fn:async z=>{const C=z.map(T=>({allowFailure:!0,callData:T.data,target:T.to})),L=Wi({abi:_d,args:[C],functionName:"aggregate3"}),D=await t.request({method:"eth_call",params:[{data:L,to:h},m]});return $o({abi:_d,args:[C],functionName:"aggregate3",data:D||"0x"})}}),[{returnData:_,success:x}]=await b({data:c,to:f});if(!x)throw new Sp({data:_});return _==="0x"?{data:void 0}:{data:_}}function LA(t){if(!(t instanceof De))return;const e=t.walk();return typeof e.data=="object"?e.data.data:e.data}async function qi(t,{abi:e,address:r,args:n,functionName:s,...a}){const c=Wi({abi:e,args:n,functionName:s});try{const{data:u}=await wl(t,{data:c,to:r,...a});return $o({abi:e,args:n,functionName:s,data:u||"0x"})}catch(u){throw Ba(u,{abi:e,address:r,args:n,docsPath:"/docs/contract/readContract",functionName:s})}}async function UA(t,{abi:e,address:r,args:n,dataSuffix:s,functionName:a,...c}){const u=c.account?$n(c.account):void 0,f=Wi({abi:e,args:n,functionName:a});try{const{data:h}=await wl(t,{batch:!1,data:`${f}${s?s.replace("0x",""):""}`,to:r,...c});return{result:$o({abi:e,args:n,functionName:a,data:h||"0x"}),request:{abi:e,address:r,args:n,functionName:a,...c}}}catch(h){throw Ba(h,{abi:e,address:r,args:n,docsPath:"/docs/contract/simulateContract",functionName:a,sender:u==null?void 0:u.address})}}const _h=new Map,hm=new Map;let BA=0;function Mo(t,e,r){const n=++BA,s=()=>_h.get(t)||[],a=()=>{const p=s();_h.set(t,p.filter(m=>m.id!==n))},c=()=>{const p=hm.get(t);s().length===1&&p&&p(),a()},u=s();if(_h.set(t,[...u,{id:n,fns:e}]),u&&u.length>0)return c;const f={};for(const p in e)f[p]=(...m)=>{const b=s();b.length!==0&&b.forEach(_=>{var x,N;return(N=(x=_.fns)[p])==null?void 0:N.call(x,...m)})};const h=r(f);return typeof h=="function"&&hm.set(t,h),c}async function xd(t){return new Promise(e=>setTimeout(e,t))}function Wa(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let s=!0;const a=()=>s=!1;return(async()=>{let u;e&&(u=await t({unpoll:a}));const f=await(r==null?void 0:r(u))??n;await xd(f);const h=async()=>{s&&(await t({unpoll:a}),await xd(n),h())};h()})(),a}const kA=new Map,HA=new Map;function zA(t){const e=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:c=>a.set(s,c)}),r=e(t,kA),n=e(t,HA);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function qA(t,{cacheKey:e,maxAge:r=1/0}){const n=zA(e),s=n.response.get();if(s&&r>0&&new Date().getTime()-s.created.getTime()<r)return s.data;let a=n.promise.get();a||(a=t(),n.promise.set(a));try{const c=await a;return n.response.set({created:new Date,data:c}),c}finally{n.promise.clear()}}const KA=t=>`blockNumber.${t}`;async function Ya(t,{maxAge:e=t.pollingInterval}={}){const r=await qA(()=>t.request({method:"eth_blockNumber"}),{cacheKey:KA(t.uid),maxAge:e});return BigInt(r)}const dm="/docs/contract/decodeEventLog";function Tp({abi:t,data:e,topics:r}){const[n,...s]=r;if(!n)throw new dD({docsPath:dm});const a=t.find(b=>b.type==="event"&&n===xv(As(b)));if(!(a&&"name"in a))throw new pD(n,{docsPath:dm});const{name:c,inputs:u}=a,f=u==null?void 0:u.some(b=>!("name"in b&&b.name));let h=f?[]:{};const p=u.filter(b=>"indexed"in b&&b.indexed);if(s.length>0)for(let b=0;b<p.length;b++){const _=p[b],x=s[b];if(!x)throw new bD({abiItem:a,param:_});h[_.name||b]=VA({param:_,value:x})}const m=u.filter(b=>!("indexed"in b&&b.indexed));if(e&&e!=="0x")try{const b=ml(m,e);if(b)if(f)h=[...h,...b];else for(let _=0;_<m.length;_++)h[m[_].name]=b[_]}catch(b){throw b instanceof pp?new mD({data:b.data,params:b.params,size:b.size}):b}return{eventName:c,args:Object.values(h).length>0?h:void 0}}function VA({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(ml([t],e)||[])[0]}function _l(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?BigInt(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?BigInt(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}async function El(t,{filter:e}){return(await e.request({method:"eth_getFilterChanges",params:[e.id]})).map(n=>{if(typeof n=="string")return n;try{const{eventName:s,args:a}="abi"in e&&e.abi?Tp({abi:e.abi,data:n.data,topics:n.topics}):{eventName:void 0,args:void 0};return _l(n,{args:a,eventName:s})}catch{return}}).filter(Boolean)}async function Rp(t,{address:e,blockHash:r,fromBlock:n,toBlock:s,event:a,args:c}={}){let u=[];a&&(u=Ep({abi:[a],eventName:a.name,args:c}));let f;return r?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:u,blockHash:r}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:u,fromBlock:typeof n=="bigint"?ot(n):n,toBlock:typeof s=="bigint"?ot(s):s}]}),f.map(h=>{try{const{eventName:p,args:m}=a?Tp({abi:[a],data:h.data,topics:h.topics}):{eventName:void 0,args:void 0};return _l(h,{args:m,eventName:p})}catch{return}}).filter(Boolean)}async function xl(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function GA(t,{abi:e,address:r,args:n,batch:s=!0,eventName:a,onError:c,onLogs:u,pollingInterval:f=t.pollingInterval}){const h=Vr(["watchContractEvent",r,n,s,t.uid,a,f]);return Mo(h,{onLogs:u,onError:c},p=>{let m,b,_=!1;const x=Wa(async()=>{var N;if(!_){try{b=await Iv(t,{abi:e,address:r,args:n,eventName:a})}catch{}_=!0;return}try{let M;if(b)M=await El(t,{filter:b});else{const z=await Ya(t);m&&m!==z?M=await Rp(t,{address:r,args:n,fromBlock:m+1n,toBlock:z,event:Va({abi:e,name:a})}):M=[],m=z}if(M.length===0)return;s?p.onLogs(M):M.forEach(z=>p.onLogs([z]))}catch(M){(N=p.onError)==null||N.call(p,M)}},{emitOnBegin:!0,interval:f});return async()=>{b&&await xl(t,{filter:b}),x()}})}function WA(t,{docsPath:e,...r}){let n=t;return Ip(t)&&(n=Dp(t,r)),new QO(n,{docsPath:e,...r})}async function Bu(t){const e=await t.request({method:"eth_chainId"});return $r(e)}async function Np(t,e){var N;const{account:r=t.account,chain:n=t.chain,accessList:s,data:a,gas:c,gasPrice:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:m,value:b,..._}=e;if(!r)throw new Ga({docsPath:"/docs/actions/wallet/sendTransaction"});const x=$n(r);try{vl(e);let M;if(n!==null&&(M=await Bu(t),NA({currentChainId:M,chain:n})),x.type==="local"){const L=await kv(t,{account:x,accessList:s,chain:n,data:a,gas:c,gasPrice:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:m,value:b,..._});M||(M=await Bu(t));const D=await x.signTransaction({chainId:M,...L});return await t.request({method:"eth_sendRawTransaction",params:[D]})}const z=(N=n==null?void 0:n.formatters)==null?void 0:N.transactionRequest,C=No({accessList:s,data:a,from:x.address,gas:c,gasPrice:u,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:m,value:b,...Op(_,{formatter:z})},{formatter:z||Ap});return await t.request({method:"eth_sendTransaction",params:[C]})}catch(M){throw WA(M,{...e,account:x,chain:e.chain||void 0})}}async function YA(t,{abi:e,address:r,args:n,dataSuffix:s,functionName:a,...c}){const u=Wi({abi:e,args:n,functionName:a});return await Np(t,{data:`${u}${s?s.replace("0x",""):""}`,to:r,...c})}async function Kv(t,{address:e,args:r,event:n,fromBlock:s,toBlock:a}={}){const c=yl(t,{method:"eth_newFilter"});let u=[];n&&(u=Ep({abi:[n],eventName:n.name,args:r}));const f=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?ot(s):s,toBlock:typeof a=="bigint"?ot(a):a,...u.length?{topics:u}:{}}]});return{abi:n?[n]:void 0,args:r,eventName:n?n.name:void 0,id:f,request:c(f),type:"event"}}const Eh="/docs/contract/encodeDeployData";function Vv({abi:t,args:e,bytecode:r}){if(!e||e.length===0)return r;const n=t.find(a=>"type"in a&&a.type==="constructor");if(!n)throw new cD({docsPath:Eh});if(!("inputs"in n))throw new nm({docsPath:Eh});if(!n.inputs||n.inputs.length===0)throw new nm({docsPath:Eh});const s=Ka(n.inputs,e);return vp([r,s])}function JA(t,{abi:e,args:r,bytecode:n,...s}){const a=Vv({abi:e,args:r,bytecode:n});return Np(t,{...s,data:a})}async function XA(t,{address:e,blockNumber:r,blockTag:n="latest"}){const s=r?ot(r):void 0,a=await t.request({method:"eth_getBalance",params:[e,s||n]});return BigInt(a)}async function QA(t,{blockHash:e,blockNumber:r,blockTag:n="latest"}={}){const s=r!==void 0?ot(r):void 0;let a=null;return e?a=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]}):a=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||n]}),$r(a)}async function ZA(t,{address:e,blockNumber:r,blockTag:n="latest"}){const s=r!==void 0?ot(r):void 0,a=await t.request({method:"eth_getCode",params:[e,s||n]});if(a!=="0x")return a}function Gv(t){let e=new Uint8Array(32).fill(0);if(!t)return Mu(e);const r=t.split(".");for(let n=r.length-1;n>=0;n-=1){const s=nn(Ds(r[n]),"bytes");e=nn(gi([e,s]),"bytes")}return Mu(e)}function Pl(t){function e(c){return c==="."||c===".."?1:Ds(c.replace(/^\.|\.$/gm,"")).length+2}const r=new Uint8Array(e(t)),n=t.replace(/^\.|\.$/gm,"");if(!n.length)return r;let s=0;const a=n.split(".");for(let c=0;c<a.length;c++){const u=Ds(a[c]);r[s]=u.length,r.set(u,s+1),s+=u.length+1}return r}async function eC(t,{blockNumber:e,blockTag:r,name:n,universalResolverAddress:s}){let a=s;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Fo({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const c=await qi(t,{address:a,abi:zv,functionName:"resolve",args:[bi(Pl(n)),Wi({abi:fm,functionName:"addr",args:[Gv(n)]})],blockNumber:e,blockTag:r});if(c[0]==="0x")return null;const u=$o({abi:fm,functionName:"addr",data:c[0]});return po(u)==="0x00"?null:u}async function tC(t,{address:e,blockNumber:r,blockTag:n,universalResolverAddress:s}){let a=s;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Fo({blockNumber:r,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{return(await qi(t,{address:a,abi:[{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],functionName:"reverse",args:[bi(Pl(c))],blockNumber:r,blockTag:n}))[0]}catch(u){if(u instanceof $v&&u.cause.reason===Ov[50])return null;throw u}}async function rC(t,{blockNumber:e,blockTag:r,name:n,universalResolverAddress:s}){let a=s;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Fo({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const[c]=await qi(t,{address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[bi(Pl(n))],blockNumber:e,blockTag:r});return c}function nC(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(r=>BigInt(r)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(r=>r.map(n=>BigInt(n)))}}async function iC(t,{blockCount:e,blockNumber:r,blockTag:n="latest",rewardPercentiles:s}){const a=r?ot(r):void 0,c=await t.request({method:"eth_feeHistory",params:[ot(e),a||n,s]});return nC(c)}async function sC(t,{filter:e}){return(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(n=>{try{const{eventName:s,args:a}="abi"in e&&e.abi?Tp({abi:e.abi,data:n.data,topics:n.topics}):{eventName:void 0,args:void 0};return _l(n,{args:a,eventName:s})}catch{return}}).filter(Boolean)}async function oC(t,{address:e,blockNumber:r,blockTag:n="latest",slot:s}){const a=r!==void 0?ot(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,a||n]})}async function $p(t,{blockHash:e,blockNumber:r,blockTag:n="latest",hash:s,index:a}){var f,h;const c=r!==void 0?ot(r):void 0;let u=null;if(s?u=await t.request({method:"eth_getTransactionByHash",params:[s]}):e?u=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,ot(a)]}):(c||n)&&(u=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[c||n,ot(a)]})),!u)throw new Tv({blockHash:e,blockNumber:r,blockTag:n,hash:s,index:a});return No(u,{formatter:((h=(f=t.chain)==null?void 0:f.formatters)==null?void 0:h.transaction)||Lv})}async function aC(t,{hash:e,transactionReceipt:r}){const[n,s]=await Promise.all([Ya(t),e?$p(t,{hash:e}):void 0]),a=(r==null?void 0:r.blockNumber)||(s==null?void 0:s.blockNumber);return a?n-a+1n:0n}const cC={"0x0":"reverted","0x1":"success"};function uC(t){return{...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(e=>_l(e)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?$r(t.transactionIndex):null,status:t.status?cC[t.status]:null,type:t.type?jv[t.type]:null}}async function Pd(t,{hash:e}){var n,s;const r=await t.request({method:"eth_getTransactionReceipt",params:[e]});if(!r)throw new Rv({hash:e});return No(r,{formatter:((s=(n=t.chain)==null?void 0:n.formatters)==null?void 0:s.transactionReceipt)||uC})}async function lC(t,e){var N;const{allowFailure:r=!0,batchSize:n,blockNumber:s,blockTag:a,contracts:c,multicallAddress:u}=e,f=n??(typeof((N=t.batch)==null?void 0:N.multicall)=="object"&&t.batch.multicall.batchSize||1024),h=c;let p=u;if(!p){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");p=Fo({blockNumber:s,chain:t.chain,contract:"multicall3"})}const m=[[]];let b=0,_=0;for(let M=0;M<h.length;M++){const{abi:z,address:C,args:L,functionName:D}=h[M];try{const T=Wi({abi:z,args:L,functionName:D});_+=T.length,f>0&&_>f&&(b++,_=(T.length-2)/2,m[b]=[]),m[b]=[...m[b],{allowFailure:!0,callData:T,target:C}]}catch(T){const P=Ba(T,{abi:z,address:C,args:L,docsPath:"/docs/contract/multicall",functionName:D});if(!r)throw P;m[b]=[...m[b],{allowFailure:!0,callData:"0x",target:C}]}}return(await Promise.all(m.map(M=>qi(t,{abi:_d,address:p,args:[M],blockNumber:s,blockTag:a,functionName:"aggregate3"})))).flat().map(({returnData:M,success:z},C)=>{const L=m.flat(),{callData:D}=L[C],{abi:T,address:P,functionName:d,args:w}=h[C];try{if(D==="0x")throw new dl;if(!z)throw new Sp({data:M});const Z=$o({abi:T,data:M,functionName:d});return r?{result:Z,status:"success"}:Z}catch(Z){const B=Ba(Z,{abi:T,address:P,args:w,docsPath:"/docs/contract/multicall",functionName:d});if(!r)throw B;return{error:B,result:void 0,status:"failure"}}})}function fC(t,{blockTag:e="latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:s,onError:a,includeTransactions:c=!1,poll:u,pollingInterval:f=t.pollingInterval}){const h=typeof u<"u"?u:t.transport.type!=="webSocket";let p;return h?(()=>{const _=Vr(["watchBlocks",t.uid,r,n,c,f]);return Mo(_,{onBlock:s,onError:a},x=>Wa(async()=>{var N;try{const M=await Ha(t,{blockTag:e,includeTransactions:c});if(M.number&&(p!=null&&p.number)){if(M.number===p.number)return;if(M.number-p.number>1&&r)for(let z=(p==null?void 0:p.number)+1n;z<M.number;z++){const C=await Ha(t,{blockNumber:z,includeTransactions:c});x.onBlock(C,p),p=C}}(!(p!=null&&p.number)||e==="pending"&&!(M!=null&&M.number)||M.number&&M.number>p.number)&&(x.onBlock(M,p),p=M)}catch(M){(N=x.onError)==null||N.call(x,M)}},{emitOnBegin:n,interval:f}))})():(()=>{let _=!0,x=()=>_=!1;return(async()=>{try{const{unsubscribe:N}=await t.transport.subscribe({params:["newHeads"],onData(M){if(!_)return;const z=M.result;s(z,p),p=z},onError(M){a==null||a(M)}});x=N,_||x()}catch(N){a==null||a(N)}})(),x})()}function Wv(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:s,poll:a,pollingInterval:c=t.pollingInterval}){const u=typeof a<"u"?a:t.transport.type!=="webSocket";let f;return u?(()=>{const m=Vr(["watchBlockNumber",t.uid,e,r,c]);return Mo(m,{onBlockNumber:n,onError:s},b=>Wa(async()=>{var _;try{const x=await Ya(t,{maxAge:0});if(f){if(x===f)return;if(x-f>1&&r)for(let N=f+1n;N<x;N++)b.onBlockNumber(N,f),f=N}(!f||x>f)&&(b.onBlockNumber(x,f),f=x)}catch(x){(_=b.onError)==null||_.call(b,x)}},{emitOnBegin:e,interval:c}))})():(()=>{let m=!0,b=()=>m=!1;return(async()=>{try{const{unsubscribe:_}=await t.transport.subscribe({params:["newHeads"],onData(x){var M;if(!m)return;const N=gp((M=x.result)==null?void 0:M.number);n(N,f),f=N},onError(x){s==null||s(x)}});b=_,m||b()}catch(_){s==null||s(_)}})(),b})()}function hC(t,{address:e,args:r,batch:n=!0,event:s,onError:a,onLogs:c,pollingInterval:u=t.pollingInterval}){const f=Vr(["watchEvent",e,r,n,t.uid,s,u]);return Mo(f,{onLogs:c,onError:a},h=>{let p,m,b=!1;const _=Wa(async()=>{var x;if(!b){try{m=await Kv(t,{address:e,args:r,event:s})}catch{}b=!0;return}try{let N;if(m)N=await El(t,{filter:m});else{const M=await Ya(t);p&&p!==M?N=await Rp(t,{address:e,args:r,fromBlock:p+1n,toBlock:M,event:s}):N=[],p=M}if(N.length===0)return;n?h.onLogs(N):N.forEach(M=>h.onLogs([M]))}catch(N){(x=h.onError)==null||x.call(h,N)}},{emitOnBegin:!0,interval:u});return async()=>{m&&await xl(t,{filter:m}),_()}})}async function Yv(t){const e=yl(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}function dC(t,{batch:e=!0,onError:r,onTransactions:n,poll:s,pollingInterval:a=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket")?(()=>{const h=Vr(["watchPendingTransactions",t.uid,e,a]);return Mo(h,{onTransactions:n,onError:r},p=>{let m;const b=Wa(async()=>{var _;try{if(!m)try{m=await Yv(t);return}catch(N){throw b(),N}const x=await El(t,{filter:m});if(x.length===0)return;e?p.onTransactions(x):x.forEach(N=>p.onTransactions([N]))}catch(x){(_=p.onError)==null||_.call(p,x)}},{emitOnBegin:!0,interval:a});return async()=>{m&&await xl(t,{filter:m}),b()}})})():(()=>{let h=!0,p=()=>h=!1;return(async()=>{try{const{unsubscribe:m}=await t.transport.subscribe({params:["newPendingTransactions"],onData(b){if(!h)return;const _=b.result;n([_])},onError(b){r==null||r(b)}});p=m,h||p()}catch(m){r==null||r(m)}})(),p})()}function Jv(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((s,a)=>{const c=async({count:u=0}={})=>{const f=async({error:h})=>{const p=typeof e=="function"?e({count:u,error:h}):e;p&&await xd(p),c({count:u+1})};try{const h=await t();s(h)}catch(h){if(u<r&&await n({count:u,error:h}))return f({error:h});a(h)}};c()})}async function pC(t,{confirmations:e=1,hash:r,onReplaced:n,pollingInterval:s=t.pollingInterval,timeout:a}){const c=Vr(["waitForTransactionReceipt",t.uid,r]);let u,f,h,p=!1;return new Promise((m,b)=>{a&&setTimeout(()=>b(new ZO({hash:r})),a);const _=Mo(c,{onReplaced:n,resolve:m,reject:b},x=>{const N=Wv(t,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(M){if(p)return;let z=M;const C=async L=>{N(),L(),_()};try{if(h){if(z-h.blockNumber+1n<e)return;C(()=>x.resolve(h));return}if(u||(p=!0,await Jv(async()=>{u=await $p(t,{hash:r}),u.blockNumber&&(z=u.blockNumber)},{delay:({count:L})=>~~(1<<L)*200,retryCount:6}),p=!1),h=await Pd(t,{hash:r}),e>0&&z-h.blockNumber+1n<e)return;C(()=>x.resolve(h))}catch(L){if(u&&(L instanceof Tv||L instanceof Rv)){f=u;const T=(await Ha(t,{blockNumber:z,includeTransactions:!0})).transactions.find(({from:d,nonce:w})=>d===f.from&&w===f.nonce);if(!T||(h=await Pd(t,{hash:T.hash}),z-h.blockNumber+1n<e))return;let P="replaced";T.to===f.to&&T.value===f.value?P="repriced":T.from===T.to&&T.value===0n&&(P="cancelled"),C(()=>{var d;(d=x.onReplaced)==null||d.call(x,{reason:P,replacedTransaction:f,transaction:T,transactionReceipt:h}),x.resolve(h)})}else C(()=>x.reject(L))}}});return N})})}async function gC(t,e){return t.request({method:"wallet_requestPermissions",params:[e]})}async function yC(t,{account:e=t.account,message:r}){if(!e)throw new Ga({docsPath:"/docs/actions/wallet/signMessage"});const n=$n(e);if(n.type==="local")return n.signMessage({message:r});const s=(()=>typeof r=="string"?yp(r):r.raw instanceof Uint8Array?bi(r.raw):r.raw)();return t.request({method:"personal_sign",params:[s,n.address]})}const mC=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,bC=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Xv({domain:t,message:e,primaryType:r,types:n}){const s=n,a=(c,u)=>{for(const f of c){const{name:h,type:p}=f,m=p,b=u[h],_=m.match(bC);if(_&&(typeof b=="number"||typeof b=="bigint")){const[M,z,C]=_;ot(b,{signed:z==="int",size:parseInt(C)/8})}if(m==="address"&&typeof b=="string"&&!Io(b))throw new Ua({address:b});const x=m.match(mC);if(x){const[M,z]=x;if(z&&Qt(b)!==parseInt(z))throw new yD({expectedSize:parseInt(z),givenSize:Qt(b)})}const N=s[m];N&&a(N,b)}};if(s.EIP712Domain&&t&&a(s.EIP712Domain,t),r!=="EIP712Domain"){const c=s[r];a(c,e)}}async function vC(t,{account:e=t.account,domain:r,message:n,primaryType:s,types:a}){if(!e)throw new Ga({docsPath:"/docs/actions/wallet/signTypedData"});const c=$n(e),u={EIP712Domain:[(r==null?void 0:r.name)&&{name:"name",type:"string"},(r==null?void 0:r.version)&&{name:"version",type:"string"},(r==null?void 0:r.chainId)&&{name:"chainId",type:"uint256"},(r==null?void 0:r.verifyingContract)&&{name:"verifyingContract",type:"address"},(r==null?void 0:r.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean),...a};if(Xv({domain:r,message:n,primaryType:s,types:u}),c.type==="local")return c.signTypedData({domain:r,primaryType:s,types:u,message:n});const f=Vr({domain:r??{},primaryType:s,types:u,message:n},(h,p)=>zi(p)?p.toLowerCase():p);return t.request({method:"eth_signTypedData_v4",params:[c.address,f]})}async function wC(t,e){return await t.request({method:"wallet_watchAsset",params:e})}const Sd=256;let du=Sd,pu;function _C(t=11){if(!pu||du+t>Sd*2){pu="",du=0;for(let e=0;e<Sd;e++)pu+=(256+Math.random()*256|0).toString(16).substring(1)}return pu.substring(du,du+++t)}function Qv({chain:t,key:e="base",name:r="Base Client",pollingInterval:n=4e3,transport:s,type:a="base"}){const{config:c,request:u,value:f}=s({chain:t,pollingInterval:n});return{chain:t,key:e,name:r,pollingInterval:n,request:u,transport:{...c,...f},type:a,uid:_C()}}const EC=t=>"code"in t?t.code!==-1&&t.code!==-32004&&t.code!==-32005&&t.code!==-32042&&t.code!==-32603:t instanceof Oa&&t.status?t.status!==403&&t.status!==408&&t.status!==413&&t.status!==429&&t.status!==500&&t.status!==502&&t.status!==503&&t.status!==504:!1;function xC(t,{retryDelay:e=150,retryCount:r=3}={}){return async n=>Jv(async()=>{try{return await t(n)}catch(s){const a=s;throw a.code===-32700?new aA(a):a.code===-32600?new cA(a):a.code===-32601?new uA(a):a.code===-32602?new lA(a):a.code===-32603?new fA(a):a.code===-32e3?new Fv(a):a.code===-32001?new hA(a):a.code===-32002?new dA(a):a.code===-32003?new Mv(a):a.code===-32004?new cm(a):a.code===-32005?new pA(a):a.code===-32006?new gA(a):a.code===-32042?new cm(a):a.code===4001?new yA(a):a.code===4100?new mA(a):a.code===4200?new bA(a):a.code===4900?new vA(a):a.code===4901?new wA(a):a.code===4902?new _A(a):s instanceof De?s:new EA(a)}},{delay:({count:s,error:a})=>{var c;if(a&&a instanceof Oa){const u=(c=a==null?void 0:a.headers)==null?void 0:c.get("Retry-After");if(u!=null&&u.match(/\d/))return parseInt(u)*1e3}return~~(1<<s)*e},retryCount:r,shouldRetry:({error:s})=>!EC(s)})}function Zv({key:t,name:e,request:r,retryCount:n=3,retryDelay:s=150,timeout:a,type:c},u){return{config:{key:t,name:e,request:r,retryCount:n,retryDelay:s,timeout:a,type:c},request:xC(r,{retryCount:n,retryDelay:s}),value:u}}function pm(t,e={}){const{key:r="custom",name:n="Custom Provider",retryDelay:s}=e;return({retryCount:a})=>Zv({key:r,name:n,request:t.request.bind(t),retryCount:e.retryCount??a,retryDelay:s,type:"custom"})}class PC extends De{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function ew(t,{errorInstance:e,timeout:r,signal:n}){return new Promise((s,a)=>{(async()=>{let c;try{const u=new AbortController;r>0&&(c=setTimeout(()=>{n?u.abort():a(e)},r)),s(await t({signal:u==null?void 0:u.signal}))}catch(u){u.name==="AbortError"&&a(e),a(u)}finally{clearTimeout(c)}})()})}let tw=0;async function SC(t,{body:e,fetchOptions:r={},timeout:n=1e4}){var u;const{headers:s,method:a,signal:c}=r;try{const f=await ew(async({signal:p})=>await fetch(t,{...r,body:Vr({jsonrpc:"2.0",id:tw++,...e}),headers:{...s,"Content-Type":"application/json"},method:a||"POST",signal:c||(n>0?p:void 0)}),{errorInstance:new wd({body:e,url:t}),timeout:n,signal:!0});let h;if((u=f.headers.get("Content-Type"))!=null&&u.startsWith("application/json")?h=await f.json():h=await f.text(),!f.ok)throw new Oa({body:e,details:Vr(h.error)||f.statusText,headers:f.headers,status:f.status,url:t});if(h.error)throw new ka({body:e,error:h.error,url:t});return h}catch(f){throw f instanceof Oa||f instanceof ka||f instanceof wd?f:new Oa({body:e,details:f.message,url:t})}}function IC(t,{body:e,onData:r,onError:n}){if(t.readyState===t.CLOSED||t.readyState===t.CLOSING)throw new sA({body:e,url:t.url,details:"Socket is closed."});const s=tw++,a=({data:c})=>{var f;const u=JSON.parse(c);typeof u.id=="number"&&s!==u.id||(u.error?n==null||n(new ka({body:e,error:u.error,url:t.url})):r==null||r(u),e.method==="eth_subscribe"&&typeof u.result=="string"&&t.subscriptions.set(u.result,a),e.method==="eth_unsubscribe"&&t.subscriptions.delete((f=e.params)==null?void 0:f[0]))};return t.requests.set(s,a),t.send(JSON.stringify({jsonrpc:"2.0",...e,id:s})),t}async function DC(t,{body:e,timeout:r=1e4}){return ew(()=>new Promise((n,s)=>rw.webSocket(t,{body:e,onData:n,onError:s})),{errorInstance:new wd({body:e,url:t.url}),timeout:r})}const rw={http:SC,webSocket:IC,webSocketAsync:DC};function OC(t,e={}){const{fetchOptions:r,key:n="http",name:s="HTTP JSON-RPC",retryDelay:a}=e;return({chain:c,retryCount:u,timeout:f})=>{const h=e.retryCount??u,p=f??e.timeout??1e4,m=t||(c==null?void 0:c.rpcUrls.default.http[0]);if(!m)throw new PC;return Zv({key:n,name:s,async request({method:b,params:_}){const{result:x}=await rw.http(m,{body:{method:b,params:_},fetchOptions:r,timeout:p});return x},retryCount:h,retryDelay:a,timeout:p,type:"http"},{url:t})}}class AC extends De{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class ca extends De{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Fp extends De{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class CC extends De{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const TC=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,RC=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,NC=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,$C=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function FC(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const r=e.headers.get("content-type");return r==null?void 0:r.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function gm(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function nw({uri:t,gatewayUrls:e}){const r=NC.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const n=gm(e==null?void 0:e.ipfs,"https://ipfs.io"),s=gm(e==null?void 0:e.arweave,"https://arweave.net"),a=t.match(TC),{protocol:c,subpath:u,target:f,subtarget:h=""}=(a==null?void 0:a.groups)||{},p=c==="ipns:/"||u==="ipns/",m=c==="ipfs:/"||u==="ipfs/"||RC.test(t);if(t.startsWith("http")&&!p&&!m){let _=t;return e!=null&&e.arweave&&(_=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:_,isOnChain:!1,isEncoded:!1}}if((p||m)&&f)return{uri:`${n}/${p?"ipns":"ipfs"}/${f}${h}`,isOnChain:!1,isEncoded:!1};if(c==="ar:/"&&f)return{uri:`${s}/${f}${h||""}`,isOnChain:!1,isEncoded:!1};let b=t.replace($C,"");if(b.startsWith("<svg")&&(b=`data:image/svg+xml;base64,${btoa(b)}`),b.startsWith("data:")||b.startsWith("{"))return{uri:b,isOnChain:!0,isEncoded:!1};throw new Fp({uri:t})}function iw(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new AC({data:t});return t.image||t.image_url||t.image_data}async function MC({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then(s=>s.json());return await Mp({gatewayUrls:t,uri:iw(r)})}catch{throw new Fp({uri:e})}}async function Mp({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:n}=nw({uri:e,gatewayUrls:t});if(n||await FC(r))return r;throw new Fp({uri:e})}function jC(t){t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[e,r,n]=t.split("/"),[s,a]=e.split(":"),[c,u]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new ca({reason:"Only EIP-155 supported"});if(!a)throw new ca({reason:"Chain ID not found"});if(!u)throw new ca({reason:"Contract address not found"});if(!n)throw new ca({reason:"Token ID not found"});if(!c)throw new ca({reason:"ERC namespace not found"});return{chainID:parseInt(a),namespace:c.toLowerCase(),contractAddress:u,tokenID:n}}async function LC(t,{nft:e}){if(e.namespace==="erc721")return qi(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return qi(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new CC({namespace:e.namespace})}async function UC(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?BC(t,{gatewayUrls:e,record:r}):Mp({uri:r,gatewayUrls:e})}async function BC(t,{gatewayUrls:e,record:r}){const n=jC(r),s=await LC(t,{nft:n}),{uri:a,isOnChain:c,isEncoded:u}=nw({uri:s,gatewayUrls:e});if(c&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const h=u?atob(a.replace("data:application/json;base64,","")):a,p=JSON.parse(h);return Mp({uri:iw(p),gatewayUrls:e})}let f=n.tokenID;return n.namespace==="erc1155"&&(f=f.replace("0x","").padStart(64,"0")),MC({gatewayUrls:e,uri:a.replace(/(?:0x)?{id}/,f)})}async function sw(t,{blockNumber:e,blockTag:r,name:n,key:s,universalResolverAddress:a}){let c=a;if(!c){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Fo({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const u=await qi(t,{address:c,abi:zv,functionName:"resolve",args:[bi(Pl(n)),Wi({abi:lm,functionName:"text",args:[Gv(n),s]})],blockNumber:e,blockTag:r});if(u[0]==="0x")return null;const f=$o({abi:lm,functionName:"text",data:u[0]});return f===""?null:f}async function kC(t,{blockNumber:e,blockTag:r,gatewayUrls:n,name:s,universalResolverAddress:a}){const c=await sw(t,{blockNumber:e,blockTag:r,key:"avatar",name:s,universalResolverAddress:a});if(!c)return null;try{return await UC(t,{record:c,gatewayUrls:n})}catch{return null}}async function HC(t){const e=yl(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}function zC({domain:t,message:e,primaryType:r,types:n}){const s=typeof t>"u"?{}:t,a={EIP712Domain:[(s==null?void 0:s.name)&&{name:"name",type:"string"},(s==null?void 0:s.version)&&{name:"version",type:"string"},(s==null?void 0:s.chainId)&&{name:"chainId",type:"uint256"},(s==null?void 0:s.verifyingContract)&&{name:"verifyingContract",type:"address"},(s==null?void 0:s.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean),...n};Xv({domain:s,message:e,primaryType:r,types:a});const c=["0x1901"];return s&&c.push(qC({domain:s,types:a})),r!=="EIP712Domain"&&c.push(ow({data:e,primaryType:r,types:a})),nn(gi(c))}function qC({domain:t,types:e}){return ow({data:t,primaryType:"EIP712Domain",types:e})}function ow({data:t,primaryType:e,types:r}){const n=aw({data:t,primaryType:e,types:r});return nn(n)}function aw({data:t,primaryType:e,types:r}){const n=[{type:"bytes32"}],s=[KC({primaryType:e,types:r})];for(const a of r[e]){const[c,u]=uw({types:r,name:a.name,type:a.type,value:t[a.name]});n.push(c),s.push(u)}return Ka(n,s)}function KC({primaryType:t,types:e}){const r=bi(VC({primaryType:t,types:e}));return nn(r)}function VC({primaryType:t,types:e}){let r="";const n=cw({primaryType:t,types:e});n.delete(t);const s=[t,...Array.from(n).sort()];for(const a of s)r+=`${a}(${e[a].map(({name:c,type:u})=>`${u} ${c}`).join(",")})`;return r}function cw({primaryType:t,types:e},r=new Set){const n=t.match(/^\w*/u),s=n==null?void 0:n[0];if(r.has(s)||e[s]===void 0)return r;r.add(s);for(const a of e[s])cw({primaryType:a.type,types:e},r);return r}function uw({types:t,name:e,type:r,value:n}){if(t[r]!==void 0)return[{type:"bytes32"},nn(aw({data:n,primaryType:r,types:t}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},nn(n)];if(r==="string")return[{type:"bytes32"},nn(bi(n))];if(r.lastIndexOf("]")===r.length-1){const s=r.slice(0,r.lastIndexOf("[")),a=n.map(c=>uw({name:e,type:s,types:t,value:c}));return[{type:"bytes32"},nn(Ka(a.map(([c])=>c),a.map(([,c])=>c)))]}return[{type:r},n]}function GC(t,e){const r=(()=>typeof t=="string"?Ds(t):t.raw instanceof Uint8Array?t.raw:So(t.raw))(),n=Ds(`Ethereum Signed Message:
${r.length}`);return nn(gi([n,r]),e)}const WC="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);BigInt(2);Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function YC(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function JC(t,e){const r=zi(t)?So(t):t,n=zi(e)?So(e):e;return YC(r,n)}async function lw(t,{address:e,hash:r,signature:n,...s}){const a=zi(n)?n:bi(n);try{const{data:c}=await wl(t,{data:Vv({abi:AA,args:[e,r,a],bytecode:WC}),...s});return JC(c??"0x0","0x1")}catch(c){if(c instanceof Nv)return!1;throw c}}async function XC(t,{address:e,message:r,signature:n,...s}){const a=GC(r);return lw(t,{address:e,hash:a,signature:n,...s})}async function QC(t,{address:e,signature:r,message:n,primaryType:s,types:a,domain:c,...u}){const f=zC({message:n,primaryType:s,types:a,domain:c});return lw(t,{address:e,hash:f,signature:r,...u})}const ZC=t=>({call:e=>wl(t,e),createBlockFilter:()=>HC(t),createContractEventFilter:e=>Iv(t,e),createEventFilter:e=>Kv(t,e),createPendingTransactionFilter:()=>Yv(t),estimateContractGas:e=>IA(t,e),estimateGas:e=>Cp(t,e),getBalance:e=>XA(t,e),getBlock:e=>Ha(t,e),getBlockNumber:e=>Ya(t,e),getBlockTransactionCount:e=>QA(t,e),getBytecode:e=>ZA(t,e),getChainId:()=>Bu(t),getEnsAddress:e=>eC(t,e),getEnsAvatar:e=>kC(t,e),getEnsName:e=>tC(t,e),getEnsResolver:e=>rC(t,e),getEnsText:e=>sw(t,e),getFeeHistory:e=>iC(t,e),getFilterChanges:e=>El(t,e),getFilterLogs:e=>sC(t,e),getGasPrice:()=>Uv(t),getLogs:e=>Rp(t,e),getStorageAt:e=>oC(t,e),getTransaction:e=>$p(t,e),getTransactionConfirmations:e=>aC(t,e),getTransactionCount:e=>Bv(t,e),getTransactionReceipt:e=>Pd(t,e),multicall:e=>lC(t,e),readContract:e=>qi(t,e),simulateContract:e=>UA(t,e),verifyMessage:e=>XC(t,e),verifyTypedData:e=>QC(t,e),uninstallFilter:e=>xl(t,e),waitForTransactionReceipt:e=>pC(t,e),watchBlocks:e=>fC(t,e),watchBlockNumber:e=>Wv(t,e),watchContractEvent:e=>GA(t,e),watchEvent:e=>hC(t,e),watchPendingTransactions:e=>dC(t,e)});function eT({batch:t,chain:e,key:r="public",name:n="Public Client",transport:s,pollingInterval:a}){const c={batch:t,...Qv({chain:e,key:r,name:n,pollingInterval:a,transport:s,type:"publicClient"})};return{...c,...ZC(c)}}async function tT(t,{chain:e}){const{id:r,name:n,nativeCurrency:s,rpcUrls:a,blockExplorers:c}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:ot(r),chainName:n,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:c?Object.values(c).map(({url:u})=>u):void 0}]})}async function rT(t){return(await t.request({method:"eth_accounts"})).map(r=>xp(r))}async function nT(t){return await t.request({method:"wallet_getPermissions"})}async function iT(t){return(await t.request({method:"eth_requestAccounts"})).map(r=>UO(r))}async function sT(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:ot(e)}]})}const oT=t=>({addChain:e=>tT(t,e),deployContract:e=>JA(t,e),getAddresses:()=>rT(t),getChainId:()=>Bu(t),getPermissions:()=>nT(t),requestAddresses:()=>iT(t),requestPermissions:e=>gC(t,e),sendTransaction:e=>Np(t,e),signMessage:e=>yC(t,e),signTypedData:e=>vC(t,e),switchChain:e=>sT(t,e),watchAsset:e=>wC(t,e),writeContract:e=>YA(t,e)});function ym({account:t,chain:e,transport:r,key:n="wallet",name:s="Wallet Client",pollingInterval:a}){const c={...Qv({chain:e,key:n,name:s,pollingInterval:a,transport:u=>r({...u,retryCount:0}),type:"walletClient"}),account:t?$n(t):void 0};return{...c,...oT(c)}}var aT={id:31337,name:"Foundry",network:"foundry",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]},public:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}};const cT=aT;var Pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var s=[null];s.push.apply(s,arguments);var a=Function.bind.apply(e,s);return new a}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Lp={exports:{}},mo=typeof Reflect=="object"?Reflect:null,mm=mo&&typeof mo.apply=="function"?mo.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Pu;mo&&typeof mo.ownKeys=="function"?Pu=mo.ownKeys:Object.getOwnPropertySymbols?Pu=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Pu=function(e){return Object.getOwnPropertyNames(e)};function uT(t){console&&console.warn&&console.warn(t)}var hw=Number.isNaN||function(e){return e!==e};function mt(){mt.init.call(this)}Lp.exports=mt;Lp.exports.once=dT;mt.EventEmitter=mt;mt.prototype._events=void 0;mt.prototype._eventsCount=0;mt.prototype._maxListeners=void 0;var bm=10;function Sl(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(mt,"defaultMaxListeners",{enumerable:!0,get:function(){return bm},set:function(t){if(typeof t!="number"||t<0||hw(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");bm=t}});mt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};mt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||hw(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function dw(t){return t._maxListeners===void 0?mt.defaultMaxListeners:t._maxListeners}mt.prototype.getMaxListeners=function(){return dw(this)};mt.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=e==="error",a=this._events;if(a!==void 0)s=s&&a.error===void 0;else if(!s)return!1;if(s){var c;if(r.length>0&&(c=r[0]),c instanceof Error)throw c;var u=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw u.context=c,u}var f=a[e];if(f===void 0)return!1;if(typeof f=="function")mm(f,this,r);else for(var h=f.length,p=bw(f,h),n=0;n<h;++n)mm(p[n],this,r);return!0};function pw(t,e,r,n){var s,a,c;if(Sl(r),a=t._events,a===void 0?(a=t._events=Object.create(null),t._eventsCount=0):(a.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),c=a[e]),c===void 0)c=a[e]=r,++t._eventsCount;else if(typeof c=="function"?c=a[e]=n?[r,c]:[c,r]:n?c.unshift(r):c.push(r),s=dw(t),s>0&&c.length>s&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=c.length,uT(u)}return t}mt.prototype.addListener=function(e,r){return pw(this,e,r,!1)};mt.prototype.on=mt.prototype.addListener;mt.prototype.prependListener=function(e,r){return pw(this,e,r,!0)};function lT(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function gw(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=lT.bind(n);return s.listener=r,n.wrapFn=s,s}mt.prototype.once=function(e,r){return Sl(r),this.on(e,gw(this,e,r)),this};mt.prototype.prependOnceListener=function(e,r){return Sl(r),this.prependListener(e,gw(this,e,r)),this};mt.prototype.removeListener=function(e,r){var n,s,a,c,u;if(Sl(r),s=this._events,s===void 0)return this;if(n=s[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(a=-1,c=n.length-1;c>=0;c--)if(n[c]===r||n[c].listener===r){u=n[c].listener,a=c;break}if(a<0)return this;a===0?n.shift():fT(n,a),n.length===1&&(s[e]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",e,u||r)}return this};mt.prototype.off=mt.prototype.removeListener;mt.prototype.removeAllListeners=function(e){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var a=Object.keys(n),c;for(s=0;s<a.length;++s)c=a[s],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(e,r[s]);return this};function yw(t,e,r){var n=t._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?hT(s):bw(s,s.length)}mt.prototype.listeners=function(e){return yw(this,e,!0)};mt.prototype.rawListeners=function(e){return yw(this,e,!1)};mt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):mw.call(t,e)};mt.prototype.listenerCount=mw;function mw(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}mt.prototype.eventNames=function(){return this._eventsCount>0?Pu(this._events):[]};function bw(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function fT(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function hT(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function dT(t,e){return new Promise(function(r,n){function s(c){t.removeListener(e,a),n(c)}function a(){typeof t.removeListener=="function"&&t.removeListener("error",s),r([].slice.call(arguments))}vw(t,e,a,{once:!0}),e!=="error"&&pT(t,s,{once:!0})})}function pT(t,e,r){typeof t.on=="function"&&vw(t,"error",e,r)}function vw(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(a){n.once&&t.removeEventListener(e,s),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var on=Lp.exports;const Up=jp(on);var Bp={},Il={},Je={},ww={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(u,f){var h=u>>>16&65535,p=u&65535,m=f>>>16&65535,b=f&65535;return p*b+(h*b+p*m<<16>>>0)|0}t.mul=Math.imul||e;function r(u,f){return u+f|0}t.add=r;function n(u,f){return u-f|0}t.sub=n;function s(u,f){return u<<f|u>>>32-f}t.rotl=s;function a(u,f){return u<<32-f|u>>>f}t.rotr=a;function c(u){return typeof u=="number"&&isFinite(u)&&Math.floor(u)===u}t.isInteger=Number.isInteger||c,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(u){return t.isInteger(u)&&u>=-t.MAX_SAFE_INTEGER&&u<=t.MAX_SAFE_INTEGER}})(ww);Object.defineProperty(Je,"__esModule",{value:!0});var _w=ww;function gT(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Je.readInt16BE=gT;function yT(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Je.readUint16BE=yT;function mT(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Je.readInt16LE=mT;function bT(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Je.readUint16LE=bT;function Ew(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}Je.writeUint16BE=Ew;Je.writeInt16BE=Ew;function xw(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}Je.writeUint16LE=xw;Je.writeInt16LE=xw;function Id(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Je.readInt32BE=Id;function Dd(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Je.readUint32BE=Dd;function Od(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Je.readInt32LE=Od;function Ad(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Je.readUint32LE=Ad;function ku(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}Je.writeUint32BE=ku;Je.writeInt32BE=ku;function Hu(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}Je.writeUint32LE=Hu;Je.writeInt32LE=Hu;function vT(t,e){e===void 0&&(e=0);var r=Id(t,e),n=Id(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Je.readInt64BE=vT;function wT(t,e){e===void 0&&(e=0);var r=Dd(t,e),n=Dd(t,e+4);return r*4294967296+n}Je.readUint64BE=wT;function _T(t,e){e===void 0&&(e=0);var r=Od(t,e),n=Od(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Je.readInt64LE=_T;function ET(t,e){e===void 0&&(e=0);var r=Ad(t,e),n=Ad(t,e+4);return n*4294967296+r}Je.readUint64LE=ET;function Pw(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),ku(t/4294967296>>>0,e,r),ku(t>>>0,e,r+4),e}Je.writeUint64BE=Pw;Je.writeInt64BE=Pw;function Sw(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Hu(t>>>0,e,r),Hu(t/4294967296>>>0,e,r+4),e}Je.writeUint64LE=Sw;Je.writeInt64LE=Sw;function xT(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,s=1,a=t/8+r-1;a>=r;a--)n+=e[a]*s,s*=256;return n}Je.readUintBE=xT;function PT(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,s=1,a=r;a<r+t/8;a++)n+=e[a]*s,s*=256;return n}Je.readUintLE=PT;function ST(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!_w.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var s=1,a=t/8+n-1;a>=n;a--)r[a]=e/s&255,s*=256;return r}Je.writeUintBE=ST;function IT(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!_w.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var s=1,a=n;a<n+t/8;a++)r[a]=e/s&255,s*=256;return r}Je.writeUintLE=IT;function DT(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}Je.readFloat32BE=DT;function OT(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}Je.readFloat32LE=OT;function AT(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}Je.readFloat64BE=AT;function CT(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}Je.readFloat64LE=CT;function TT(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}Je.writeFloat32BE=TT;function RT(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}Je.writeFloat32LE=RT;function NT(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}Je.writeFloat64BE=NT;function $T(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}Je.writeFloat64LE=$T;var an={};Object.defineProperty(an,"__esModule",{value:!0});function FT(t){for(var e=0;e<t.length;e++)t[e]=0;return t}an.wipe=FT;Object.defineProperty(Il,"__esModule",{value:!0});var xr=Je,Cd=an,MT=20;function jT(t,e,r){for(var n=1634760805,s=857760878,a=2036477234,c=1797285236,u=r[3]<<24|r[2]<<16|r[1]<<8|r[0],f=r[7]<<24|r[6]<<16|r[5]<<8|r[4],h=r[11]<<24|r[10]<<16|r[9]<<8|r[8],p=r[15]<<24|r[14]<<16|r[13]<<8|r[12],m=r[19]<<24|r[18]<<16|r[17]<<8|r[16],b=r[23]<<24|r[22]<<16|r[21]<<8|r[20],_=r[27]<<24|r[26]<<16|r[25]<<8|r[24],x=r[31]<<24|r[30]<<16|r[29]<<8|r[28],N=e[3]<<24|e[2]<<16|e[1]<<8|e[0],M=e[7]<<24|e[6]<<16|e[5]<<8|e[4],z=e[11]<<24|e[10]<<16|e[9]<<8|e[8],C=e[15]<<24|e[14]<<16|e[13]<<8|e[12],L=n,D=s,T=a,P=c,d=u,w=f,Z=h,B=p,V=m,ee=b,ae=_,E=x,A=N,Y=M,te=z,Q=C,J=0;J<MT;J+=2)L=L+d|0,A^=L,A=A>>>32-16|A<<16,V=V+A|0,d^=V,d=d>>>32-12|d<<12,D=D+w|0,Y^=D,Y=Y>>>32-16|Y<<16,ee=ee+Y|0,w^=ee,w=w>>>32-12|w<<12,T=T+Z|0,te^=T,te=te>>>32-16|te<<16,ae=ae+te|0,Z^=ae,Z=Z>>>32-12|Z<<12,P=P+B|0,Q^=P,Q=Q>>>32-16|Q<<16,E=E+Q|0,B^=E,B=B>>>32-12|B<<12,T=T+Z|0,te^=T,te=te>>>32-8|te<<8,ae=ae+te|0,Z^=ae,Z=Z>>>32-7|Z<<7,P=P+B|0,Q^=P,Q=Q>>>32-8|Q<<8,E=E+Q|0,B^=E,B=B>>>32-7|B<<7,D=D+w|0,Y^=D,Y=Y>>>32-8|Y<<8,ee=ee+Y|0,w^=ee,w=w>>>32-7|w<<7,L=L+d|0,A^=L,A=A>>>32-8|A<<8,V=V+A|0,d^=V,d=d>>>32-7|d<<7,L=L+w|0,Q^=L,Q=Q>>>32-16|Q<<16,ae=ae+Q|0,w^=ae,w=w>>>32-12|w<<12,D=D+Z|0,A^=D,A=A>>>32-16|A<<16,E=E+A|0,Z^=E,Z=Z>>>32-12|Z<<12,T=T+B|0,Y^=T,Y=Y>>>32-16|Y<<16,V=V+Y|0,B^=V,B=B>>>32-12|B<<12,P=P+d|0,te^=P,te=te>>>32-16|te<<16,ee=ee+te|0,d^=ee,d=d>>>32-12|d<<12,T=T+B|0,Y^=T,Y=Y>>>32-8|Y<<8,V=V+Y|0,B^=V,B=B>>>32-7|B<<7,P=P+d|0,te^=P,te=te>>>32-8|te<<8,ee=ee+te|0,d^=ee,d=d>>>32-7|d<<7,D=D+Z|0,A^=D,A=A>>>32-8|A<<8,E=E+A|0,Z^=E,Z=Z>>>32-7|Z<<7,L=L+w|0,Q^=L,Q=Q>>>32-8|Q<<8,ae=ae+Q|0,w^=ae,w=w>>>32-7|w<<7;xr.writeUint32LE(L+n|0,t,0),xr.writeUint32LE(D+s|0,t,4),xr.writeUint32LE(T+a|0,t,8),xr.writeUint32LE(P+c|0,t,12),xr.writeUint32LE(d+u|0,t,16),xr.writeUint32LE(w+f|0,t,20),xr.writeUint32LE(Z+h|0,t,24),xr.writeUint32LE(B+p|0,t,28),xr.writeUint32LE(V+m|0,t,32),xr.writeUint32LE(ee+b|0,t,36),xr.writeUint32LE(ae+_|0,t,40),xr.writeUint32LE(E+x|0,t,44),xr.writeUint32LE(A+N|0,t,48),xr.writeUint32LE(Y+M|0,t,52),xr.writeUint32LE(te+z|0,t,56),xr.writeUint32LE(Q+C|0,t,60)}function Iw(t,e,r,n,s){if(s===void 0&&(s=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var a,c;if(s===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");a=new Uint8Array(16),c=a.length-e.length,a.set(e,c)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");a=e,c=s}for(var u=new Uint8Array(64),f=0;f<r.length;f+=64){jT(u,a,t);for(var h=f;h<f+64&&h<r.length;h++)n[h]=r[h]^u[h-f];UT(a,0,c)}return Cd.wipe(u),s===0&&Cd.wipe(a),n}Il.streamXOR=Iw;function LT(t,e,r,n){return n===void 0&&(n=0),Cd.wipe(r),Iw(t,e,r,r,n)}Il.stream=LT;function UT(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var Dw={},Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});function BT(t,e,r){return~(t-1)&e|t-1&r}Yi.select=BT;function kT(t,e){return(t|0)-(e|0)-1>>>31&1}Yi.lessOrEqual=kT;function Ow(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Yi.compare=Ow;function HT(t,e){return t.length===0||e.length===0?!1:Ow(t,e)!==0}Yi.equal=HT;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Yi,r=an;t.DIGEST_LENGTH=16;var n=function(){function c(u){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var f=u[0]|u[1]<<8;this._r[0]=f&8191;var h=u[2]|u[3]<<8;this._r[1]=(f>>>13|h<<3)&8191;var p=u[4]|u[5]<<8;this._r[2]=(h>>>10|p<<6)&7939;var m=u[6]|u[7]<<8;this._r[3]=(p>>>7|m<<9)&8191;var b=u[8]|u[9]<<8;this._r[4]=(m>>>4|b<<12)&255,this._r[5]=b>>>1&8190;var _=u[10]|u[11]<<8;this._r[6]=(b>>>14|_<<2)&8191;var x=u[12]|u[13]<<8;this._r[7]=(_>>>11|x<<5)&8065;var N=u[14]|u[15]<<8;this._r[8]=(x>>>8|N<<8)&8191,this._r[9]=N>>>5&127,this._pad[0]=u[16]|u[17]<<8,this._pad[1]=u[18]|u[19]<<8,this._pad[2]=u[20]|u[21]<<8,this._pad[3]=u[22]|u[23]<<8,this._pad[4]=u[24]|u[25]<<8,this._pad[5]=u[26]|u[27]<<8,this._pad[6]=u[28]|u[29]<<8,this._pad[7]=u[30]|u[31]<<8}return c.prototype._blocks=function(u,f,h){for(var p=this._fin?0:2048,m=this._h[0],b=this._h[1],_=this._h[2],x=this._h[3],N=this._h[4],M=this._h[5],z=this._h[6],C=this._h[7],L=this._h[8],D=this._h[9],T=this._r[0],P=this._r[1],d=this._r[2],w=this._r[3],Z=this._r[4],B=this._r[5],V=this._r[6],ee=this._r[7],ae=this._r[8],E=this._r[9];h>=16;){var A=u[f+0]|u[f+1]<<8;m+=A&8191;var Y=u[f+2]|u[f+3]<<8;b+=(A>>>13|Y<<3)&8191;var te=u[f+4]|u[f+5]<<8;_+=(Y>>>10|te<<6)&8191;var Q=u[f+6]|u[f+7]<<8;x+=(te>>>7|Q<<9)&8191;var J=u[f+8]|u[f+9]<<8;N+=(Q>>>4|J<<12)&8191,M+=J>>>1&8191;var ie=u[f+10]|u[f+11]<<8;z+=(J>>>14|ie<<2)&8191;var ue=u[f+12]|u[f+13]<<8;C+=(ie>>>11|ue<<5)&8191;var xe=u[f+14]|u[f+15]<<8;L+=(ue>>>8|xe<<8)&8191,D+=xe>>>5|p;var ye=0,Fe=ye;Fe+=m*T,Fe+=b*(5*E),Fe+=_*(5*ae),Fe+=x*(5*ee),Fe+=N*(5*V),ye=Fe>>>13,Fe&=8191,Fe+=M*(5*B),Fe+=z*(5*Z),Fe+=C*(5*w),Fe+=L*(5*d),Fe+=D*(5*P),ye+=Fe>>>13,Fe&=8191;var Pe=ye;Pe+=m*P,Pe+=b*T,Pe+=_*(5*E),Pe+=x*(5*ae),Pe+=N*(5*ee),ye=Pe>>>13,Pe&=8191,Pe+=M*(5*V),Pe+=z*(5*B),Pe+=C*(5*Z),Pe+=L*(5*w),Pe+=D*(5*d),ye+=Pe>>>13,Pe&=8191;var Re=ye;Re+=m*d,Re+=b*P,Re+=_*T,Re+=x*(5*E),Re+=N*(5*ae),ye=Re>>>13,Re&=8191,Re+=M*(5*ee),Re+=z*(5*V),Re+=C*(5*B),Re+=L*(5*Z),Re+=D*(5*w),ye+=Re>>>13,Re&=8191;var $=ye;$+=m*w,$+=b*d,$+=_*P,$+=x*T,$+=N*(5*E),ye=$>>>13,$&=8191,$+=M*(5*ae),$+=z*(5*ee),$+=C*(5*V),$+=L*(5*B),$+=D*(5*Z),ye+=$>>>13,$&=8191;var H=ye;H+=m*Z,H+=b*w,H+=_*d,H+=x*P,H+=N*T,ye=H>>>13,H&=8191,H+=M*(5*E),H+=z*(5*ae),H+=C*(5*ee),H+=L*(5*V),H+=D*(5*B),ye+=H>>>13,H&=8191;var j=ye;j+=m*B,j+=b*Z,j+=_*w,j+=x*d,j+=N*P,ye=j>>>13,j&=8191,j+=M*T,j+=z*(5*E),j+=C*(5*ae),j+=L*(5*ee),j+=D*(5*V),ye+=j>>>13,j&=8191;var y=ye;y+=m*V,y+=b*B,y+=_*Z,y+=x*w,y+=N*d,ye=y>>>13,y&=8191,y+=M*P,y+=z*T,y+=C*(5*E),y+=L*(5*ae),y+=D*(5*ee),ye+=y>>>13,y&=8191;var U=ye;U+=m*ee,U+=b*V,U+=_*B,U+=x*Z,U+=N*w,ye=U>>>13,U&=8191,U+=M*d,U+=z*P,U+=C*T,U+=L*(5*E),U+=D*(5*ae),ye+=U>>>13,U&=8191;var I=ye;I+=m*ae,I+=b*ee,I+=_*V,I+=x*B,I+=N*Z,ye=I>>>13,I&=8191,I+=M*w,I+=z*d,I+=C*P,I+=L*T,I+=D*(5*E),ye+=I>>>13,I&=8191;var R=ye;R+=m*E,R+=b*ae,R+=_*ee,R+=x*V,R+=N*B,ye=R>>>13,R&=8191,R+=M*Z,R+=z*w,R+=C*d,R+=L*P,R+=D*T,ye+=R>>>13,R&=8191,ye=(ye<<2)+ye|0,ye=ye+Fe|0,Fe=ye&8191,ye=ye>>>13,Pe+=ye,m=Fe,b=Pe,_=Re,x=$,N=H,M=j,z=y,C=U,L=I,D=R,f+=16,h-=16}this._h[0]=m,this._h[1]=b,this._h[2]=_,this._h[3]=x,this._h[4]=N,this._h[5]=M,this._h[6]=z,this._h[7]=C,this._h[8]=L,this._h[9]=D},c.prototype.finish=function(u,f){f===void 0&&(f=0);var h=new Uint16Array(10),p,m,b,_;if(this._leftover){for(_=this._leftover,this._buffer[_++]=1;_<16;_++)this._buffer[_]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(p=this._h[1]>>>13,this._h[1]&=8191,_=2;_<10;_++)this._h[_]+=p,p=this._h[_]>>>13,this._h[_]&=8191;for(this._h[0]+=p*5,p=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=p,p=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=p,h[0]=this._h[0]+5,p=h[0]>>>13,h[0]&=8191,_=1;_<10;_++)h[_]=this._h[_]+p,p=h[_]>>>13,h[_]&=8191;for(h[9]-=8192,m=(p^1)-1,_=0;_<10;_++)h[_]&=m;for(m=~m,_=0;_<10;_++)this._h[_]=this._h[_]&m|h[_];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,b=this._h[0]+this._pad[0],this._h[0]=b&65535,_=1;_<8;_++)b=(this._h[_]+this._pad[_]|0)+(b>>>16)|0,this._h[_]=b&65535;return u[f+0]=this._h[0]>>>0,u[f+1]=this._h[0]>>>8,u[f+2]=this._h[1]>>>0,u[f+3]=this._h[1]>>>8,u[f+4]=this._h[2]>>>0,u[f+5]=this._h[2]>>>8,u[f+6]=this._h[3]>>>0,u[f+7]=this._h[3]>>>8,u[f+8]=this._h[4]>>>0,u[f+9]=this._h[4]>>>8,u[f+10]=this._h[5]>>>0,u[f+11]=this._h[5]>>>8,u[f+12]=this._h[6]>>>0,u[f+13]=this._h[6]>>>8,u[f+14]=this._h[7]>>>0,u[f+15]=this._h[7]>>>8,this._finished=!0,this},c.prototype.update=function(u){var f=0,h=u.length,p;if(this._leftover){p=16-this._leftover,p>h&&(p=h);for(var m=0;m<p;m++)this._buffer[this._leftover+m]=u[f+m];if(h-=p,f+=p,this._leftover+=p,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(h>=16&&(p=h-h%16,this._blocks(u,f,p),f+=p,h-=p),h){for(var m=0;m<h;m++)this._buffer[this._leftover+m]=u[f+m];this._leftover+=h}return this},c.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var u=new Uint8Array(16);return this.finish(u),u},c.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},c}();t.Poly1305=n;function s(c,u){var f=new n(c);f.update(u);var h=f.digest();return f.clean(),h}t.oneTimeAuth=s;function a(c,u){return c.length!==t.DIGEST_LENGTH||u.length!==t.DIGEST_LENGTH?!1:e.equal(c,u)}t.equal=a})(Dw);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Il,r=Dw,n=an,s=Je,a=Yi;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var c=new Uint8Array(16),u=function(){function f(h){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,h.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(h)}return f.prototype.seal=function(h,p,m,b){if(h.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var _=new Uint8Array(16);_.set(h,_.length-h.length);var x=new Uint8Array(32);e.stream(this._key,_,x,4);var N=p.length+this.tagLength,M;if(b){if(b.length!==N)throw new Error("ChaCha20Poly1305: incorrect destination length");M=b}else M=new Uint8Array(N);return e.streamXOR(this._key,_,p,M,4),this._authenticate(M.subarray(M.length-this.tagLength,M.length),x,M.subarray(0,M.length-this.tagLength),m),n.wipe(_),M},f.prototype.open=function(h,p,m,b){if(h.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(p.length<this.tagLength)return null;var _=new Uint8Array(16);_.set(h,_.length-h.length);var x=new Uint8Array(32);e.stream(this._key,_,x,4);var N=new Uint8Array(this.tagLength);if(this._authenticate(N,x,p.subarray(0,p.length-this.tagLength),m),!a.equal(N,p.subarray(p.length-this.tagLength,p.length)))return null;var M=p.length-this.tagLength,z;if(b){if(b.length!==M)throw new Error("ChaCha20Poly1305: incorrect destination length");z=b}else z=new Uint8Array(M);return e.streamXOR(this._key,_,p.subarray(0,p.length-this.tagLength),z,4),n.wipe(_),z},f.prototype.clean=function(){return n.wipe(this._key),this},f.prototype._authenticate=function(h,p,m,b){var _=new r.Poly1305(p);b&&(_.update(b),b.length%16>0&&_.update(c.subarray(b.length%16))),_.update(m),m.length%16>0&&_.update(c.subarray(m.length%16));var x=new Uint8Array(8);b&&s.writeUint64LE(b.length,x),_.update(x),s.writeUint64LE(m.length,x),_.update(x);for(var N=_.digest(),M=0;M<N.length;M++)h[M]=N[M];_.clean(),n.wipe(N),n.wipe(x)},f}();t.ChaCha20Poly1305=u})(Bp);var Aw={},Ja={},kp={};Object.defineProperty(kp,"__esModule",{value:!0});function zT(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}kp.isSerializableHash=zT;Object.defineProperty(Ja,"__esModule",{value:!0});var Hn=kp,qT=Yi,KT=an,Cw=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var s=0;s<n.length;s++)n[s]^=54;this._inner.update(n);for(var s=0;s<n.length;s++)n[s]^=106;this._outer.update(n),Hn.isSerializableHash(this._inner)&&Hn.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),KT.wipe(n)}return t.prototype.reset=function(){if(!Hn.isSerializableHash(this._inner)||!Hn.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){Hn.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Hn.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!Hn.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!Hn.isSerializableHash(this._inner)||!Hn.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!Hn.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();Ja.HMAC=Cw;function VT(t,e,r){var n=new Cw(t,e);n.update(r);var s=n.digest();return n.clean(),s}Ja.hmac=VT;Ja.equal=qT.equal;Object.defineProperty(Aw,"__esModule",{value:!0});var vm=Ja,wm=an,GT=function(){function t(e,r,n,s){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=s;var a=vm.hmac(this._hash,n,r);this._hmac=new vm.HMAC(e,a),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),wm.wipe(this._buffer),wm.wipe(this._counter),this._bufpos=0},t}(),WT=Aw.HKDF=GT,jo={},Dl={},Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.BrowserRandomSource=void 0;const _m=65536;class YT{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(e);for(let n=0;n<r.length;n+=_m)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,_m)));return r}}Ol.BrowserRandomSource=YT;function JT(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Al={};const XT={},QT=Object.freeze(Object.defineProperty({__proto__:null,default:XT},Symbol.toStringTag,{value:"Module"})),ZT=fw(QT);Object.defineProperty(Al,"__esModule",{value:!0});Al.NodeRandomSource=void 0;const e4=an;class t4{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof JT<"u"){const e=ZT;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let s=0;s<n.length;s++)n[s]=r[s];return(0,e4.wipe)(r),n}}Al.NodeRandomSource=t4;Object.defineProperty(Dl,"__esModule",{value:!0});Dl.SystemRandomSource=void 0;const r4=Ol,n4=Al;class i4{constructor(){if(this.isAvailable=!1,this.name="",this._source=new r4.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new n4.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}Dl.SystemRandomSource=i4;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=Dl,r=Je,n=an;t.defaultRandomSource=new e.SystemRandomSource;function s(h,p=t.defaultRandomSource){return p.randomBytes(h)}t.randomBytes=s;function a(h=t.defaultRandomSource){const p=s(4,h),m=(0,r.readUint32LE)(p);return(0,n.wipe)(p),m}t.randomUint32=a;const c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function u(h,p=c,m=t.defaultRandomSource){if(p.length<2)throw new Error("randomString charset is too short");if(p.length>256)throw new Error("randomString charset is too long");let b="";const _=p.length,x=256-256%_;for(;h>0;){const N=s(Math.ceil(h*256/x),m);for(let M=0;M<N.length&&h>0;M++){const z=N[M];z<x&&(b+=p.charAt(z%_),h--)}(0,n.wipe)(N)}return b}t.randomString=u;function f(h,p=c,m=t.defaultRandomSource){const b=Math.ceil(h/(Math.log(p.length)/Math.LN2));return u(b,p,m)}t.randomStringForEntropy=f})(jo);var Cl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Je,r=an;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function u(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return u.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},u.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},u.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},u.prototype.update=function(f,h){if(h===void 0&&(h=f.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var p=0;if(this._bytesHashed+=h,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&h>0;)this._buffer[this._bufferLength++]=f[p++],h--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(h>=this.blockSize&&(p=a(this._temp,this._state,f,p,h),h%=this.blockSize);h>0;)this._buffer[this._bufferLength++]=f[p++],h--;return this},u.prototype.finish=function(f){if(!this._finished){var h=this._bytesHashed,p=this._bufferLength,m=h/536870912|0,b=h<<3,_=h%64<56?64:128;this._buffer[p]=128;for(var x=p+1;x<_-8;x++)this._buffer[x]=0;e.writeUint32BE(m,this._buffer,_-8),e.writeUint32BE(b,this._buffer,_-4),a(this._temp,this._state,this._buffer,0,_),this._finished=!0}for(var x=0;x<this.digestLength/4;x++)e.writeUint32BE(this._state[x],f,x*4);return this},u.prototype.digest=function(){var f=new Uint8Array(this.digestLength);return this.finish(f),f},u.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},u.prototype.restoreState=function(f){return this._state.set(f.state),this._bufferLength=f.bufferLength,f.buffer&&this._buffer.set(f.buffer),this._bytesHashed=f.bytesHashed,this._finished=!1,this},u.prototype.cleanSavedState=function(f){r.wipe(f.state),f.buffer&&r.wipe(f.buffer),f.bufferLength=0,f.bytesHashed=0},u}();t.SHA256=n;var s=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(u,f,h,p,m){for(;m>=64;){for(var b=f[0],_=f[1],x=f[2],N=f[3],M=f[4],z=f[5],C=f[6],L=f[7],D=0;D<16;D++){var T=p+D*4;u[D]=e.readUint32BE(h,T)}for(var D=16;D<64;D++){var P=u[D-2],d=(P>>>17|P<<32-17)^(P>>>19|P<<32-19)^P>>>10;P=u[D-15];var w=(P>>>7|P<<32-7)^(P>>>18|P<<32-18)^P>>>3;u[D]=(d+u[D-7]|0)+(w+u[D-16]|0)}for(var D=0;D<64;D++){var d=(((M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))+(M&z^~M&C)|0)+(L+(s[D]+u[D]|0)|0)|0,w=((b>>>2|b<<32-2)^(b>>>13|b<<32-13)^(b>>>22|b<<32-22))+(b&_^b&x^_&x)|0;L=C,C=z,z=M,M=N+d|0,N=x,x=_,_=b,b=d+w|0}f[0]+=b,f[1]+=_,f[2]+=x,f[3]+=N,f[4]+=M,f[5]+=z,f[6]+=C,f[7]+=L,p+=64,m-=64}return p}function c(u){var f=new n;f.update(u);var h=f.digest();return f.clean(),h}t.hash=c})(Cl);var Hp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const e=jo,r=an;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(D){const T=new Float64Array(16);if(D)for(let P=0;P<D.length;P++)T[P]=D[P];return T}const s=new Uint8Array(32);s[0]=9;const a=n([56129,1]);function c(D){let T=1;for(let P=0;P<16;P++){let d=D[P]+T+65535;T=Math.floor(d/65536),D[P]=d-T*65536}D[0]+=T-1+37*(T-1)}function u(D,T,P){const d=~(P-1);for(let w=0;w<16;w++){const Z=d&(D[w]^T[w]);D[w]^=Z,T[w]^=Z}}function f(D,T){const P=n(),d=n();for(let w=0;w<16;w++)d[w]=T[w];c(d),c(d),c(d);for(let w=0;w<2;w++){P[0]=d[0]-65517;for(let B=1;B<15;B++)P[B]=d[B]-65535-(P[B-1]>>16&1),P[B-1]&=65535;P[15]=d[15]-32767-(P[14]>>16&1);const Z=P[15]>>16&1;P[14]&=65535,u(d,P,1-Z)}for(let w=0;w<16;w++)D[2*w]=d[w]&255,D[2*w+1]=d[w]>>8}function h(D,T){for(let P=0;P<16;P++)D[P]=T[2*P]+(T[2*P+1]<<8);D[15]&=32767}function p(D,T,P){for(let d=0;d<16;d++)D[d]=T[d]+P[d]}function m(D,T,P){for(let d=0;d<16;d++)D[d]=T[d]-P[d]}function b(D,T,P){let d,w,Z=0,B=0,V=0,ee=0,ae=0,E=0,A=0,Y=0,te=0,Q=0,J=0,ie=0,ue=0,xe=0,ye=0,Fe=0,Pe=0,Re=0,$=0,H=0,j=0,y=0,U=0,I=0,R=0,q=0,re=0,ne=0,ce=0,we=0,pe=0,fe=P[0],se=P[1],ve=P[2],me=P[3],_e=P[4],Ee=P[5],Se=P[6],Ie=P[7],Ae=P[8],Me=P[9],Le=P[10],Ke=P[11],et=P[12],Qe=P[13],rt=P[14],ze=P[15];d=T[0],Z+=d*fe,B+=d*se,V+=d*ve,ee+=d*me,ae+=d*_e,E+=d*Ee,A+=d*Se,Y+=d*Ie,te+=d*Ae,Q+=d*Me,J+=d*Le,ie+=d*Ke,ue+=d*et,xe+=d*Qe,ye+=d*rt,Fe+=d*ze,d=T[1],B+=d*fe,V+=d*se,ee+=d*ve,ae+=d*me,E+=d*_e,A+=d*Ee,Y+=d*Se,te+=d*Ie,Q+=d*Ae,J+=d*Me,ie+=d*Le,ue+=d*Ke,xe+=d*et,ye+=d*Qe,Fe+=d*rt,Pe+=d*ze,d=T[2],V+=d*fe,ee+=d*se,ae+=d*ve,E+=d*me,A+=d*_e,Y+=d*Ee,te+=d*Se,Q+=d*Ie,J+=d*Ae,ie+=d*Me,ue+=d*Le,xe+=d*Ke,ye+=d*et,Fe+=d*Qe,Pe+=d*rt,Re+=d*ze,d=T[3],ee+=d*fe,ae+=d*se,E+=d*ve,A+=d*me,Y+=d*_e,te+=d*Ee,Q+=d*Se,J+=d*Ie,ie+=d*Ae,ue+=d*Me,xe+=d*Le,ye+=d*Ke,Fe+=d*et,Pe+=d*Qe,Re+=d*rt,$+=d*ze,d=T[4],ae+=d*fe,E+=d*se,A+=d*ve,Y+=d*me,te+=d*_e,Q+=d*Ee,J+=d*Se,ie+=d*Ie,ue+=d*Ae,xe+=d*Me,ye+=d*Le,Fe+=d*Ke,Pe+=d*et,Re+=d*Qe,$+=d*rt,H+=d*ze,d=T[5],E+=d*fe,A+=d*se,Y+=d*ve,te+=d*me,Q+=d*_e,J+=d*Ee,ie+=d*Se,ue+=d*Ie,xe+=d*Ae,ye+=d*Me,Fe+=d*Le,Pe+=d*Ke,Re+=d*et,$+=d*Qe,H+=d*rt,j+=d*ze,d=T[6],A+=d*fe,Y+=d*se,te+=d*ve,Q+=d*me,J+=d*_e,ie+=d*Ee,ue+=d*Se,xe+=d*Ie,ye+=d*Ae,Fe+=d*Me,Pe+=d*Le,Re+=d*Ke,$+=d*et,H+=d*Qe,j+=d*rt,y+=d*ze,d=T[7],Y+=d*fe,te+=d*se,Q+=d*ve,J+=d*me,ie+=d*_e,ue+=d*Ee,xe+=d*Se,ye+=d*Ie,Fe+=d*Ae,Pe+=d*Me,Re+=d*Le,$+=d*Ke,H+=d*et,j+=d*Qe,y+=d*rt,U+=d*ze,d=T[8],te+=d*fe,Q+=d*se,J+=d*ve,ie+=d*me,ue+=d*_e,xe+=d*Ee,ye+=d*Se,Fe+=d*Ie,Pe+=d*Ae,Re+=d*Me,$+=d*Le,H+=d*Ke,j+=d*et,y+=d*Qe,U+=d*rt,I+=d*ze,d=T[9],Q+=d*fe,J+=d*se,ie+=d*ve,ue+=d*me,xe+=d*_e,ye+=d*Ee,Fe+=d*Se,Pe+=d*Ie,Re+=d*Ae,$+=d*Me,H+=d*Le,j+=d*Ke,y+=d*et,U+=d*Qe,I+=d*rt,R+=d*ze,d=T[10],J+=d*fe,ie+=d*se,ue+=d*ve,xe+=d*me,ye+=d*_e,Fe+=d*Ee,Pe+=d*Se,Re+=d*Ie,$+=d*Ae,H+=d*Me,j+=d*Le,y+=d*Ke,U+=d*et,I+=d*Qe,R+=d*rt,q+=d*ze,d=T[11],ie+=d*fe,ue+=d*se,xe+=d*ve,ye+=d*me,Fe+=d*_e,Pe+=d*Ee,Re+=d*Se,$+=d*Ie,H+=d*Ae,j+=d*Me,y+=d*Le,U+=d*Ke,I+=d*et,R+=d*Qe,q+=d*rt,re+=d*ze,d=T[12],ue+=d*fe,xe+=d*se,ye+=d*ve,Fe+=d*me,Pe+=d*_e,Re+=d*Ee,$+=d*Se,H+=d*Ie,j+=d*Ae,y+=d*Me,U+=d*Le,I+=d*Ke,R+=d*et,q+=d*Qe,re+=d*rt,ne+=d*ze,d=T[13],xe+=d*fe,ye+=d*se,Fe+=d*ve,Pe+=d*me,Re+=d*_e,$+=d*Ee,H+=d*Se,j+=d*Ie,y+=d*Ae,U+=d*Me,I+=d*Le,R+=d*Ke,q+=d*et,re+=d*Qe,ne+=d*rt,ce+=d*ze,d=T[14],ye+=d*fe,Fe+=d*se,Pe+=d*ve,Re+=d*me,$+=d*_e,H+=d*Ee,j+=d*Se,y+=d*Ie,U+=d*Ae,I+=d*Me,R+=d*Le,q+=d*Ke,re+=d*et,ne+=d*Qe,ce+=d*rt,we+=d*ze,d=T[15],Fe+=d*fe,Pe+=d*se,Re+=d*ve,$+=d*me,H+=d*_e,j+=d*Ee,y+=d*Se,U+=d*Ie,I+=d*Ae,R+=d*Me,q+=d*Le,re+=d*Ke,ne+=d*et,ce+=d*Qe,we+=d*rt,pe+=d*ze,Z+=38*Pe,B+=38*Re,V+=38*$,ee+=38*H,ae+=38*j,E+=38*y,A+=38*U,Y+=38*I,te+=38*R,Q+=38*q,J+=38*re,ie+=38*ne,ue+=38*ce,xe+=38*we,ye+=38*pe,w=1,d=Z+w+65535,w=Math.floor(d/65536),Z=d-w*65536,d=B+w+65535,w=Math.floor(d/65536),B=d-w*65536,d=V+w+65535,w=Math.floor(d/65536),V=d-w*65536,d=ee+w+65535,w=Math.floor(d/65536),ee=d-w*65536,d=ae+w+65535,w=Math.floor(d/65536),ae=d-w*65536,d=E+w+65535,w=Math.floor(d/65536),E=d-w*65536,d=A+w+65535,w=Math.floor(d/65536),A=d-w*65536,d=Y+w+65535,w=Math.floor(d/65536),Y=d-w*65536,d=te+w+65535,w=Math.floor(d/65536),te=d-w*65536,d=Q+w+65535,w=Math.floor(d/65536),Q=d-w*65536,d=J+w+65535,w=Math.floor(d/65536),J=d-w*65536,d=ie+w+65535,w=Math.floor(d/65536),ie=d-w*65536,d=ue+w+65535,w=Math.floor(d/65536),ue=d-w*65536,d=xe+w+65535,w=Math.floor(d/65536),xe=d-w*65536,d=ye+w+65535,w=Math.floor(d/65536),ye=d-w*65536,d=Fe+w+65535,w=Math.floor(d/65536),Fe=d-w*65536,Z+=w-1+37*(w-1),w=1,d=Z+w+65535,w=Math.floor(d/65536),Z=d-w*65536,d=B+w+65535,w=Math.floor(d/65536),B=d-w*65536,d=V+w+65535,w=Math.floor(d/65536),V=d-w*65536,d=ee+w+65535,w=Math.floor(d/65536),ee=d-w*65536,d=ae+w+65535,w=Math.floor(d/65536),ae=d-w*65536,d=E+w+65535,w=Math.floor(d/65536),E=d-w*65536,d=A+w+65535,w=Math.floor(d/65536),A=d-w*65536,d=Y+w+65535,w=Math.floor(d/65536),Y=d-w*65536,d=te+w+65535,w=Math.floor(d/65536),te=d-w*65536,d=Q+w+65535,w=Math.floor(d/65536),Q=d-w*65536,d=J+w+65535,w=Math.floor(d/65536),J=d-w*65536,d=ie+w+65535,w=Math.floor(d/65536),ie=d-w*65536,d=ue+w+65535,w=Math.floor(d/65536),ue=d-w*65536,d=xe+w+65535,w=Math.floor(d/65536),xe=d-w*65536,d=ye+w+65535,w=Math.floor(d/65536),ye=d-w*65536,d=Fe+w+65535,w=Math.floor(d/65536),Fe=d-w*65536,Z+=w-1+37*(w-1),D[0]=Z,D[1]=B,D[2]=V,D[3]=ee,D[4]=ae,D[5]=E,D[6]=A,D[7]=Y,D[8]=te,D[9]=Q,D[10]=J,D[11]=ie,D[12]=ue,D[13]=xe,D[14]=ye,D[15]=Fe}function _(D,T){b(D,T,T)}function x(D,T){const P=n();for(let d=0;d<16;d++)P[d]=T[d];for(let d=253;d>=0;d--)_(P,P),d!==2&&d!==4&&b(P,P,T);for(let d=0;d<16;d++)D[d]=P[d]}function N(D,T){const P=new Uint8Array(32),d=new Float64Array(80),w=n(),Z=n(),B=n(),V=n(),ee=n(),ae=n();for(let te=0;te<31;te++)P[te]=D[te];P[31]=D[31]&127|64,P[0]&=248,h(d,T);for(let te=0;te<16;te++)Z[te]=d[te];w[0]=V[0]=1;for(let te=254;te>=0;--te){const Q=P[te>>>3]>>>(te&7)&1;u(w,Z,Q),u(B,V,Q),p(ee,w,B),m(w,w,B),p(B,Z,V),m(Z,Z,V),_(V,ee),_(ae,w),b(w,B,w),b(B,Z,ee),p(ee,w,B),m(w,w,B),_(Z,w),m(B,V,ae),b(w,B,a),p(w,w,V),b(B,B,w),b(w,V,ae),b(V,Z,d),_(Z,ee),u(w,Z,Q),u(B,V,Q)}for(let te=0;te<16;te++)d[te+16]=w[te],d[te+32]=B[te],d[te+48]=Z[te],d[te+64]=V[te];const E=d.subarray(32),A=d.subarray(16);x(E,E),b(A,A,E);const Y=new Uint8Array(32);return f(Y,A),Y}t.scalarMult=N;function M(D){return N(D,s)}t.scalarMultBase=M;function z(D){if(D.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const T=new Uint8Array(D);return{publicKey:M(T),secretKey:T}}t.generateKeyPairFromSeed=z;function C(D){const T=(0,e.randomBytes)(32,D),P=z(T);return(0,r.wipe)(T),P}t.generateKeyPair=C;function L(D,T,P=!1){if(D.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(T.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const d=N(D,T);if(P){let w=0;for(let Z=0;Z<d.length;Z++)w|=d[Z];if(w===0)throw new Error("X25519: invalid shared key")}return d}t.sharedKey=L})(Hp);function zp(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Tw(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?zp(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Td(t,e){e||(e=t.reduce((s,a)=>s+a.length,0));const r=Tw(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return zp(r)}function s4(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(r[c]!==255)throw new TypeError(a+" is ambiguous");r[c]=s}var u=t.length,f=t.charAt(0),h=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function m(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";for(var N=0,M=0,z=0,C=x.length;z!==C&&x[z]===0;)z++,N++;for(var L=(C-z)*p+1>>>0,D=new Uint8Array(L);z!==C;){for(var T=x[z],P=0,d=L-1;(T!==0||P<M)&&d!==-1;d--,P++)T+=256*D[d]>>>0,D[d]=T%u>>>0,T=T/u>>>0;if(T!==0)throw new Error("Non-zero carry");M=P,z++}for(var w=L-M;w!==L&&D[w]===0;)w++;for(var Z=f.repeat(N);w<L;++w)Z+=t.charAt(D[w]);return Z}function b(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;var N=0;if(x[N]!==" "){for(var M=0,z=0;x[N]===f;)M++,N++;for(var C=(x.length-N)*h+1>>>0,L=new Uint8Array(C);x[N];){var D=r[x.charCodeAt(N)];if(D===255)return;for(var T=0,P=C-1;(D!==0||T<z)&&P!==-1;P--,T++)D+=u*L[P]>>>0,L[P]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");z=T,N++}if(x[N]!==" "){for(var d=C-z;d!==C&&L[d]===0;)d++;for(var w=new Uint8Array(M+(C-d)),Z=M;d!==C;)w[Z++]=L[d++];return w}}}function _(x){var N=b(x);if(N)return N;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:b,decode:_}}var o4=s4,a4=o4;const c4=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},u4=t=>new TextEncoder().encode(t),l4=t=>new TextDecoder().decode(t);class f4{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class h4{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Rw(this,e)}}class d4{constructor(e){this.decoders=e}or(e){return Rw(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Rw=(t,e)=>new d4({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class p4{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new f4(e,r,n),this.decoder=new h4(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Tl=({name:t,prefix:e,encode:r,decode:n})=>new p4(t,e,r,n),Xa=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=a4(r,e);return Tl({prefix:t,name:e,encode:n,decode:a=>c4(s(a))})},g4=(t,e,r,n)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*r/8|0);let u=0,f=0,h=0;for(let p=0;p<a;++p){const m=s[t[p]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|m,u+=r,u>=8&&(u-=8,c[h++]=255&f>>u)}if(u>=r||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return c},y4=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let a="",c=0,u=0;for(let f=0;f<t.length;++f)for(u=u<<8|t[f],c+=8;c>r;)c-=r,a+=e[s&u>>c];if(c&&(a+=e[s&u<<r-c]),n)for(;a.length*r&7;)a+="=";return a},vr=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Tl({prefix:e,name:t,encode(s){return y4(s,n,r)},decode(s){return g4(s,n,r,t)}}),m4=Tl({prefix:"\0",name:"identity",encode:t=>l4(t),decode:t=>u4(t)}),b4=Object.freeze(Object.defineProperty({__proto__:null,identity:m4},Symbol.toStringTag,{value:"Module"})),v4=vr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),w4=Object.freeze(Object.defineProperty({__proto__:null,base2:v4},Symbol.toStringTag,{value:"Module"})),_4=vr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),E4=Object.freeze(Object.defineProperty({__proto__:null,base8:_4},Symbol.toStringTag,{value:"Module"})),x4=Xa({prefix:"9",name:"base10",alphabet:"0123456789"}),P4=Object.freeze(Object.defineProperty({__proto__:null,base10:x4},Symbol.toStringTag,{value:"Module"})),S4=vr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),I4=vr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),D4=Object.freeze(Object.defineProperty({__proto__:null,base16:S4,base16upper:I4},Symbol.toStringTag,{value:"Module"})),O4=vr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),A4=vr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),C4=vr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),T4=vr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),R4=vr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),N4=vr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),$4=vr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),F4=vr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),M4=vr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),j4=Object.freeze(Object.defineProperty({__proto__:null,base32:O4,base32hex:R4,base32hexpad:$4,base32hexpadupper:F4,base32hexupper:N4,base32pad:C4,base32padupper:T4,base32upper:A4,base32z:M4},Symbol.toStringTag,{value:"Module"})),L4=Xa({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),U4=Xa({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),B4=Object.freeze(Object.defineProperty({__proto__:null,base36:L4,base36upper:U4},Symbol.toStringTag,{value:"Module"})),k4=Xa({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),H4=Xa({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),z4=Object.freeze(Object.defineProperty({__proto__:null,base58btc:k4,base58flickr:H4},Symbol.toStringTag,{value:"Module"})),q4=vr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),K4=vr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),V4=vr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),G4=vr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),W4=Object.freeze(Object.defineProperty({__proto__:null,base64:q4,base64pad:K4,base64url:V4,base64urlpad:G4},Symbol.toStringTag,{value:"Module"})),Nw=Array.from(""),Y4=Nw.reduce((t,e,r)=>(t[r]=e,t),[]),J4=Nw.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function X4(t){return t.reduce((e,r)=>(e+=Y4[r],e),"")}function Q4(t){const e=[];for(const r of t){const n=J4[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Z4=Tl({prefix:"",name:"base256emoji",encode:X4,decode:Q4}),eR=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Z4},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Em={...b4,...w4,...E4,...P4,...D4,...j4,...B4,...z4,...W4,...eR};function $w(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const xm=$w("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),xh=$w("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Tw(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Fw={utf8:xm,"utf-8":xm,hex:Em.base16,latin1:xh,ascii:xh,binary:xh,...Em};function qr(t,e="utf8"){const r=Fw[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?zp(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Mr(t,e="utf8"){const r=Fw[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var Pm=globalThis&&globalThis.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},tR=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),rR=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),nR=function(){function t(e,r,n,s){this.name=e,this.version=r,this.os=n,this.bot=s,this.type="bot-device"}return t}(),iR=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),sR=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),oR=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,aR=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Sm=3,cR=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",oR]],Im=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function uR(t){return t?Dm(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new sR:typeof navigator<"u"?Dm(navigator.userAgent):hR()}function lR(t){return t!==""&&cR.reduce(function(e,r){var n=r[0],s=r[1];if(e)return e;var a=s.exec(t);return!!a&&[n,a]},!1)}function Dm(t){var e=lR(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new iR;var s=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);s?s.length<Sm&&(s=Pm(Pm([],s,!0),dR(Sm-s.length),!0)):s=[];var a=s.join("."),c=fR(t),u=aR.exec(t);return u&&u[1]?new nR(r,a,c,u[1]):new tR(r,a,c)}function fR(t){for(var e=0,r=Im.length;e<r;e++){var n=Im[e],s=n[0],a=n[1],c=a.exec(t);if(c)return s}return null}function hR(){var t=typeof process<"u"&&process.version;return t?new rR(process.version.slice(1)):null}function dR(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var Ue={},Mw={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(t){var e,r,n,s,a,c,u,f,h,p,m,b,_,x,N,M,z,C,L,D,T,P,d;(function(w){var Z=typeof Pr=="object"?Pr:typeof self=="object"?self:typeof this=="object"?this:{};w(B(Z,B(t.exports)));function B(V,ee){return V!==Z&&(typeof Object.create=="function"?Object.defineProperty(V,"__esModule",{value:!0}):V.__esModule=!0),function(ae,E){return V[ae]=ee?ee(ae,E):E}}})(function(w){var Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,V){B.__proto__=V}||function(B,V){for(var ee in V)V.hasOwnProperty(ee)&&(B[ee]=V[ee])};e=function(B,V){Z(B,V);function ee(){this.constructor=B}B.prototype=V===null?Object.create(V):(ee.prototype=V.prototype,new ee)},r=Object.assign||function(B){for(var V,ee=1,ae=arguments.length;ee<ae;ee++){V=arguments[ee];for(var E in V)Object.prototype.hasOwnProperty.call(V,E)&&(B[E]=V[E])}return B},n=function(B,V){var ee={};for(var ae in B)Object.prototype.hasOwnProperty.call(B,ae)&&V.indexOf(ae)<0&&(ee[ae]=B[ae]);if(B!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,ae=Object.getOwnPropertySymbols(B);E<ae.length;E++)V.indexOf(ae[E])<0&&Object.prototype.propertyIsEnumerable.call(B,ae[E])&&(ee[ae[E]]=B[ae[E]]);return ee},s=function(B,V,ee,ae){var E=arguments.length,A=E<3?V:ae===null?ae=Object.getOwnPropertyDescriptor(V,ee):ae,Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(B,V,ee,ae);else for(var te=B.length-1;te>=0;te--)(Y=B[te])&&(A=(E<3?Y(A):E>3?Y(V,ee,A):Y(V,ee))||A);return E>3&&A&&Object.defineProperty(V,ee,A),A},a=function(B,V){return function(ee,ae){V(ee,ae,B)}},c=function(B,V){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(B,V)},u=function(B,V,ee,ae){function E(A){return A instanceof ee?A:new ee(function(Y){Y(A)})}return new(ee||(ee=Promise))(function(A,Y){function te(ie){try{J(ae.next(ie))}catch(ue){Y(ue)}}function Q(ie){try{J(ae.throw(ie))}catch(ue){Y(ue)}}function J(ie){ie.done?A(ie.value):E(ie.value).then(te,Q)}J((ae=ae.apply(B,V||[])).next())})},f=function(B,V){var ee={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},ae,E,A,Y;return Y={next:te(0),throw:te(1),return:te(2)},typeof Symbol=="function"&&(Y[Symbol.iterator]=function(){return this}),Y;function te(J){return function(ie){return Q([J,ie])}}function Q(J){if(ae)throw new TypeError("Generator is already executing.");for(;ee;)try{if(ae=1,E&&(A=J[0]&2?E.return:J[0]?E.throw||((A=E.return)&&A.call(E),0):E.next)&&!(A=A.call(E,J[1])).done)return A;switch(E=0,A&&(J=[J[0]&2,A.value]),J[0]){case 0:case 1:A=J;break;case 4:return ee.label++,{value:J[1],done:!1};case 5:ee.label++,E=J[1],J=[0];continue;case 7:J=ee.ops.pop(),ee.trys.pop();continue;default:if(A=ee.trys,!(A=A.length>0&&A[A.length-1])&&(J[0]===6||J[0]===2)){ee=0;continue}if(J[0]===3&&(!A||J[1]>A[0]&&J[1]<A[3])){ee.label=J[1];break}if(J[0]===6&&ee.label<A[1]){ee.label=A[1],A=J;break}if(A&&ee.label<A[2]){ee.label=A[2],ee.ops.push(J);break}A[2]&&ee.ops.pop(),ee.trys.pop();continue}J=V.call(B,ee)}catch(ie){J=[6,ie],E=0}finally{ae=A=0}if(J[0]&5)throw J[1];return{value:J[0]?J[1]:void 0,done:!0}}},d=function(B,V,ee,ae){ae===void 0&&(ae=ee),B[ae]=V[ee]},h=function(B,V){for(var ee in B)ee!=="default"&&!V.hasOwnProperty(ee)&&(V[ee]=B[ee])},p=function(B){var V=typeof Symbol=="function"&&Symbol.iterator,ee=V&&B[V],ae=0;if(ee)return ee.call(B);if(B&&typeof B.length=="number")return{next:function(){return B&&ae>=B.length&&(B=void 0),{value:B&&B[ae++],done:!B}}};throw new TypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")},m=function(B,V){var ee=typeof Symbol=="function"&&B[Symbol.iterator];if(!ee)return B;var ae=ee.call(B),E,A=[],Y;try{for(;(V===void 0||V-- >0)&&!(E=ae.next()).done;)A.push(E.value)}catch(te){Y={error:te}}finally{try{E&&!E.done&&(ee=ae.return)&&ee.call(ae)}finally{if(Y)throw Y.error}}return A},b=function(){for(var B=[],V=0;V<arguments.length;V++)B=B.concat(m(arguments[V]));return B},_=function(){for(var B=0,V=0,ee=arguments.length;V<ee;V++)B+=arguments[V].length;for(var ae=Array(B),E=0,V=0;V<ee;V++)for(var A=arguments[V],Y=0,te=A.length;Y<te;Y++,E++)ae[E]=A[Y];return ae},x=function(B){return this instanceof x?(this.v=B,this):new x(B)},N=function(B,V,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae=ee.apply(B,V||[]),E,A=[];return E={},Y("next"),Y("throw"),Y("return"),E[Symbol.asyncIterator]=function(){return this},E;function Y(xe){ae[xe]&&(E[xe]=function(ye){return new Promise(function(Fe,Pe){A.push([xe,ye,Fe,Pe])>1||te(xe,ye)})})}function te(xe,ye){try{Q(ae[xe](ye))}catch(Fe){ue(A[0][3],Fe)}}function Q(xe){xe.value instanceof x?Promise.resolve(xe.value.v).then(J,ie):ue(A[0][2],xe)}function J(xe){te("next",xe)}function ie(xe){te("throw",xe)}function ue(xe,ye){xe(ye),A.shift(),A.length&&te(A[0][0],A[0][1])}},M=function(B){var V,ee;return V={},ae("next"),ae("throw",function(E){throw E}),ae("return"),V[Symbol.iterator]=function(){return this},V;function ae(E,A){V[E]=B[E]?function(Y){return(ee=!ee)?{value:x(B[E](Y)),done:E==="return"}:A?A(Y):Y}:A}},z=function(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V=B[Symbol.asyncIterator],ee;return V?V.call(B):(B=typeof p=="function"?p(B):B[Symbol.iterator](),ee={},ae("next"),ae("throw"),ae("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function ae(A){ee[A]=B[A]&&function(Y){return new Promise(function(te,Q){Y=B[A](Y),E(te,Q,Y.done,Y.value)})}}function E(A,Y,te,Q){Promise.resolve(Q).then(function(J){A({value:J,done:te})},Y)}},C=function(B,V){return Object.defineProperty?Object.defineProperty(B,"raw",{value:V}):B.raw=V,B},L=function(B){if(B&&B.__esModule)return B;var V={};if(B!=null)for(var ee in B)Object.hasOwnProperty.call(B,ee)&&(V[ee]=B[ee]);return V.default=B,V},D=function(B){return B&&B.__esModule?B:{default:B}},T=function(B,V){if(!V.has(B))throw new TypeError("attempted to get private field on non-instance");return V.get(B)},P=function(B,V,ee){if(!V.has(B))throw new TypeError("attempted to set private field on non-instance");return V.set(B,ee),ee},w("__extends",e),w("__assign",r),w("__rest",n),w("__decorate",s),w("__param",a),w("__metadata",c),w("__awaiter",u),w("__generator",f),w("__exportStar",h),w("__createBinding",d),w("__values",p),w("__read",m),w("__spread",b),w("__spreadArrays",_),w("__await",x),w("__asyncGenerator",N),w("__asyncDelegator",M),w("__asyncValues",z),w("__makeTemplateObject",C),w("__importStar",L),w("__importDefault",D),w("__classPrivateFieldGet",T),w("__classPrivateFieldSet",P)})})(Mw);var _n=Mw.exports,Ph={},ua={},Om;function pR(){if(Om)return ua;Om=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return ua.delay=t,ua}var ps={},Sh={},gs={},Am;function gR(){return Am||(Am=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.ONE_THOUSAND=gs.ONE_HUNDRED=void 0,gs.ONE_HUNDRED=100,gs.ONE_THOUSAND=1e3),gs}var Ih={},Cm;function yR(){return Cm||(Cm=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Ih)),Ih}var Tm;function jw(){return Tm||(Tm=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=_n;e.__exportStar(gR(),t),e.__exportStar(yR(),t)}(Sh)),Sh}var Rm;function mR(){if(Rm)return ps;Rm=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.fromMiliseconds=ps.toMiliseconds=void 0;const t=jw();function e(n){return n*t.ONE_THOUSAND}ps.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return ps.fromMiliseconds=r,ps}var Nm;function bR(){return Nm||(Nm=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=_n;e.__exportStar(pR(),t),e.__exportStar(mR(),t)}(Ph)),Ph}var io={},$m;function vR(){if($m)return io;$m=1,Object.defineProperty(io,"__esModule",{value:!0}),io.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const s=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:s})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return io.Watch=t,io.default=t,io}var Dh={},la={},Fm;function wR(){if(Fm)return la;Fm=1,Object.defineProperty(la,"__esModule",{value:!0}),la.IWatch=void 0;class t{}return la.IWatch=t,la}var Mm;function _R(){return Mm||(Mm=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),_n.__exportStar(wR(),t)}(Dh)),Dh}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=_n;e.__exportStar(bR(),t),e.__exportStar(vR(),t),e.__exportStar(_R(),t),e.__exportStar(jw(),t)})(Ue);var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.getLocalStorage=Pt.getLocalStorageOrThrow=Pt.getCrypto=Pt.getCryptoOrThrow=Uw=Pt.getLocation=Pt.getLocationOrThrow=qp=Pt.getNavigator=Pt.getNavigatorOrThrow=Lw=Pt.getDocument=Pt.getDocumentOrThrow=Pt.getFromWindowOrThrow=Pt.getFromWindow=void 0;function Cs(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Pt.getFromWindow=Cs;function Lo(t){const e=Cs(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Pt.getFromWindowOrThrow=Lo;function ER(){return Lo("document")}Pt.getDocumentOrThrow=ER;function xR(){return Cs("document")}var Lw=Pt.getDocument=xR;function PR(){return Lo("navigator")}Pt.getNavigatorOrThrow=PR;function SR(){return Cs("navigator")}var qp=Pt.getNavigator=SR;function IR(){return Lo("location")}Pt.getLocationOrThrow=IR;function DR(){return Cs("location")}var Uw=Pt.getLocation=DR;function OR(){return Lo("crypto")}Pt.getCryptoOrThrow=OR;function AR(){return Cs("crypto")}Pt.getCrypto=AR;function CR(){return Lo("localStorage")}Pt.getLocalStorageOrThrow=CR;function TR(){return Cs("localStorage")}Pt.getLocalStorage=TR;var Kp={};Object.defineProperty(Kp,"__esModule",{value:!0});var Bw=Kp.getWindowMetadata=void 0;const jm=Pt;function RR(){let t,e;try{t=jm.getDocumentOrThrow(),e=jm.getLocationOrThrow()}catch{return null}function r(){const m=t.getElementsByTagName("link"),b=[];for(let _=0;_<m.length;_++){const x=m[_],N=x.getAttribute("rel");if(N&&N.toLowerCase().indexOf("icon")>-1){const M=x.getAttribute("href");if(M)if(M.toLowerCase().indexOf("https:")===-1&&M.toLowerCase().indexOf("http:")===-1&&M.indexOf("//")!==0){let z=e.protocol+"//"+e.host;if(M.indexOf("/")===0)z+=M;else{const C=e.pathname.split("/");C.pop();const L=C.join("/");z+=L+"/"+M}b.push(z)}else if(M.indexOf("//")===0){const z=e.protocol+M;b.push(z)}else b.push(M)}}return b}function n(...m){const b=t.getElementsByTagName("meta");for(let _=0;_<b.length;_++){const x=b[_],N=["itemprop","property","name"].map(M=>x.getAttribute(M)).filter(M=>M?m.includes(M):!1);if(N.length&&N){const M=x.getAttribute("content");if(M)return M}}return""}function s(){let m=n("name","og:site_name","og:title","twitter:title");return m||(m=t.title),m}function a(){return n("description","og:description","twitter:description","keywords")}const c=s(),u=a(),f=e.origin,h=r();return{description:u,url:f,icons:h,name:c}}Bw=Kp.getWindowMetadata=RR;var za={},NR=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),kw="%[a-f0-9]{2}",Lm=new RegExp("("+kw+")|([^%]+?)","gi"),Um=new RegExp("("+kw+")+","gi");function Rd(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],Rd(r),Rd(n))}function $R(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(Lm)||[],r=1;r<e.length;r++)t=Rd(e,r).join(""),e=t.match(Lm)||[];return t}}function FR(t){for(var e={"%FE%FF":"","%FF%FE":""},r=Um.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=$R(r[0]);n!==r[0]&&(e[r[0]]=n)}r=Um.exec(t)}e["%C2"]="";for(var s=Object.keys(e),a=0;a<s.length;a++){var c=s[a];t=t.replace(new RegExp(c,"g"),e[c])}return t}var MR=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return FR(t)}},jR=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]},LR=function(t,e){for(var r={},n=Object.keys(t),s=Array.isArray(e),a=0;a<n.length;a++){var c=n[a],u=t[c];(s?e.indexOf(c)!==-1:e(c,u,t))&&(r[c]=u)}return r};(function(t){const e=NR,r=MR,n=jR,s=LR,a=C=>C==null,c=Symbol("encodeFragmentIdentifier");function u(C){switch(C.arrayFormat){case"index":return L=>(D,T)=>{const P=D.length;return T===void 0||C.skipNull&&T===null||C.skipEmptyString&&T===""?D:T===null?[...D,[p(L,C),"[",P,"]"].join("")]:[...D,[p(L,C),"[",p(P,C),"]=",p(T,C)].join("")]};case"bracket":return L=>(D,T)=>T===void 0||C.skipNull&&T===null||C.skipEmptyString&&T===""?D:T===null?[...D,[p(L,C),"[]"].join("")]:[...D,[p(L,C),"[]=",p(T,C)].join("")];case"colon-list-separator":return L=>(D,T)=>T===void 0||C.skipNull&&T===null||C.skipEmptyString&&T===""?D:T===null?[...D,[p(L,C),":list="].join("")]:[...D,[p(L,C),":list=",p(T,C)].join("")];case"comma":case"separator":case"bracket-separator":{const L=C.arrayFormat==="bracket-separator"?"[]=":"=";return D=>(T,P)=>P===void 0||C.skipNull&&P===null||C.skipEmptyString&&P===""?T:(P=P===null?"":P,T.length===0?[[p(D,C),L,p(P,C)].join("")]:[[T,p(P,C)].join(C.arrayFormatSeparator)])}default:return L=>(D,T)=>T===void 0||C.skipNull&&T===null||C.skipEmptyString&&T===""?D:T===null?[...D,p(L,C)]:[...D,[p(L,C),"=",p(T,C)].join("")]}}function f(C){let L;switch(C.arrayFormat){case"index":return(D,T,P)=>{if(L=/\[(\d*)\]$/.exec(D),D=D.replace(/\[\d*\]$/,""),!L){P[D]=T;return}P[D]===void 0&&(P[D]={}),P[D][L[1]]=T};case"bracket":return(D,T,P)=>{if(L=/(\[\])$/.exec(D),D=D.replace(/\[\]$/,""),!L){P[D]=T;return}if(P[D]===void 0){P[D]=[T];return}P[D]=[].concat(P[D],T)};case"colon-list-separator":return(D,T,P)=>{if(L=/(:list)$/.exec(D),D=D.replace(/:list$/,""),!L){P[D]=T;return}if(P[D]===void 0){P[D]=[T];return}P[D]=[].concat(P[D],T)};case"comma":case"separator":return(D,T,P)=>{const d=typeof T=="string"&&T.includes(C.arrayFormatSeparator),w=typeof T=="string"&&!d&&m(T,C).includes(C.arrayFormatSeparator);T=w?m(T,C):T;const Z=d||w?T.split(C.arrayFormatSeparator).map(B=>m(B,C)):T===null?T:m(T,C);P[D]=Z};case"bracket-separator":return(D,T,P)=>{const d=/(\[\])$/.test(D);if(D=D.replace(/\[\]$/,""),!d){P[D]=T&&m(T,C);return}const w=T===null?[]:T.split(C.arrayFormatSeparator).map(Z=>m(Z,C));if(P[D]===void 0){P[D]=w;return}P[D]=[].concat(P[D],w)};default:return(D,T,P)=>{if(P[D]===void 0){P[D]=T;return}P[D]=[].concat(P[D],T)}}}function h(C){if(typeof C!="string"||C.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function p(C,L){return L.encode?L.strict?e(C):encodeURIComponent(C):C}function m(C,L){return L.decode?r(C):C}function b(C){return Array.isArray(C)?C.sort():typeof C=="object"?b(Object.keys(C)).sort((L,D)=>Number(L)-Number(D)).map(L=>C[L]):C}function _(C){const L=C.indexOf("#");return L!==-1&&(C=C.slice(0,L)),C}function x(C){let L="";const D=C.indexOf("#");return D!==-1&&(L=C.slice(D)),L}function N(C){C=_(C);const L=C.indexOf("?");return L===-1?"":C.slice(L+1)}function M(C,L){return L.parseNumbers&&!Number.isNaN(Number(C))&&typeof C=="string"&&C.trim()!==""?C=Number(C):L.parseBooleans&&C!==null&&(C.toLowerCase()==="true"||C.toLowerCase()==="false")&&(C=C.toLowerCase()==="true"),C}function z(C,L){L=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},L),h(L.arrayFormatSeparator);const D=f(L),T=Object.create(null);if(typeof C!="string"||(C=C.trim().replace(/^[?#&]/,""),!C))return T;for(const P of C.split("&")){if(P==="")continue;let[d,w]=n(L.decode?P.replace(/\+/g," "):P,"=");w=w===void 0?null:["comma","separator","bracket-separator"].includes(L.arrayFormat)?w:m(w,L),D(m(d,L),w,T)}for(const P of Object.keys(T)){const d=T[P];if(typeof d=="object"&&d!==null)for(const w of Object.keys(d))d[w]=M(d[w],L);else T[P]=M(d,L)}return L.sort===!1?T:(L.sort===!0?Object.keys(T).sort():Object.keys(T).sort(L.sort)).reduce((P,d)=>{const w=T[d];return w&&typeof w=="object"&&!Array.isArray(w)?P[d]=b(w):P[d]=w,P},Object.create(null))}t.extract=N,t.parse=z,t.stringify=(C,L)=>{if(!C)return"";L=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},L),h(L.arrayFormatSeparator);const D=w=>L.skipNull&&a(C[w])||L.skipEmptyString&&C[w]==="",T=u(L),P={};for(const w of Object.keys(C))D(w)||(P[w]=C[w]);const d=Object.keys(P);return L.sort!==!1&&d.sort(L.sort),d.map(w=>{const Z=C[w];return Z===void 0?"":Z===null?p(w,L):Array.isArray(Z)?Z.length===0&&L.arrayFormat==="bracket-separator"?p(w,L)+"[]":Z.reduce(T(w),[]).join("&"):p(w,L)+"="+p(Z,L)}).filter(w=>w.length>0).join("&")},t.parseUrl=(C,L)=>{L=Object.assign({decode:!0},L);const[D,T]=n(C,"#");return Object.assign({url:D.split("?")[0]||"",query:z(N(C),L)},L&&L.parseFragmentIdentifier&&T?{fragmentIdentifier:m(T,L)}:{})},t.stringifyUrl=(C,L)=>{L=Object.assign({encode:!0,strict:!0,[c]:!0},L);const D=_(C.url).split("?")[0]||"",T=t.extract(C.url),P=t.parse(T,{sort:!1}),d=Object.assign(P,C.query);let w=t.stringify(d,L);w&&(w=`?${w}`);let Z=x(C.url);return C.fragmentIdentifier&&(Z=`#${L[c]?p(C.fragmentIdentifier,L):C.fragmentIdentifier}`),`${D}${w}${Z}`},t.pick=(C,L,D)=>{D=Object.assign({parseFragmentIdentifier:!0,[c]:!1},D);const{url:T,query:P,fragmentIdentifier:d}=t.parseUrl(C,D);return t.stringifyUrl({url:T,query:s(P,L),fragmentIdentifier:d},D)},t.exclude=(C,L,D)=>{const T=Array.isArray(L)?P=>!L.includes(P):(P,d)=>!L(P,d);return t.pick(C,T,D)}})(za);const UR={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function BR(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const s=t[n];r.push(...s.accounts)}),r}function Hw(t,e){return t.includes(":")?[t]:e.chains||[]}const zw="base10",Fr="base16",Nd="base64pad",Vp="utf8",qw=0,Ts=1,kR=0,Bm=1,$d=12,Gp=32;function HR(){const t=Hp.generateKeyPair();return{privateKey:Mr(t.secretKey,Fr),publicKey:Mr(t.publicKey,Fr)}}function Fd(){const t=jo.randomBytes(Gp);return Mr(t,Fr)}function zR(t,e){const r=Hp.sharedKey(qr(t,Fr),qr(e,Fr)),n=new WT(Cl.SHA256,r).expand(Gp);return Mr(n,Fr)}function qR(t){const e=Cl.hash(qr(t,Fr));return Mr(e,Fr)}function bo(t){const e=Cl.hash(qr(t,Vp));return Mr(e,Fr)}function KR(t){return qr(`${t}`,zw)}function Qa(t){return Number(Mr(t,zw))}function VR(t){const e=KR(typeof t.type<"u"?t.type:qw);if(Qa(e)===Ts&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?qr(t.senderPublicKey,Fr):void 0,n=typeof t.iv<"u"?qr(t.iv,Fr):jo.randomBytes($d),s=new Bp.ChaCha20Poly1305(qr(t.symKey,Fr)).seal(n,qr(t.message,Vp));return WR({type:e,sealed:s,iv:n,senderPublicKey:r})}function GR(t){const e=new Bp.ChaCha20Poly1305(qr(t.symKey,Fr)),{sealed:r,iv:n}=zu(t.encoded),s=e.open(n,r);if(s===null)throw new Error("Failed to decrypt");return Mr(s,Vp)}function WR(t){if(Qa(t.type)===Ts){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Mr(Td([t.type,t.senderPublicKey,t.iv,t.sealed]),Nd)}return Mr(Td([t.type,t.iv,t.sealed]),Nd)}function zu(t){const e=qr(t,Nd),r=e.slice(kR,Bm),n=Bm;if(Qa(r)===Ts){const u=n+Gp,f=u+$d,h=e.slice(n,u),p=e.slice(u,f),m=e.slice(f);return{type:r,sealed:m,iv:p,senderPublicKey:h}}const s=n+$d,a=e.slice(n,s),c=e.slice(s);return{type:r,sealed:c,iv:a}}function YR(t,e){const r=zu(t);return Kw({type:Qa(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Mr(r.senderPublicKey,Fr):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function Kw(t){const e=(t==null?void 0:t.type)||qw;if(e===Ts){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function km(t){return t.type===Ts&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}var JR=Object.defineProperty,Hm=Object.getOwnPropertySymbols,XR=Object.prototype.hasOwnProperty,QR=Object.prototype.propertyIsEnumerable,zm=(t,e,r)=>e in t?JR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qm=(t,e)=>{for(var r in e||(e={}))XR.call(e,r)&&zm(t,r,e[r]);if(Hm)for(var r of Hm(e))QR.call(e,r)&&zm(t,r,e[r]);return t};const ZR="ReactNative",Es={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},eN="js";function Wp(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Vw(){return!Lw()&&!!qp()&&navigator.product===ZR}function Yp(){return!Wp()&&!!qp()}function Gw(){return Vw()?Es.reactNative:Wp()?Es.node:Yp()?Es.browser:Es.unknown}function tN(t,e){let r=za.parse(t);return r=qm(qm({},r),e),t=za.stringify(r),t}function rN(){return Bw()||{name:"",description:"",url:"",icons:[""]}}function nN(){const t=uR();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function iN(){var t;const e=Gw();return e===Es.browser?[e,((t=Uw())==null?void 0:t.host)||"unknown"].join(":"):e}function sN(t,e,r){const n=nN(),s=iN();return[[t,e].join("-"),[eN,r].join("-"),n,s].join("/")}function oN({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:s,projectId:a,useOnCloseEvent:c}){const u=r.split("?"),f=sN(t,e,n),h={auth:s,ua:f,projectId:a,useOnCloseEvent:c||void 0},p=tN(u[1]||"",h);return u[0]+"?"+p}function xs(t,e){return t.filter(r=>e.includes(r)).length===t.length}function Ww(t){return Object.fromEntries(t.entries())}function Yw(t){return new Map(Object.entries(t))}function ao(t=Ue.FIVE_MINUTES,e){const r=Ue.toMiliseconds(t||Ue.FIVE_MINUTES);let n,s,a;return{resolve:c=>{a&&n&&(clearTimeout(a),n(c))},reject:c=>{a&&s&&(clearTimeout(a),s(c))},done:()=>new Promise((c,u)=>{a=setTimeout(()=>{u(new Error(e))},r),n=c,s=u})}}function qu(t,e,r){return new Promise(async(n,s)=>{const a=setTimeout(()=>s(new Error(r)),e);try{const c=await t;n(c)}catch(c){s(c)}clearTimeout(a)})}function Jw(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function aN(t){return Jw("topic",t)}function cN(t){return Jw("id",t)}function Xw(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Kn(t,e){return Ue.fromMiliseconds((e||Date.now())+Ue.toMiliseconds(t))}function Mi(t){return Date.now()>=Ue.toMiliseconds(t)}function ar(t,e){return`${t}${e?`:${e}`:""}`}function Oh(t=[],e=[]){return[...new Set([...t,...e])]}const uN="irn";function Md(t){return(t==null?void 0:t.relay)||{protocol:uN}}function Su(t){const e=UR[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var lN=Object.defineProperty,Km=Object.getOwnPropertySymbols,fN=Object.prototype.hasOwnProperty,hN=Object.prototype.propertyIsEnumerable,Vm=(t,e,r)=>e in t?lN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dN=(t,e)=>{for(var r in e||(e={}))fN.call(e,r)&&Vm(t,r,e[r]);if(Km)for(var r of Km(e))hN.call(e,r)&&Vm(t,r,e[r]);return t};function pN(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(n)){const a=s.replace(n,""),c=t[s];r[a]=c}}),r}function gN(t){const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r).split("@"),a=typeof r<"u"?t.substring(r):"",c=za.parse(a);return{protocol:n,topic:yN(s[0]),version:parseInt(s[1],10),symKey:c.symKey,relay:pN(c)}}function yN(t){return t.startsWith("//")?t.substring(2):t}function mN(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(s=>{const a=r+e+s;t[s]&&(n[a]=t[s])}),n}function bN(t){return`${t.protocol}:${t.topic}@${t.version}?`+za.stringify(dN({symKey:t.symKey},mN(t.relay)))}function Uo(t){const e=[];return t.forEach(r=>{const[n,s]=r.split(":");e.push(`${n}:${s}`)}),e}function vN(t){const e=[];return Object.values(t).forEach(r=>{e.push(...Uo(r.accounts))}),e}function wN(t,e){const r=[];return Object.values(t).forEach(n=>{Uo(n.accounts).includes(e)&&r.push(...n.methods)}),r}function _N(t,e){const r=[];return Object.values(t).forEach(n=>{Uo(n.accounts).includes(e)&&r.push(...n.events)}),r}function EN(t,e){const r=Du(t,e);if(r)throw new Error(r.message);const n={};for(const[s,a]of Object.entries(t))n[s]={methods:a.methods,events:a.events,chains:a.accounts.map(c=>`${c.split(":")[0]}:${c.split(":")[1]}`)};return n}function Qw(t){return t.includes(":")}function Iu(t){return Qw(t)?t.split(":")[0]:t}const xN={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},PN={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ce(t,e){const{message:r,code:n}=PN[t];return{message:e?`${r} ${e}`:r,code:n}}function Jt(t,e){const{message:r,code:n}=xN[t];return{message:e?`${r} ${e}`:r,code:n}}function yi(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function vo(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Nr(t){return typeof t>"u"}function gr(t,e){return e&&Nr(t)?!0:typeof t=="string"&&!!t.trim().length}function Jp(t,e){return e&&Nr(t)?!0:typeof t=="number"&&!isNaN(t)}function SN(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),s=Object.keys(r);let a=!0;return xs(s,n)?(n.forEach(c=>{const{accounts:u,methods:f,events:h}=t.namespaces[c],p=Uo(u),m=r[c];(!xs(Hw(c,m),p)||!xs(m.methods,f)||!xs(m.events,h))&&(a=!1)}),a):!1}function Xp(t){return gr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function IN(t){if(gr(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&Xp(r)}}return!1}function DN(t){if(gr(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function ON(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function AN(t){return t==null?void 0:t.topic}function CN(t,e){let r=null;return gr(t==null?void 0:t.publicKey,!1)||(r=Ce("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function Gm(t){let e=!0;return yi(t)?t.length&&(e=t.every(r=>gr(r,!1))):e=!1,e}function TN(t,e,r){let n=null;return yi(e)?e.forEach(s=>{n||(!Xp(s)||!s.includes(t))&&(n=Jt("UNSUPPORTED_CHAINS",`${r}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):n=Jt("UNSUPPORTED_CHAINS",`${r}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),n}function RN(t,e){let r=null;return Object.entries(t).forEach(([n,s])=>{if(r)return;const a=TN(n,Hw(n,s),`${e} requiredNamespace`);a&&(r=a)}),r}function NN(t,e){let r=null;return yi(t)?t.forEach(n=>{r||IN(n)||(r=Jt("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Jt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function $N(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const s=NN(n==null?void 0:n.accounts,`${e} namespace`);s&&(r=s)}),r}function FN(t,e){let r=null;return Gm(t==null?void 0:t.methods)?Gm(t==null?void 0:t.events)||(r=Jt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Jt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function Zw(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const s=FN(n,`${e}, namespace`);s&&(r=s)}),r}function MN(t,e,r){let n=null;if(t&&vo(t)){const s=Zw(t,e);s&&(n=s);const a=RN(t,e);a&&(n=a)}else n=Ce("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function Du(t,e){let r=null;if(t&&vo(t)){const n=Zw(t,e);n&&(r=n);const s=$N(t,e);s&&(r=s)}else r=Ce("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function e_(t){return gr(t.protocol,!0)}function jN(t,e){let r=!1;return e&&!t?r=!0:t&&yi(t)&&t.length&&t.forEach(n=>{r=e_(n)}),r}function LN(t){return typeof t=="number"}function zr(t){return typeof t<"u"&&typeof t!==null}function UN(t){return!(!t||typeof t!="object"||!t.code||!Jp(t.code,!1)||!t.message||!gr(t.message,!1))}function BN(t){return!(Nr(t)||!gr(t.method,!1))}function kN(t){return!(Nr(t)||Nr(t.result)&&Nr(t.error)||!Jp(t.id,!1)||!gr(t.jsonrpc,!1))}function HN(t){return!(Nr(t)||!gr(t.name,!1))}function Wm(t,e){return!(!Xp(e)||!vN(t).includes(e))}function zN(t,e,r){return gr(r,!1)?wN(t,e).includes(r):!1}function qN(t,e,r){return gr(r,!1)?_N(t,e).includes(r):!1}function Ym(t,e,r){let n=null;const s=KN(t),a=VN(e),c=Object.keys(s),u=Object.keys(a),f=Jm(Object.keys(t)),h=Jm(Object.keys(e)),p=f.filter(m=>!h.includes(m));return p.length&&(n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(e).toString()}`)),xs(c,u)||(n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${u.toString()}`)),Object.keys(e).forEach(m=>{if(!m.includes(":")||n)return;const b=Uo(e[m].accounts);b.includes(m)||(n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${m}
        Required: ${m}
        Approved: ${b.toString()}`))}),c.forEach(m=>{n||(xs(s[m].methods,a[m].methods)?xs(s[m].events,a[m].events)||(n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${m}`)):n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${m}`))}),n}function KN(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(s=>{e[s]={methods:t[r].methods,events:t[r].events}})}),e}function Jm(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function VN(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=Uo(t[r].accounts);n==null||n.forEach(s=>{e[s]={accounts:t[r].accounts.filter(a=>a.includes(`${s}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function GN(t,e){return Jp(t,!1)&&t<=e.max&&t>=e.min}var Rl={},Za={};Object.defineProperty(Za,"__esModule",{value:!0});function WN(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}Za.safeJsonParse=WN;function YN(t){return typeof t=="string"?t:JSON.stringify(t,(e,r)=>typeof r>"u"?null:r)}Za.safeJsonStringify=YN;var fa={exports:{}},Xm;function JN(){return Xm||(Xm=1,function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Pr<"u"&&Pr.localStorage?fa.exports=Pr.localStorage:typeof window<"u"&&window.localStorage?fa.exports=window.localStorage:fa.exports=new e}()),fa.exports}var Ah={},ha={},Qm;function XN(){if(Qm)return ha;Qm=1,Object.defineProperty(ha,"__esModule",{value:!0}),ha.IKeyValueStorage=void 0;class t{}return ha.IKeyValueStorage=t,ha}var da={},Zm;function QN(){if(Zm)return da;Zm=1,Object.defineProperty(da,"__esModule",{value:!0}),da.parseEntry=void 0;const t=Za;function e(r){var n;return[r[0],t.safeJsonParse((n=r[1])!==null&&n!==void 0?n:"")]}return da.parseEntry=e,da}var eb;function ZN(){return eb||(eb=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=_n;e.__exportStar(XN(),t),e.__exportStar(QN(),t)}(Ah)),Ah}Object.defineProperty(Rl,"__esModule",{value:!0});Rl.KeyValueStorage=void 0;const co=_n,tb=Za,e$=co.__importDefault(JN()),t$=ZN();class t_{constructor(){this.localStorage=e$.default}getKeys(){return co.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return co.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(t$.parseEntry)})}getItem(e){return co.__awaiter(this,void 0,void 0,function*(){const r=this.localStorage.getItem(e);if(r!==null)return tb.safeJsonParse(r)})}setItem(e,r){return co.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,tb.safeJsonStringify(r))})}removeItem(e){return co.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}}Rl.KeyValueStorage=t_;var r$=Rl.default=t_,ec={},pa={},Ch={},ga={};let Rs=class{};const n$=Object.freeze(Object.defineProperty({__proto__:null,IEvents:Rs},Symbol.toStringTag,{value:"Module"})),i$=fw(n$);var rb;function s$(){if(rb)return ga;rb=1,Object.defineProperty(ga,"__esModule",{value:!0}),ga.IHeartBeat=void 0;const t=i$;class e extends t.IEvents{constructor(n){super()}}return ga.IHeartBeat=e,ga}var nb;function r_(){return nb||(nb=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),_n.__exportStar(s$(),t)}(Ch)),Ch}var Th={},ys={},ib;function o$(){if(ib)return ys;ib=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.HEARTBEAT_EVENTS=ys.HEARTBEAT_INTERVAL=void 0;const t=Ue;return ys.HEARTBEAT_INTERVAL=t.FIVE_SECONDS,ys.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},ys}var sb;function n_(){return sb||(sb=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),_n.__exportStar(o$(),t)}(Th)),Th}var ob;function a$(){if(ob)return pa;ob=1,Object.defineProperty(pa,"__esModule",{value:!0}),pa.HeartBeat=void 0;const t=_n,e=on,r=Ue,n=r_(),s=n_();class a extends n.IHeartBeat{constructor(u){super(u),this.events=new e.EventEmitter,this.interval=s.HEARTBEAT_INTERVAL,this.interval=(u==null?void 0:u.interval)||s.HEARTBEAT_INTERVAL}static init(u){return t.__awaiter(this,void 0,void 0,function*(){const f=new a(u);return yield f.init(),f})}init(){return t.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(u,f){this.events.on(u,f)}once(u,f){this.events.once(u,f)}off(u,f){this.events.off(u,f)}removeListener(u,f){this.events.removeListener(u,f)}initialize(){return t.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),r.toMiliseconds(this.interval))})}pulse(){this.events.emit(s.HEARTBEAT_EVENTS.pulse)}}return pa.HeartBeat=a,pa}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=_n;e.__exportStar(a$(),t),e.__exportStar(r_(),t),e.__exportStar(n_(),t)})(ec);var ut={},Rh,ab;function c$(){if(ab)return Rh;ab=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}Rh=e;function e(r,n,s){var a=s&&s.stringify||t,c=1;if(typeof r=="object"&&r!==null){var u=n.length+c;if(u===1)return r;var f=new Array(u);f[0]=a(r);for(var h=1;h<u;h++)f[h]=a(n[h]);return f.join(" ")}if(typeof r!="string")return r;var p=n.length;if(p===0)return r;for(var m="",b=1-c,_=-1,x=r&&r.length||0,N=0;N<x;){if(r.charCodeAt(N)===37&&N+1<x){switch(_=_>-1?_:0,r.charCodeAt(N+1)){case 100:case 102:if(b>=p||n[b]==null)break;_<N&&(m+=r.slice(_,N)),m+=Number(n[b]),_=N+2,N++;break;case 105:if(b>=p||n[b]==null)break;_<N&&(m+=r.slice(_,N)),m+=Math.floor(Number(n[b])),_=N+2,N++;break;case 79:case 111:case 106:if(b>=p||n[b]===void 0)break;_<N&&(m+=r.slice(_,N));var M=typeof n[b];if(M==="string"){m+="'"+n[b]+"'",_=N+2,N++;break}if(M==="function"){m+=n[b].name||"<anonymous>",_=N+2,N++;break}m+=a(n[b]),_=N+2,N++;break;case 115:if(b>=p)break;_<N&&(m+=r.slice(_,N)),m+=String(n[b]),_=N+2,N++;break;case 37:_<N&&(m+=r.slice(_,N)),m+="%",_=N+2,N++,b--;break}++b}++N}return _===-1?r:(_<x&&(m+=r.slice(_)),m)}return Rh}var Nh,cb;function u$(){if(cb)return Nh;cb=1;const t=c$();Nh=s;const e=T().console||{},r={mapHttpRequest:x,mapHttpResponse:x,wrapRequestSerializer:N,wrapResponseSerializer:N,wrapErrorSerializer:N,req:x,res:x,err:b};function n(P,d){return Array.isArray(P)?P.filter(function(Z){return Z!=="!stdSerializers.err"}):P===!0?Object.keys(d):!1}function s(P){P=P||{},P.browser=P.browser||{};const d=P.browser.transmit;if(d&&typeof d.send!="function")throw Error("pino: transmit option must have a send function");const w=P.browser.write||e;P.browser.write&&(P.browser.asObject=!0);const Z=P.serializers||{},B=n(P.browser.serialize,Z);let V=P.browser.serialize;Array.isArray(P.browser.serialize)&&P.browser.serialize.indexOf("!stdSerializers.err")>-1&&(V=!1);const ee=["error","fatal","warn","info","debug","trace"];typeof w=="function"&&(w.error=w.fatal=w.warn=w.info=w.debug=w.trace=w),P.enabled===!1&&(P.level="silent");const ae=P.level||"info",E=Object.create(w);E.log||(E.log=M),Object.defineProperty(E,"levelVal",{get:Y}),Object.defineProperty(E,"level",{get:te,set:Q});const A={transmit:d,serialize:B,asObject:P.browser.asObject,levels:ee,timestamp:_(P)};E.levels=s.levels,E.level=ae,E.setMaxListeners=E.getMaxListeners=E.emit=E.addListener=E.on=E.prependListener=E.once=E.prependOnceListener=E.removeListener=E.removeAllListeners=E.listeners=E.listenerCount=E.eventNames=E.write=E.flush=M,E.serializers=Z,E._serialize=B,E._stdErrSerialize=V,E.child=J,d&&(E._logEvent=m());function Y(){return this.level==="silent"?1/0:this.levels.values[this.level]}function te(){return this._level}function Q(ie){if(ie!=="silent"&&!this.levels.values[ie])throw Error("unknown level "+ie);this._level=ie,a(A,E,"error","log"),a(A,E,"fatal","error"),a(A,E,"warn","error"),a(A,E,"info","log"),a(A,E,"debug","log"),a(A,E,"trace","log")}function J(ie,ue){if(!ie)throw new Error("missing bindings for child Pino");ue=ue||{},B&&ie.serializers&&(ue.serializers=ie.serializers);const xe=ue.serializers;if(B&&xe){var ye=Object.assign({},Z,xe),Fe=P.browser.serialize===!0?Object.keys(ye):B;delete ie.serializers,f([ie],Fe,ye,this._stdErrSerialize)}function Pe(Re){this._childLevel=(Re._childLevel|0)+1,this.error=h(Re,ie,"error"),this.fatal=h(Re,ie,"fatal"),this.warn=h(Re,ie,"warn"),this.info=h(Re,ie,"info"),this.debug=h(Re,ie,"debug"),this.trace=h(Re,ie,"trace"),ye&&(this.serializers=ye,this._serialize=Fe),d&&(this._logEvent=m([].concat(Re._logEvent.bindings,ie)))}return Pe.prototype=this,new Pe(this)}return E}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=r,s.stdTimeFunctions=Object.assign({},{nullTime:z,epochTime:C,unixTime:L,isoTime:D});function a(P,d,w,Z){const B=Object.getPrototypeOf(d);d[w]=d.levelVal>d.levels.values[w]?M:B[w]?B[w]:e[w]||e[Z]||M,c(P,d,w)}function c(P,d,w){!P.transmit&&d[w]===M||(d[w]=function(Z){return function(){const V=P.timestamp(),ee=new Array(arguments.length),ae=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var E=0;E<ee.length;E++)ee[E]=arguments[E];if(P.serialize&&!P.asObject&&f(ee,this._serialize,this.serializers,this._stdErrSerialize),P.asObject?Z.call(ae,u(this,w,ee,V)):Z.apply(ae,ee),P.transmit){const A=P.transmit.level||d.level,Y=s.levels.values[A],te=s.levels.values[w];if(te<Y)return;p(this,{ts:V,methodLevel:w,methodValue:te,transmitLevel:A,transmitValue:s.levels.values[P.transmit.level||d.level],send:P.transmit.send,val:d.levelVal},ee)}}}(d[w]))}function u(P,d,w,Z){P._serialize&&f(w,P._serialize,P.serializers,P._stdErrSerialize);const B=w.slice();let V=B[0];const ee={};Z&&(ee.time=Z),ee.level=s.levels.values[d];let ae=(P._childLevel|0)+1;if(ae<1&&(ae=1),V!==null&&typeof V=="object"){for(;ae--&&typeof B[0]=="object";)Object.assign(ee,B.shift());V=B.length?t(B.shift(),B):void 0}else typeof V=="string"&&(V=t(B.shift(),B));return V!==void 0&&(ee.msg=V),ee}function f(P,d,w,Z){for(const B in P)if(Z&&P[B]instanceof Error)P[B]=s.stdSerializers.err(P[B]);else if(typeof P[B]=="object"&&!Array.isArray(P[B]))for(const V in P[B])d&&d.indexOf(V)>-1&&V in w&&(P[B][V]=w[V](P[B][V]))}function h(P,d,w){return function(){const Z=new Array(1+arguments.length);Z[0]=d;for(var B=1;B<Z.length;B++)Z[B]=arguments[B-1];return P[w].apply(this,Z)}}function p(P,d,w){const Z=d.send,B=d.ts,V=d.methodLevel,ee=d.methodValue,ae=d.val,E=P._logEvent.bindings;f(w,P._serialize||Object.keys(P.serializers),P.serializers,P._stdErrSerialize===void 0?!0:P._stdErrSerialize),P._logEvent.ts=B,P._logEvent.messages=w.filter(function(A){return E.indexOf(A)===-1}),P._logEvent.level.label=V,P._logEvent.level.value=ee,Z(V,P._logEvent,ae),P._logEvent=m(E)}function m(P){return{ts:0,messages:[],bindings:P||[],level:{label:"",value:0}}}function b(P){const d={type:P.constructor.name,msg:P.message,stack:P.stack};for(const w in P)d[w]===void 0&&(d[w]=P[w]);return d}function _(P){return typeof P.timestamp=="function"?P.timestamp:P.timestamp===!1?z:C}function x(){return{}}function N(P){return P}function M(){}function z(){return!1}function C(){return Date.now()}function L(){return Math.round(Date.now()/1e3)}function D(){return new Date(Date.now()).toISOString()}function T(){function P(d){return typeof d<"u"&&d}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return P(self)||P(window)||P(this)||{}}}return Nh}var ms={},ub;function i_(){return ub||(ub=1,Object.defineProperty(ms,"__esModule",{value:!0}),ms.PINO_CUSTOM_CONTEXT_KEY=ms.PINO_LOGGER_DEFAULTS=void 0,ms.PINO_LOGGER_DEFAULTS={level:"info"},ms.PINO_CUSTOM_CONTEXT_KEY="custom_context"),ms}var Tr={},lb;function l$(){if(lb)return Tr;lb=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.generateChildLogger=Tr.formatChildLoggerContext=Tr.getLoggerContext=Tr.setBrowserLoggerContext=Tr.getBrowserLoggerContext=Tr.getDefaultLoggerOptions=void 0;const t=i_();function e(u){return Object.assign(Object.assign({},u),{level:(u==null?void 0:u.level)||t.PINO_LOGGER_DEFAULTS.level})}Tr.getDefaultLoggerOptions=e;function r(u,f=t.PINO_CUSTOM_CONTEXT_KEY){return u[f]||""}Tr.getBrowserLoggerContext=r;function n(u,f,h=t.PINO_CUSTOM_CONTEXT_KEY){return u[h]=f,u}Tr.setBrowserLoggerContext=n;function s(u,f=t.PINO_CUSTOM_CONTEXT_KEY){let h="";return typeof u.bindings>"u"?h=r(u,f):h=u.bindings().context||"",h}Tr.getLoggerContext=s;function a(u,f,h=t.PINO_CUSTOM_CONTEXT_KEY){const p=s(u,h);return p.trim()?`${p}/${f}`:f}Tr.formatChildLoggerContext=a;function c(u,f,h=t.PINO_CUSTOM_CONTEXT_KEY){const p=a(u,f,h),m=u.child({context:p});return n(m,p,h)}return Tr.generateChildLogger=c,Tr}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.pino=void 0;const e=_n,r=e.__importDefault(u$());Object.defineProperty(t,"pino",{enumerable:!0,get:function(){return r.default}}),e.__exportStar(i_(),t),e.__exportStar(l$(),t)})(ut);class f$ extends Rs{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class h$ extends Rs{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}}class d${constructor(e,r){this.logger=e,this.core=r}}let p$=class extends Rs{constructor(e,r){super(),this.relayer=e,this.logger=r}},g$=class extends Rs{constructor(e){super()}},y$=class{constructor(e,r,n,s){this.core=e,this.logger=r,this.name=n}};class m$ extends Rs{constructor(e,r){super(),this.relayer=e,this.logger=r}}class b$ extends Rs{constructor(e,r){super(),this.core=e,this.logger=r}}let v$=class{constructor(e,r){this.projectId=e,this.logger=r}},w$=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}};class _${constructor(e){this.client=e}}const E$=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),x$=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function Qp(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return x$(t)}catch{return t}}function qa(t){return typeof t=="string"?t:E$(t)||""}var Zp={},s_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Je,r=an;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var n=function(){function u(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return u.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},u.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},u.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},u.prototype.update=function(f,h){if(h===void 0&&(h=f.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var p=0;if(this._bytesHashed+=h,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&h>0;)this._buffer[this._bufferLength++]=f[p++],h--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(h>=this.blockSize&&(p=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,f,p,h),h%=this.blockSize);h>0;)this._buffer[this._bufferLength++]=f[p++],h--;return this},u.prototype.finish=function(f){if(!this._finished){var h=this._bytesHashed,p=this._bufferLength,m=h/536870912|0,b=h<<3,_=h%128<112?128:256;this._buffer[p]=128;for(var x=p+1;x<_-8;x++)this._buffer[x]=0;e.writeUint32BE(m,this._buffer,_-8),e.writeUint32BE(b,this._buffer,_-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,_),this._finished=!0}for(var x=0;x<this.digestLength/8;x++)e.writeUint32BE(this._stateHi[x],f,x*8),e.writeUint32BE(this._stateLo[x],f,x*8+4);return this},u.prototype.digest=function(){var f=new Uint8Array(this.digestLength);return this.finish(f),f},u.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},u.prototype.restoreState=function(f){return this._stateHi.set(f.stateHi),this._stateLo.set(f.stateLo),this._bufferLength=f.bufferLength,f.buffer&&this._buffer.set(f.buffer),this._bytesHashed=f.bytesHashed,this._finished=!1,this},u.prototype.cleanSavedState=function(f){r.wipe(f.stateHi),r.wipe(f.stateLo),f.buffer&&r.wipe(f.buffer),f.bufferLength=0,f.bytesHashed=0},u}();t.SHA512=n;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(u,f,h,p,m,b,_){for(var x=h[0],N=h[1],M=h[2],z=h[3],C=h[4],L=h[5],D=h[6],T=h[7],P=p[0],d=p[1],w=p[2],Z=p[3],B=p[4],V=p[5],ee=p[6],ae=p[7],E,A,Y,te,Q,J,ie,ue;_>=128;){for(var xe=0;xe<16;xe++){var ye=8*xe+b;u[xe]=e.readUint32BE(m,ye),f[xe]=e.readUint32BE(m,ye+4)}for(var xe=0;xe<80;xe++){var Fe=x,Pe=N,Re=M,$=z,H=C,j=L,y=D,U=T,I=P,R=d,q=w,re=Z,ne=B,ce=V,we=ee,pe=ae;if(E=T,A=ae,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=(C>>>14|B<<32-14)^(C>>>18|B<<32-18)^(B>>>41-32|C<<32-(41-32)),A=(B>>>14|C<<32-14)^(B>>>18|C<<32-18)^(C>>>41-32|B<<32-(41-32)),Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,E=C&L^~C&D,A=B&V^~B&ee,Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,E=s[xe*2],A=s[xe*2+1],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,E=u[xe%16],A=f[xe%16],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,Y=ie&65535|ue<<16,te=Q&65535|J<<16,E=Y,A=te,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=(x>>>28|P<<32-28)^(P>>>34-32|x<<32-(34-32))^(P>>>39-32|x<<32-(39-32)),A=(P>>>28|x<<32-28)^(x>>>34-32|P<<32-(34-32))^(x>>>39-32|P<<32-(39-32)),Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,E=x&N^x&M^N&M,A=P&d^P&w^d&w,Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,U=ie&65535|ue<<16,pe=Q&65535|J<<16,E=$,A=re,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=Y,A=te,Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,$=ie&65535|ue<<16,re=Q&65535|J<<16,N=Fe,M=Pe,z=Re,C=$,L=H,D=j,T=y,x=U,d=I,w=R,Z=q,B=re,V=ne,ee=ce,ae=we,P=pe,xe%16===15)for(var ye=0;ye<16;ye++)E=u[ye],A=f[ye],Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=u[(ye+9)%16],A=f[(ye+9)%16],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,Y=u[(ye+1)%16],te=f[(ye+1)%16],E=(Y>>>1|te<<32-1)^(Y>>>8|te<<32-8)^Y>>>7,A=(te>>>1|Y<<32-1)^(te>>>8|Y<<32-8)^(te>>>7|Y<<32-7),Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,Y=u[(ye+14)%16],te=f[(ye+14)%16],E=(Y>>>19|te<<32-19)^(te>>>61-32|Y<<32-(61-32))^Y>>>6,A=(te>>>19|Y<<32-19)^(Y>>>61-32|te<<32-(61-32))^(te>>>6|Y<<32-6),Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,u[ye]=ie&65535|ue<<16,f[ye]=Q&65535|J<<16}E=x,A=P,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=h[0],A=p[0],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,h[0]=x=ie&65535|ue<<16,p[0]=P=Q&65535|J<<16,E=N,A=d,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=h[1],A=p[1],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,h[1]=N=ie&65535|ue<<16,p[1]=d=Q&65535|J<<16,E=M,A=w,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=h[2],A=p[2],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,h[2]=M=ie&65535|ue<<16,p[2]=w=Q&65535|J<<16,E=z,A=Z,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=h[3],A=p[3],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,h[3]=z=ie&65535|ue<<16,p[3]=Z=Q&65535|J<<16,E=C,A=B,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=h[4],A=p[4],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,h[4]=C=ie&65535|ue<<16,p[4]=B=Q&65535|J<<16,E=L,A=V,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=h[5],A=p[5],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,h[5]=L=ie&65535|ue<<16,p[5]=V=Q&65535|J<<16,E=D,A=ee,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=h[6],A=p[6],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,h[6]=D=ie&65535|ue<<16,p[6]=ee=Q&65535|J<<16,E=T,A=ae,Q=A&65535,J=A>>>16,ie=E&65535,ue=E>>>16,E=h[7],A=p[7],Q+=A&65535,J+=A>>>16,ie+=E&65535,ue+=E>>>16,J+=Q>>>16,ie+=J>>>16,ue+=ie>>>16,h[7]=T=ie&65535|ue<<16,p[7]=ae=Q&65535|J<<16,b+=128,_-=128}return b}function c(u){var f=new n;f.update(u);var h=f.digest();return f.clean(),h}t.hash=c})(s_);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const e=jo,r=s_,n=an;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function s($){const H=new Float64Array(16);if($)for(let j=0;j<$.length;j++)H[j]=$[j];return H}const a=new Uint8Array(32);a[0]=9;const c=s(),u=s([1]),f=s([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=s([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p=s([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),m=s([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),b=s([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _($,H){for(let j=0;j<16;j++)$[j]=H[j]|0}function x($){let H=1;for(let j=0;j<16;j++){let y=$[j]+H+65535;H=Math.floor(y/65536),$[j]=y-H*65536}$[0]+=H-1+37*(H-1)}function N($,H,j){const y=~(j-1);for(let U=0;U<16;U++){const I=y&($[U]^H[U]);$[U]^=I,H[U]^=I}}function M($,H){const j=s(),y=s();for(let U=0;U<16;U++)y[U]=H[U];x(y),x(y),x(y);for(let U=0;U<2;U++){j[0]=y[0]-65517;for(let R=1;R<15;R++)j[R]=y[R]-65535-(j[R-1]>>16&1),j[R-1]&=65535;j[15]=y[15]-32767-(j[14]>>16&1);const I=j[15]>>16&1;j[14]&=65535,N(y,j,1-I)}for(let U=0;U<16;U++)$[2*U]=y[U]&255,$[2*U+1]=y[U]>>8}function z($,H){let j=0;for(let y=0;y<32;y++)j|=$[y]^H[y];return(1&j-1>>>8)-1}function C($,H){const j=new Uint8Array(32),y=new Uint8Array(32);return M(j,$),M(y,H),z(j,y)}function L($){const H=new Uint8Array(32);return M(H,$),H[0]&1}function D($,H){for(let j=0;j<16;j++)$[j]=H[2*j]+(H[2*j+1]<<8);$[15]&=32767}function T($,H,j){for(let y=0;y<16;y++)$[y]=H[y]+j[y]}function P($,H,j){for(let y=0;y<16;y++)$[y]=H[y]-j[y]}function d($,H,j){let y,U,I=0,R=0,q=0,re=0,ne=0,ce=0,we=0,pe=0,fe=0,se=0,ve=0,me=0,_e=0,Ee=0,Se=0,Ie=0,Ae=0,Me=0,Le=0,Ke=0,et=0,Qe=0,rt=0,ze=0,Et=0,mr=0,Fn=0,Ir=0,Jn=0,vi=0,Qi=0,jt=j[0],At=j[1],Lt=j[2],Ut=j[3],Nt=j[4],Ct=j[5],er=j[6],tr=j[7],Bt=j[8],rr=j[9],kt=j[10],qt=j[11],Ht=j[12],xt=j[13],nr=j[14],ir=j[15];y=H[0],I+=y*jt,R+=y*At,q+=y*Lt,re+=y*Ut,ne+=y*Nt,ce+=y*Ct,we+=y*er,pe+=y*tr,fe+=y*Bt,se+=y*rr,ve+=y*kt,me+=y*qt,_e+=y*Ht,Ee+=y*xt,Se+=y*nr,Ie+=y*ir,y=H[1],R+=y*jt,q+=y*At,re+=y*Lt,ne+=y*Ut,ce+=y*Nt,we+=y*Ct,pe+=y*er,fe+=y*tr,se+=y*Bt,ve+=y*rr,me+=y*kt,_e+=y*qt,Ee+=y*Ht,Se+=y*xt,Ie+=y*nr,Ae+=y*ir,y=H[2],q+=y*jt,re+=y*At,ne+=y*Lt,ce+=y*Ut,we+=y*Nt,pe+=y*Ct,fe+=y*er,se+=y*tr,ve+=y*Bt,me+=y*rr,_e+=y*kt,Ee+=y*qt,Se+=y*Ht,Ie+=y*xt,Ae+=y*nr,Me+=y*ir,y=H[3],re+=y*jt,ne+=y*At,ce+=y*Lt,we+=y*Ut,pe+=y*Nt,fe+=y*Ct,se+=y*er,ve+=y*tr,me+=y*Bt,_e+=y*rr,Ee+=y*kt,Se+=y*qt,Ie+=y*Ht,Ae+=y*xt,Me+=y*nr,Le+=y*ir,y=H[4],ne+=y*jt,ce+=y*At,we+=y*Lt,pe+=y*Ut,fe+=y*Nt,se+=y*Ct,ve+=y*er,me+=y*tr,_e+=y*Bt,Ee+=y*rr,Se+=y*kt,Ie+=y*qt,Ae+=y*Ht,Me+=y*xt,Le+=y*nr,Ke+=y*ir,y=H[5],ce+=y*jt,we+=y*At,pe+=y*Lt,fe+=y*Ut,se+=y*Nt,ve+=y*Ct,me+=y*er,_e+=y*tr,Ee+=y*Bt,Se+=y*rr,Ie+=y*kt,Ae+=y*qt,Me+=y*Ht,Le+=y*xt,Ke+=y*nr,et+=y*ir,y=H[6],we+=y*jt,pe+=y*At,fe+=y*Lt,se+=y*Ut,ve+=y*Nt,me+=y*Ct,_e+=y*er,Ee+=y*tr,Se+=y*Bt,Ie+=y*rr,Ae+=y*kt,Me+=y*qt,Le+=y*Ht,Ke+=y*xt,et+=y*nr,Qe+=y*ir,y=H[7],pe+=y*jt,fe+=y*At,se+=y*Lt,ve+=y*Ut,me+=y*Nt,_e+=y*Ct,Ee+=y*er,Se+=y*tr,Ie+=y*Bt,Ae+=y*rr,Me+=y*kt,Le+=y*qt,Ke+=y*Ht,et+=y*xt,Qe+=y*nr,rt+=y*ir,y=H[8],fe+=y*jt,se+=y*At,ve+=y*Lt,me+=y*Ut,_e+=y*Nt,Ee+=y*Ct,Se+=y*er,Ie+=y*tr,Ae+=y*Bt,Me+=y*rr,Le+=y*kt,Ke+=y*qt,et+=y*Ht,Qe+=y*xt,rt+=y*nr,ze+=y*ir,y=H[9],se+=y*jt,ve+=y*At,me+=y*Lt,_e+=y*Ut,Ee+=y*Nt,Se+=y*Ct,Ie+=y*er,Ae+=y*tr,Me+=y*Bt,Le+=y*rr,Ke+=y*kt,et+=y*qt,Qe+=y*Ht,rt+=y*xt,ze+=y*nr,Et+=y*ir,y=H[10],ve+=y*jt,me+=y*At,_e+=y*Lt,Ee+=y*Ut,Se+=y*Nt,Ie+=y*Ct,Ae+=y*er,Me+=y*tr,Le+=y*Bt,Ke+=y*rr,et+=y*kt,Qe+=y*qt,rt+=y*Ht,ze+=y*xt,Et+=y*nr,mr+=y*ir,y=H[11],me+=y*jt,_e+=y*At,Ee+=y*Lt,Se+=y*Ut,Ie+=y*Nt,Ae+=y*Ct,Me+=y*er,Le+=y*tr,Ke+=y*Bt,et+=y*rr,Qe+=y*kt,rt+=y*qt,ze+=y*Ht,Et+=y*xt,mr+=y*nr,Fn+=y*ir,y=H[12],_e+=y*jt,Ee+=y*At,Se+=y*Lt,Ie+=y*Ut,Ae+=y*Nt,Me+=y*Ct,Le+=y*er,Ke+=y*tr,et+=y*Bt,Qe+=y*rr,rt+=y*kt,ze+=y*qt,Et+=y*Ht,mr+=y*xt,Fn+=y*nr,Ir+=y*ir,y=H[13],Ee+=y*jt,Se+=y*At,Ie+=y*Lt,Ae+=y*Ut,Me+=y*Nt,Le+=y*Ct,Ke+=y*er,et+=y*tr,Qe+=y*Bt,rt+=y*rr,ze+=y*kt,Et+=y*qt,mr+=y*Ht,Fn+=y*xt,Ir+=y*nr,Jn+=y*ir,y=H[14],Se+=y*jt,Ie+=y*At,Ae+=y*Lt,Me+=y*Ut,Le+=y*Nt,Ke+=y*Ct,et+=y*er,Qe+=y*tr,rt+=y*Bt,ze+=y*rr,Et+=y*kt,mr+=y*qt,Fn+=y*Ht,Ir+=y*xt,Jn+=y*nr,vi+=y*ir,y=H[15],Ie+=y*jt,Ae+=y*At,Me+=y*Lt,Le+=y*Ut,Ke+=y*Nt,et+=y*Ct,Qe+=y*er,rt+=y*tr,ze+=y*Bt,Et+=y*rr,mr+=y*kt,Fn+=y*qt,Ir+=y*Ht,Jn+=y*xt,vi+=y*nr,Qi+=y*ir,I+=38*Ae,R+=38*Me,q+=38*Le,re+=38*Ke,ne+=38*et,ce+=38*Qe,we+=38*rt,pe+=38*ze,fe+=38*Et,se+=38*mr,ve+=38*Fn,me+=38*Ir,_e+=38*Jn,Ee+=38*vi,Se+=38*Qi,U=1,y=I+U+65535,U=Math.floor(y/65536),I=y-U*65536,y=R+U+65535,U=Math.floor(y/65536),R=y-U*65536,y=q+U+65535,U=Math.floor(y/65536),q=y-U*65536,y=re+U+65535,U=Math.floor(y/65536),re=y-U*65536,y=ne+U+65535,U=Math.floor(y/65536),ne=y-U*65536,y=ce+U+65535,U=Math.floor(y/65536),ce=y-U*65536,y=we+U+65535,U=Math.floor(y/65536),we=y-U*65536,y=pe+U+65535,U=Math.floor(y/65536),pe=y-U*65536,y=fe+U+65535,U=Math.floor(y/65536),fe=y-U*65536,y=se+U+65535,U=Math.floor(y/65536),se=y-U*65536,y=ve+U+65535,U=Math.floor(y/65536),ve=y-U*65536,y=me+U+65535,U=Math.floor(y/65536),me=y-U*65536,y=_e+U+65535,U=Math.floor(y/65536),_e=y-U*65536,y=Ee+U+65535,U=Math.floor(y/65536),Ee=y-U*65536,y=Se+U+65535,U=Math.floor(y/65536),Se=y-U*65536,y=Ie+U+65535,U=Math.floor(y/65536),Ie=y-U*65536,I+=U-1+37*(U-1),U=1,y=I+U+65535,U=Math.floor(y/65536),I=y-U*65536,y=R+U+65535,U=Math.floor(y/65536),R=y-U*65536,y=q+U+65535,U=Math.floor(y/65536),q=y-U*65536,y=re+U+65535,U=Math.floor(y/65536),re=y-U*65536,y=ne+U+65535,U=Math.floor(y/65536),ne=y-U*65536,y=ce+U+65535,U=Math.floor(y/65536),ce=y-U*65536,y=we+U+65535,U=Math.floor(y/65536),we=y-U*65536,y=pe+U+65535,U=Math.floor(y/65536),pe=y-U*65536,y=fe+U+65535,U=Math.floor(y/65536),fe=y-U*65536,y=se+U+65535,U=Math.floor(y/65536),se=y-U*65536,y=ve+U+65535,U=Math.floor(y/65536),ve=y-U*65536,y=me+U+65535,U=Math.floor(y/65536),me=y-U*65536,y=_e+U+65535,U=Math.floor(y/65536),_e=y-U*65536,y=Ee+U+65535,U=Math.floor(y/65536),Ee=y-U*65536,y=Se+U+65535,U=Math.floor(y/65536),Se=y-U*65536,y=Ie+U+65535,U=Math.floor(y/65536),Ie=y-U*65536,I+=U-1+37*(U-1),$[0]=I,$[1]=R,$[2]=q,$[3]=re,$[4]=ne,$[5]=ce,$[6]=we,$[7]=pe,$[8]=fe,$[9]=se,$[10]=ve,$[11]=me,$[12]=_e,$[13]=Ee,$[14]=Se,$[15]=Ie}function w($,H){d($,H,H)}function Z($,H){const j=s();let y;for(y=0;y<16;y++)j[y]=H[y];for(y=253;y>=0;y--)w(j,j),y!==2&&y!==4&&d(j,j,H);for(y=0;y<16;y++)$[y]=j[y]}function B($,H){const j=s();let y;for(y=0;y<16;y++)j[y]=H[y];for(y=250;y>=0;y--)w(j,j),y!==1&&d(j,j,H);for(y=0;y<16;y++)$[y]=j[y]}function V($,H){const j=s(),y=s(),U=s(),I=s(),R=s(),q=s(),re=s(),ne=s(),ce=s();P(j,$[1],$[0]),P(ce,H[1],H[0]),d(j,j,ce),T(y,$[0],$[1]),T(ce,H[0],H[1]),d(y,y,ce),d(U,$[3],H[3]),d(U,U,h),d(I,$[2],H[2]),T(I,I,I),P(R,y,j),P(q,I,U),T(re,I,U),T(ne,y,j),d($[0],R,q),d($[1],ne,re),d($[2],re,q),d($[3],R,ne)}function ee($,H,j){for(let y=0;y<4;y++)N($[y],H[y],j)}function ae($,H){const j=s(),y=s(),U=s();Z(U,H[2]),d(j,H[0],U),d(y,H[1],U),M($,y),$[31]^=L(j)<<7}function E($,H,j){_($[0],c),_($[1],u),_($[2],u),_($[3],c);for(let y=255;y>=0;--y){const U=j[y/8|0]>>(y&7)&1;ee($,H,U),V(H,$),V($,$),ee($,H,U)}}function A($,H){const j=[s(),s(),s(),s()];_(j[0],p),_(j[1],m),_(j[2],u),d(j[3],p,m),E($,j,H)}function Y($){if($.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const H=(0,r.hash)($);H[0]&=248,H[31]&=127,H[31]|=64;const j=new Uint8Array(32),y=[s(),s(),s(),s()];A(y,H),ae(j,y);const U=new Uint8Array(64);return U.set($),U.set(j,32),{publicKey:j,secretKey:U}}t.generateKeyPairFromSeed=Y;function te($){const H=(0,e.randomBytes)(32,$),j=Y(H);return(0,n.wipe)(H),j}t.generateKeyPair=te;function Q($){if($.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array($.subarray(32))}t.extractPublicKeyFromSecretKey=Q;const J=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie($,H){let j,y,U,I;for(y=63;y>=32;--y){for(j=0,U=y-32,I=y-12;U<I;++U)H[U]+=j-16*H[y]*J[U-(y-32)],j=Math.floor((H[U]+128)/256),H[U]-=j*256;H[U]+=j,H[y]=0}for(j=0,U=0;U<32;U++)H[U]+=j-(H[31]>>4)*J[U],j=H[U]>>8,H[U]&=255;for(U=0;U<32;U++)H[U]-=j*J[U];for(y=0;y<32;y++)H[y+1]+=H[y]>>8,$[y]=H[y]&255}function ue($){const H=new Float64Array(64);for(let j=0;j<64;j++)H[j]=$[j];for(let j=0;j<64;j++)$[j]=0;ie($,H)}function xe($,H){const j=new Float64Array(64),y=[s(),s(),s(),s()],U=(0,r.hash)($.subarray(0,32));U[0]&=248,U[31]&=127,U[31]|=64;const I=new Uint8Array(64);I.set(U.subarray(32),32);const R=new r.SHA512;R.update(I.subarray(32)),R.update(H);const q=R.digest();R.clean(),ue(q),A(y,q),ae(I,y),R.reset(),R.update(I.subarray(0,32)),R.update($.subarray(32)),R.update(H);const re=R.digest();ue(re);for(let ne=0;ne<32;ne++)j[ne]=q[ne];for(let ne=0;ne<32;ne++)for(let ce=0;ce<32;ce++)j[ne+ce]+=re[ne]*U[ce];return ie(I.subarray(32),j),I}t.sign=xe;function ye($,H){const j=s(),y=s(),U=s(),I=s(),R=s(),q=s(),re=s();return _($[2],u),D($[1],H),w(U,$[1]),d(I,U,f),P(U,U,$[2]),T(I,$[2],I),w(R,I),w(q,R),d(re,q,R),d(j,re,U),d(j,j,I),B(j,j),d(j,j,U),d(j,j,I),d(j,j,I),d($[0],j,I),w(y,$[0]),d(y,y,I),C(y,U)&&d($[0],$[0],b),w(y,$[0]),d(y,y,I),C(y,U)?-1:(L($[0])===H[31]>>7&&P($[0],c,$[0]),d($[3],$[0],$[1]),0)}function Fe($,H,j){const y=new Uint8Array(32),U=[s(),s(),s(),s()],I=[s(),s(),s(),s()];if(j.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(ye(I,$))return!1;const R=new r.SHA512;R.update(j.subarray(0,32)),R.update($),R.update(H);const q=R.digest();return ue(q),E(U,I,q),A(I,j.subarray(32)),V(U,I),ae(y,U),!z(j,y)}t.verify=Fe;function Pe($){let H=[s(),s(),s(),s()];if(ye(H,$))throw new Error("Ed25519: invalid public key");let j=s(),y=s(),U=H[1];T(j,u,U),P(y,u,U),Z(y,y),d(j,j,y);let I=new Uint8Array(32);return M(I,j),I}t.convertPublicKeyToX25519=Pe;function Re($){const H=(0,r.hash)($.subarray(0,32));H[0]&=248,H[31]&=127,H[31]|=64;const j=new Uint8Array(H.subarray(0,32));return(0,n.wipe)(H),j}t.convertSecretKeyToX25519=Re})(Zp);const P$="EdDSA",S$="JWT",o_=".",a_="base64url",I$="utf8",D$="utf8",O$=":",A$="did",C$="key",fb="base58btc",T$="z",R$="K36",N$=32;function Ku(t){return Mr(qr(qa(t),I$),a_)}function c_(t){const e=qr(R$,fb),r=T$+Mr(Td([e,t]),fb);return[A$,C$,r].join(O$)}function $$(t){return Mr(t,a_)}function F$(t){return qr([Ku(t.header),Ku(t.payload)].join(o_),D$)}function M$(t){return[Ku(t.header),Ku(t.payload),$$(t.signature)].join(o_)}function hb(t=jo.randomBytes(N$)){return Zp.generateKeyPairFromSeed(t)}async function j$(t,e,r,n,s=Ue.fromMiliseconds(Date.now())){const a={alg:P$,typ:S$},c=c_(n.publicKey),u=s+r,f={iss:c,sub:t,aud:e,iat:s,exp:u},h=F$({header:a,payload:f}),p=Zp.sign(n.secretKey,h);return M$({header:a,payload:f,signature:p})}const L$="PARSE_ERROR",U$="INVALID_REQUEST",B$="METHOD_NOT_FOUND",k$="INVALID_PARAMS",u_="INTERNAL_ERROR",e0="SERVER_ERROR",H$=[-32700,-32600,-32601,-32602,-32603],Aa={[L$]:{code:-32700,message:"Parse error"},[U$]:{code:-32600,message:"Invalid Request"},[B$]:{code:-32601,message:"Method not found"},[k$]:{code:-32602,message:"Invalid params"},[u_]:{code:-32603,message:"Internal error"},[e0]:{code:-32e3,message:"Server error"}},l_=e0;function z$(t){return H$.includes(t)}function db(t){return Object.keys(Aa).includes(t)?Aa[t]:Aa[l_]}function q$(t){const e=Object.values(Aa).find(r=>r.code===t);return e||Aa[l_]}function f_(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var h_={},ui={},pb;function K$(){if(pb)return ui;pb=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.isBrowserCryptoAvailable=ui.getSubtleCrypto=ui.getBrowerCrypto=void 0;function t(){return(Pr==null?void 0:Pr.crypto)||(Pr==null?void 0:Pr.msCrypto)||{}}ui.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}ui.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return ui.isBrowserCryptoAvailable=r,ui}var li={},gb;function V$(){if(gb)return li;gb=1,Object.defineProperty(li,"__esModule",{value:!0}),li.isBrowser=li.isNode=li.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}li.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}li.isNode=e;function r(){return!t()&&!e()}return li.isBrowser=r,li}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=_n;e.__exportStar(K$(),t),e.__exportStar(V$(),t)})(h_);function d_(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function p_(t=6){return BigInt(d_(t))}function Nl(t,e,r){return{id:r||d_(),jsonrpc:"2.0",method:t,params:e}}function t0(t,e){return{id:t,jsonrpc:"2.0",result:e}}function $l(t,e,r){return{id:t,jsonrpc:"2.0",error:G$(e,r)}}function G$(t,e){return typeof t>"u"?db(u_):(typeof t=="string"&&(t=Object.assign(Object.assign({},db(e0)),{message:t})),typeof e<"u"&&(t.data=e),z$(t.code)&&(t=q$(t.code)),t)}class W${}class Y$ extends W${constructor(){super()}}class J$ extends Y${constructor(e){super()}}const X$="^https?:",Q$="^wss?:";function Z$(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function g_(t,e){const r=Z$(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function yb(t){return g_(t,X$)}function mb(t){return g_(t,Q$)}function eF(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function y_(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function r0(t){return y_(t)&&"method"in t}function Fl(t){return y_(t)&&(hi(t)||On(t))}function hi(t){return"result"in t}function On(t){return"error"in t}class Ji extends J${constructor(e){super(e),this.events=new on.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Nl(e.method,e.params||[],e.id||p_().toString()),r)}async requestStrict(e,r){return new Promise(async(n,s)=>{if(!this.connection.connected)try{await this.open()}catch(a){s(a)}this.events.on(`${e.id}`,a=>{On(a)?s(a.error):n(a.result)});try{await this.connection.send(e,r)}catch(a){s(a)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Fl(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const bb=10,tF=()=>typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:require("ws"),rF=()=>typeof window<"u",nF=tF();class iF{constructor(e){if(this.url=e,this.events=new on.EventEmitter,this.registering=!1,!mb(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e,r){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(qa(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!mb(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),s(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const s=h_.isReactNative()?void 0:{rejectUnauthorized:!eF(e)},a=new nF(e,[],s);rF()?a.onerror=c=>{const u=c;n(this.emitError(u.error))}:a.on("error",c=>{n(this.emitError(c))}),a.onopen=()=>{this.onOpen(a),r(a)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Qp(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),a=$l(e,s);this.events.emit("payload",a)}parseError(e,r=this.url){return f_(e,r,"WS")}resetMaxListeners(){this.events.getMaxListeners()>bb&&this.events.setMaxListeners(bb)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",r),r}}var Vu={exports:{}};Vu.exports;(function(t,e){var r=200,n="__lodash_hash_undefined__",s=1,a=2,c=9007199254740991,u="[object Arguments]",f="[object Array]",h="[object AsyncFunction]",p="[object Boolean]",m="[object Date]",b="[object Error]",_="[object Function]",x="[object GeneratorFunction]",N="[object Map]",M="[object Number]",z="[object Null]",C="[object Object]",L="[object Promise]",D="[object Proxy]",T="[object RegExp]",P="[object Set]",d="[object String]",w="[object Symbol]",Z="[object Undefined]",B="[object WeakMap]",V="[object ArrayBuffer]",ee="[object DataView]",ae="[object Float32Array]",E="[object Float64Array]",A="[object Int8Array]",Y="[object Int16Array]",te="[object Int32Array]",Q="[object Uint8Array]",J="[object Uint8ClampedArray]",ie="[object Uint16Array]",ue="[object Uint32Array]",xe=/[\\^$.*+?()[\]{}|]/g,ye=/^\[object .+?Constructor\]$/,Fe=/^(?:0|[1-9]\d*)$/,Pe={};Pe[ae]=Pe[E]=Pe[A]=Pe[Y]=Pe[te]=Pe[Q]=Pe[J]=Pe[ie]=Pe[ue]=!0,Pe[u]=Pe[f]=Pe[V]=Pe[p]=Pe[ee]=Pe[m]=Pe[b]=Pe[_]=Pe[N]=Pe[M]=Pe[C]=Pe[T]=Pe[P]=Pe[d]=Pe[B]=!1;var Re=typeof Pr=="object"&&Pr&&Pr.Object===Object&&Pr,$=typeof self=="object"&&self&&self.Object===Object&&self,H=Re||$||Function("return this")(),j=e&&!e.nodeType&&e,y=j&&!0&&t&&!t.nodeType&&t,U=y&&y.exports===j,I=U&&Re.process,R=function(){try{return I&&I.binding&&I.binding("util")}catch{}}(),q=R&&R.isTypedArray;function re(F,G){for(var ge=-1,Ne=F==null?0:F.length,vt=0,Ge=[];++ge<Ne;){var St=F[ge];G(St,ge,F)&&(Ge[vt++]=St)}return Ge}function ne(F,G){for(var ge=-1,Ne=G.length,vt=F.length;++ge<Ne;)F[vt+ge]=G[ge];return F}function ce(F,G){for(var ge=-1,Ne=F==null?0:F.length;++ge<Ne;)if(G(F[ge],ge,F))return!0;return!1}function we(F,G){for(var ge=-1,Ne=Array(F);++ge<F;)Ne[ge]=G(ge);return Ne}function pe(F){return function(G){return F(G)}}function fe(F,G){return F.has(G)}function se(F,G){return F==null?void 0:F[G]}function ve(F){var G=-1,ge=Array(F.size);return F.forEach(function(Ne,vt){ge[++G]=[vt,Ne]}),ge}function me(F,G){return function(ge){return F(G(ge))}}function _e(F){var G=-1,ge=Array(F.size);return F.forEach(function(Ne){ge[++G]=Ne}),ge}var Ee=Array.prototype,Se=Function.prototype,Ie=Object.prototype,Ae=H["__core-js_shared__"],Me=Se.toString,Le=Ie.hasOwnProperty,Ke=function(){var F=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||"");return F?"Symbol(src)_1."+F:""}(),et=Ie.toString,Qe=RegExp("^"+Me.call(Le).replace(xe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=U?H.Buffer:void 0,ze=H.Symbol,Et=H.Uint8Array,mr=Ie.propertyIsEnumerable,Fn=Ee.splice,Ir=ze?ze.toStringTag:void 0,Jn=Object.getOwnPropertySymbols,vi=rt?rt.isBuffer:void 0,Qi=me(Object.keys,Object),jt=Wr(H,"DataView"),At=Wr(H,"Map"),Lt=Wr(H,"Promise"),Ut=Wr(H,"Set"),Nt=Wr(H,"WeakMap"),Ct=Wr(Object,"create"),er=Qn(jt),tr=Qn(At),Bt=Qn(Lt),rr=Qn(Ut),kt=Qn(Nt),qt=ze?ze.prototype:void 0,Ht=qt?qt.valueOf:void 0;function xt(F){var G=-1,ge=F==null?0:F.length;for(this.clear();++G<ge;){var Ne=F[G];this.set(Ne[0],Ne[1])}}function nr(){this.__data__=Ct?Ct(null):{},this.size=0}function ir(F){var G=this.has(F)&&delete this.__data__[F];return this.size-=G?1:0,G}function Ul(F){var G=this.__data__;if(Ct){var ge=G[F];return ge===n?void 0:ge}return Le.call(G,F)?G[F]:void 0}function Bl(F){var G=this.__data__;return Ct?G[F]!==void 0:Le.call(G,F)}function kl(F,G){var ge=this.__data__;return this.size+=this.has(F)?0:1,ge[F]=Ct&&G===void 0?n:G,this}xt.prototype.clear=nr,xt.prototype.delete=ir,xt.prototype.get=Ul,xt.prototype.has=Bl,xt.prototype.set=kl;function cn(F){var G=-1,ge=F==null?0:F.length;for(this.clear();++G<ge;){var Ne=F[G];this.set(Ne[0],Ne[1])}}function Hl(){this.__data__=[],this.size=0}function zl(F){var G=this.__data__,ge=Zi(G,F);if(ge<0)return!1;var Ne=G.length-1;return ge==Ne?G.pop():Fn.call(G,ge,1),--this.size,!0}function ql(F){var G=this.__data__,ge=Zi(G,F);return ge<0?void 0:G[ge][1]}function Kl(F){return Zi(this.__data__,F)>-1}function Vl(F,G){var ge=this.__data__,Ne=Zi(ge,F);return Ne<0?(++this.size,ge.push([F,G])):ge[Ne][1]=G,this}cn.prototype.clear=Hl,cn.prototype.delete=zl,cn.prototype.get=ql,cn.prototype.has=Kl,cn.prototype.set=Vl;function Xn(F){var G=-1,ge=F==null?0:F.length;for(this.clear();++G<ge;){var Ne=F[G];this.set(Ne[0],Ne[1])}}function Fs(){this.size=0,this.__data__={hash:new xt,map:new(At||cn),string:new xt}}function Gl(F){var G=wi(this,F).delete(F);return this.size-=G?1:0,G}function Ms(F){return wi(this,F).get(F)}function Wl(F){return wi(this,F).has(F)}function Yl(F,G){var ge=wi(this,F),Ne=ge.size;return ge.set(F,G),this.size+=ge.size==Ne?0:1,this}Xn.prototype.clear=Fs,Xn.prototype.delete=Gl,Xn.prototype.get=Ms,Xn.prototype.has=Wl,Xn.prototype.set=Yl;function js(F){var G=-1,ge=F==null?0:F.length;for(this.__data__=new Xn;++G<ge;)this.add(F[G])}function rc(F){return this.__data__.set(F,n),this}function nc(F){return this.__data__.has(F)}js.prototype.add=js.prototype.push=rc,js.prototype.has=nc;function En(F){var G=this.__data__=new cn(F);this.size=G.size}function Jl(){this.__data__=new cn,this.size=0}function Xl(F){var G=this.__data__,ge=G.delete(F);return this.size=G.size,ge}function Ql(F){return this.__data__.get(F)}function Zl(F){return this.__data__.has(F)}function ic(F,G){var ge=this.__data__;if(ge instanceof cn){var Ne=ge.__data__;if(!At||Ne.length<r-1)return Ne.push([F,G]),this.size=++ge.size,this;ge=this.__data__=new Xn(Ne)}return ge.set(F,G),this.size=ge.size,this}En.prototype.clear=Jl,En.prototype.delete=Xl,En.prototype.get=Ql,En.prototype.has=Zl,En.prototype.set=ic;function sc(F,G){var ge=Bs(F),Ne=!ge&&mc(F),vt=!ge&&!Ne&&Ho(F),Ge=!ge&&!Ne&&!vt&&wc(F),St=ge||Ne||vt||Ge,sr=St?we(F.length,String):[],at=sr.length;for(var wt in F)(G||Le.call(F,wt))&&!(St&&(wt=="length"||vt&&(wt=="offset"||wt=="parent")||Ge&&(wt=="buffer"||wt=="byteLength"||wt=="byteOffset")||hc(wt,at)))&&sr.push(wt);return sr}function Zi(F,G){for(var ge=F.length;ge--;)if(yc(F[ge][0],G))return ge;return-1}function Bo(F,G,ge){var Ne=G(F);return Bs(F)?Ne:ne(Ne,ge(F))}function es(F){return F==null?F===void 0?Z:z:Ir&&Ir in Object(F)?lc(F):rf(F)}function ko(F){return rs(F)&&es(F)==u}function ts(F,G,ge,Ne,vt){return F===G?!0:F==null||G==null||!rs(F)&&!rs(G)?F!==F&&G!==G:oc(F,G,ge,Ne,ts,vt)}function oc(F,G,ge,Ne,vt,Ge){var St=Bs(F),sr=Bs(G),at=St?f:Mn(F),wt=sr?f:Mn(G);at=at==u?C:at,wt=wt==u?C:wt;var Kt=at==C,jr=wt==C,or=at==wt;if(or&&Ho(F)){if(!Ho(G))return!1;St=!0,Kt=!1}if(or&&!Kt)return Ge||(Ge=new En),St||wc(F)?Ls(F,G,ge,Ne,vt,Ge):tf(F,G,at,ge,Ne,vt,Ge);if(!(ge&s)){var It=Kt&&Le.call(F,"__wrapped__"),Dr=jr&&Le.call(G,"__wrapped__");if(It||Dr){var xn=It?F.value():F,un=Dr?G.value():G;return Ge||(Ge=new En),vt(xn,un,ge,Ne,Ge)}}return or?(Ge||(Ge=new En),uc(F,G,ge,Ne,vt,Ge)):!1}function ef(F){if(!vc(F)||pc(F))return!1;var G=ks(F)?Qe:ye;return G.test(Qn(F))}function ac(F){return rs(F)&&bc(F.length)&&!!Pe[es(F)]}function cc(F){if(!gc(F))return Qi(F);var G=[];for(var ge in Object(F))Le.call(F,ge)&&ge!="constructor"&&G.push(ge);return G}function Ls(F,G,ge,Ne,vt,Ge){var St=ge&s,sr=F.length,at=G.length;if(sr!=at&&!(St&&at>sr))return!1;var wt=Ge.get(F);if(wt&&Ge.get(G))return wt==G;var Kt=-1,jr=!0,or=ge&a?new js:void 0;for(Ge.set(F,G),Ge.set(G,F);++Kt<sr;){var It=F[Kt],Dr=G[Kt];if(Ne)var xn=St?Ne(Dr,It,Kt,G,F,Ge):Ne(It,Dr,Kt,F,G,Ge);if(xn!==void 0){if(xn)continue;jr=!1;break}if(or){if(!ce(G,function(un,jn){if(!fe(or,jn)&&(It===un||vt(It,un,ge,Ne,Ge)))return or.push(jn)})){jr=!1;break}}else if(!(It===Dr||vt(It,Dr,ge,Ne,Ge))){jr=!1;break}}return Ge.delete(F),Ge.delete(G),jr}function tf(F,G,ge,Ne,vt,Ge,St){switch(ge){case ee:if(F.byteLength!=G.byteLength||F.byteOffset!=G.byteOffset)return!1;F=F.buffer,G=G.buffer;case V:return!(F.byteLength!=G.byteLength||!Ge(new Et(F),new Et(G)));case p:case m:case M:return yc(+F,+G);case b:return F.name==G.name&&F.message==G.message;case T:case d:return F==G+"";case N:var sr=ve;case P:var at=Ne&s;if(sr||(sr=_e),F.size!=G.size&&!at)return!1;var wt=St.get(F);if(wt)return wt==G;Ne|=a,St.set(F,G);var Kt=Ls(sr(F),sr(G),Ne,vt,Ge,St);return St.delete(F),Kt;case w:if(Ht)return Ht.call(F)==Ht.call(G)}return!1}function uc(F,G,ge,Ne,vt,Ge){var St=ge&s,sr=Us(F),at=sr.length,wt=Us(G),Kt=wt.length;if(at!=Kt&&!St)return!1;for(var jr=at;jr--;){var or=sr[jr];if(!(St?or in G:Le.call(G,or)))return!1}var It=Ge.get(F);if(It&&Ge.get(G))return It==G;var Dr=!0;Ge.set(F,G),Ge.set(G,F);for(var xn=St;++jr<at;){or=sr[jr];var un=F[or],jn=G[or];if(Ne)var zo=St?Ne(jn,un,or,G,F,Ge):Ne(un,jn,or,F,G,Ge);if(!(zo===void 0?un===jn||vt(un,jn,ge,Ne,Ge):zo)){Dr=!1;break}xn||(xn=or=="constructor")}if(Dr&&!xn){var ns=F.constructor,hr=G.constructor;ns!=hr&&"constructor"in F&&"constructor"in G&&!(typeof ns=="function"&&ns instanceof ns&&typeof hr=="function"&&hr instanceof hr)&&(Dr=!1)}return Ge.delete(F),Ge.delete(G),Dr}function Us(F){return Bo(F,of,fc)}function wi(F,G){var ge=F.__data__;return dc(G)?ge[typeof G=="string"?"string":"hash"]:ge.map}function Wr(F,G){var ge=se(F,G);return ef(ge)?ge:void 0}function lc(F){var G=Le.call(F,Ir),ge=F[Ir];try{F[Ir]=void 0;var Ne=!0}catch{}var vt=et.call(F);return Ne&&(G?F[Ir]=ge:delete F[Ir]),vt}var fc=Jn?function(F){return F==null?[]:(F=Object(F),re(Jn(F),function(G){return mr.call(F,G)}))}:bt,Mn=es;(jt&&Mn(new jt(new ArrayBuffer(1)))!=ee||At&&Mn(new At)!=N||Lt&&Mn(Lt.resolve())!=L||Ut&&Mn(new Ut)!=P||Nt&&Mn(new Nt)!=B)&&(Mn=function(F){var G=es(F),ge=G==C?F.constructor:void 0,Ne=ge?Qn(ge):"";if(Ne)switch(Ne){case er:return ee;case tr:return N;case Bt:return L;case rr:return P;case kt:return B}return G});function hc(F,G){return G=G??c,!!G&&(typeof F=="number"||Fe.test(F))&&F>-1&&F%1==0&&F<G}function dc(F){var G=typeof F;return G=="string"||G=="number"||G=="symbol"||G=="boolean"?F!=="__proto__":F===null}function pc(F){return!!Ke&&Ke in F}function gc(F){var G=F&&F.constructor,ge=typeof G=="function"&&G.prototype||Ie;return F===ge}function rf(F){return et.call(F)}function Qn(F){if(F!=null){try{return Me.call(F)}catch{}try{return F+""}catch{}}return""}function yc(F,G){return F===G||F!==F&&G!==G}var mc=ko(function(){return arguments}())?ko:function(F){return rs(F)&&Le.call(F,"callee")&&!mr.call(F,"callee")},Bs=Array.isArray;function nf(F){return F!=null&&bc(F.length)&&!ks(F)}var Ho=vi||yt;function sf(F,G){return ts(F,G)}function ks(F){if(!vc(F))return!1;var G=es(F);return G==_||G==x||G==h||G==D}function bc(F){return typeof F=="number"&&F>-1&&F%1==0&&F<=c}function vc(F){var G=typeof F;return F!=null&&(G=="object"||G=="function")}function rs(F){return F!=null&&typeof F=="object"}var wc=q?pe(q):ac;function of(F){return nf(F)?sc(F):cc(F)}function bt(){return[]}function yt(){return!1}t.exports=sf})(Vu,Vu.exports);var sF=Vu.exports;const oF=jp(sF);function aF(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(r[c]!==255)throw new TypeError(a+" is ambiguous");r[c]=s}var u=t.length,f=t.charAt(0),h=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function m(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";for(var N=0,M=0,z=0,C=x.length;z!==C&&x[z]===0;)z++,N++;for(var L=(C-z)*p+1>>>0,D=new Uint8Array(L);z!==C;){for(var T=x[z],P=0,d=L-1;(T!==0||P<M)&&d!==-1;d--,P++)T+=256*D[d]>>>0,D[d]=T%u>>>0,T=T/u>>>0;if(T!==0)throw new Error("Non-zero carry");M=P,z++}for(var w=L-M;w!==L&&D[w]===0;)w++;for(var Z=f.repeat(N);w<L;++w)Z+=t.charAt(D[w]);return Z}function b(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;var N=0;if(x[N]!==" "){for(var M=0,z=0;x[N]===f;)M++,N++;for(var C=(x.length-N)*h+1>>>0,L=new Uint8Array(C);x[N];){var D=r[x.charCodeAt(N)];if(D===255)return;for(var T=0,P=C-1;(D!==0||T<z)&&P!==-1;P--,T++)D+=u*L[P]>>>0,L[P]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");z=T,N++}if(x[N]!==" "){for(var d=C-z;d!==C&&L[d]===0;)d++;for(var w=new Uint8Array(M+(C-d)),Z=M;d!==C;)w[Z++]=L[d++];return w}}}function _(x){var N=b(x);if(N)return N;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:b,decode:_}}var cF=aF,uF=cF;const m_=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},lF=t=>new TextEncoder().encode(t),fF=t=>new TextDecoder().decode(t);let hF=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}};class dF{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return b_(this,e)}}class pF{constructor(e){this.decoders=e}or(e){return b_(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const b_=(t,e)=>new pF({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class gF{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new hF(e,r,n),this.decoder=new dF(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ml=({name:t,prefix:e,encode:r,decode:n})=>new gF(t,e,r,n),tc=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=uF(r,e);return Ml({prefix:t,name:e,encode:n,decode:a=>m_(s(a))})},yF=(t,e,r,n)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*r/8|0);let u=0,f=0,h=0;for(let p=0;p<a;++p){const m=s[t[p]];if(m===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|m,u+=r,u>=8&&(u-=8,c[h++]=255&f>>u)}if(u>=r||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return c},mF=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let a="",c=0,u=0;for(let f=0;f<t.length;++f)for(u=u<<8|t[f],c+=8;c>r;)c-=r,a+=e[s&u>>c];if(c&&(a+=e[s&u<<r-c]),n)for(;a.length*r&7;)a+="=";return a},wr=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Ml({prefix:e,name:t,encode(s){return mF(s,n,r)},decode(s){return yF(s,n,r,t)}}),bF=Ml({prefix:"\0",name:"identity",encode:t=>fF(t),decode:t=>lF(t)});var vF=Object.freeze({__proto__:null,identity:bF});const wF=wr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var _F=Object.freeze({__proto__:null,base2:wF});const EF=wr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var xF=Object.freeze({__proto__:null,base8:EF});const PF=tc({prefix:"9",name:"base10",alphabet:"0123456789"});var SF=Object.freeze({__proto__:null,base10:PF});const IF=wr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),DF=wr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var OF=Object.freeze({__proto__:null,base16:IF,base16upper:DF});const AF=wr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),CF=wr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),TF=wr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),RF=wr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),NF=wr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$F=wr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),FF=wr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),MF=wr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),jF=wr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var LF=Object.freeze({__proto__:null,base32:AF,base32upper:CF,base32pad:TF,base32padupper:RF,base32hex:NF,base32hexupper:$F,base32hexpad:FF,base32hexpadupper:MF,base32z:jF});const UF=tc({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),BF=tc({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var kF=Object.freeze({__proto__:null,base36:UF,base36upper:BF});const HF=tc({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),zF=tc({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var qF=Object.freeze({__proto__:null,base58btc:HF,base58flickr:zF});const KF=wr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),VF=wr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),GF=wr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),WF=wr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var YF=Object.freeze({__proto__:null,base64:KF,base64pad:VF,base64url:GF,base64urlpad:WF});const v_=Array.from(""),JF=v_.reduce((t,e,r)=>(t[r]=e,t),[]),XF=v_.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function QF(t){return t.reduce((e,r)=>(e+=JF[r],e),"")}function ZF(t){const e=[];for(const r of t){const n=XF[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const eM=Ml({prefix:"",name:"base256emoji",encode:QF,decode:ZF});var tM=Object.freeze({__proto__:null,base256emoji:eM}),rM=w_,vb=128,nM=127,iM=~nM,sM=Math.pow(2,31);function w_(t,e,r){e=e||[],r=r||0;for(var n=r;t>=sM;)e[r++]=t&255|vb,t/=128;for(;t&iM;)e[r++]=t&255|vb,t>>>=7;return e[r]=t|0,w_.bytes=r-n+1,e}var oM=jd,aM=128,wb=127;function jd(t,n){var r=0,n=n||0,s=0,a=n,c,u=t.length;do{if(a>=u)throw jd.bytes=0,new RangeError("Could not decode varint");c=t[a++],r+=s<28?(c&wb)<<s:(c&wb)*Math.pow(2,s),s+=7}while(c>=aM);return jd.bytes=a-n,r}var cM=Math.pow(2,7),uM=Math.pow(2,14),lM=Math.pow(2,21),fM=Math.pow(2,28),hM=Math.pow(2,35),dM=Math.pow(2,42),pM=Math.pow(2,49),gM=Math.pow(2,56),yM=Math.pow(2,63),mM=function(t){return t<cM?1:t<uM?2:t<lM?3:t<fM?4:t<hM?5:t<dM?6:t<pM?7:t<gM?8:t<yM?9:10},bM={encode:rM,decode:oM,encodingLength:mM},__=bM;const _b=(t,e,r=0)=>(__.encode(t,e,r),e),Eb=t=>__.encodingLength(t),Ld=(t,e)=>{const r=e.byteLength,n=Eb(t),s=n+Eb(r),a=new Uint8Array(s+r);return _b(t,a,0),_b(r,a,n),a.set(e,s),new vM(t,r,e,a)};class vM{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}}const E_=({name:t,code:e,encode:r})=>new wM(t,e,r);class wM{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?Ld(this.code,r):r.then(n=>Ld(this.code,n))}else throw Error("Unknown type, must be binary type")}}const x_=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),_M=E_({name:"sha2-256",code:18,encode:x_("SHA-256")}),EM=E_({name:"sha2-512",code:19,encode:x_("SHA-512")});var xM=Object.freeze({__proto__:null,sha256:_M,sha512:EM});const P_=0,PM="identity",S_=m_,SM=t=>Ld(P_,S_(t)),IM={code:P_,name:PM,encode:S_,digest:SM};var DM=Object.freeze({__proto__:null,identity:IM});new TextEncoder,new TextDecoder;const xb={...vF,..._F,...xF,...SF,...OF,...LF,...kF,...qF,...YF,...tM};({...xM,...DM});function I_(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function OM(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?I_(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function D_(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Pb=D_("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),$h=D_("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=OM(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),AM={utf8:Pb,"utf-8":Pb,hex:xb.base16,latin1:$h,ascii:$h,binary:$h,...xb};function CM(t,e="utf8"){const r=AM[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?I_(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}const O_="wc",TM=2,n0="core",Ki=`${O_}@2:${n0}:`,RM={name:n0,logger:"error"},NM={database:":memory:"},$M="crypto",Sb="client_ed25519_seed",FM=Ue.ONE_DAY,MM="keychain",jM="0.3",LM="messages",UM="0.3",BM=Ue.SIX_HOURS,kM="publisher",A_="irn",HM="error",C_="wss://relay.walletconnect.com",zM="relayer",cr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},qM="_subscription",ya={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},KM=Ue.ONE_SECOND/2,VM="2.7.8",GM=1e4,WM="0.3",qn={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},YM="subscription",JM="0.3",XM=Ue.FIVE_SECONDS*1e3,QM="pairing",ZM="0.3",ma={wc_pairingDelete:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ue.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ue.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:0}}},zn={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},ej="history",tj="0.3",rj="expirer",bn={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},nj="0.3",Fh="verify-api",Ib="https://verify.walletconnect.com";class ij{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=MM,this.version=jM,this.initialized=!1,this.storagePrefix=Ki,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()},this.get=n=>{this.isInitialized();const s=this.keychain.get(n);if(typeof s>"u"){const{message:a}=Ce("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(a)}return s},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=ut.generateChildLogger(r,this.name)}get context(){return ut.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Ww(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Yw(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}}class sj{constructor(e,r,n){this.core=e,this.logger=r,this.name=$M,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=s=>(this.isInitialized(),this.keychain.has(s)),this.getClientId=async()=>{this.isInitialized();const s=await this.getClientSeed(),a=hb(s);return c_(a.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const s=HR();return this.setPrivateKey(s.publicKey,s.privateKey)},this.signJWT=async s=>{this.isInitialized();const a=await this.getClientSeed(),c=hb(a),u=Fd();return await j$(u,s,FM,c)},this.generateSharedKey=(s,a,c)=>{this.isInitialized();const u=this.getPrivateKey(s),f=zR(u,a);return this.setSymKey(f,c)},this.setSymKey=async(s,a)=>{this.isInitialized();const c=a||qR(s);return await this.keychain.set(c,s),c},this.deleteKeyPair=async s=>{this.isInitialized(),await this.keychain.del(s)},this.deleteSymKey=async s=>{this.isInitialized(),await this.keychain.del(s)},this.encode=async(s,a,c)=>{this.isInitialized();const u=Kw(c),f=qa(a);if(km(u)){const b=u.senderPublicKey,_=u.receiverPublicKey;s=await this.generateSharedKey(b,_)}const h=this.getSymKey(s),{type:p,senderPublicKey:m}=u;return VR({type:p,symKey:h,message:f,senderPublicKey:m})},this.decode=async(s,a,c)=>{this.isInitialized();const u=YR(a,c);if(km(u)){const p=u.receiverPublicKey,m=u.senderPublicKey;s=await this.generateSharedKey(p,m)}const f=this.getSymKey(s),h=GR({symKey:f,encoded:a});return Qp(h)},this.getPayloadType=s=>{const a=zu(s);return Qa(a.type)},this.getPayloadSenderPublicKey=s=>{const a=zu(s);return a.senderPublicKey?Mr(a.senderPublicKey,Fr):void 0},this.core=e,this.logger=ut.generateChildLogger(r,this.name),this.keychain=n||new ij(this.core,this.logger)}get context(){return ut.getLoggerContext(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Sb)}catch{e=Fd(),await this.keychain.set(Sb,e)}return CM(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}}class oj extends d${constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=LM,this.version=UM,this.initialized=!1,this.storagePrefix=Ki,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,s)=>{this.isInitialized();const a=bo(s);let c=this.messages.get(n);return typeof c>"u"&&(c={}),typeof c[a]<"u"||(c[a]=s,this.messages.set(n,c),await this.persist()),a},this.get=n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s},this.has=(n,s)=>{this.isInitialized();const a=this.get(n),c=bo(s);return typeof a[c]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=ut.generateChildLogger(e,this.name),this.core=r}get context(){return ut.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Ww(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Yw(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}}let aj=class extends p${constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new on.EventEmitter,this.name=kM,this.queue=new Map,this.publishTimeout=1e4,this.publish=async(n,s,a)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:a}});try{const c=(a==null?void 0:a.ttl)||BM,u=Md(a),f=(a==null?void 0:a.prompt)||!1,h=(a==null?void 0:a.tag)||0,p=(a==null?void 0:a.id)||p_().toString(),m={topic:n,message:s,opts:{ttl:c,relay:u,prompt:f,tag:h,id:p}};this.queue.set(p,m);try{await await qu(this.rpcPublish(n,s,c,u,f,h,p),this.publishTimeout),this.relayer.events.emit(cr.publish,m)}catch{this.logger.debug("Publishing Payload stalled"),this.relayer.events.emit(cr.connection_stalled);return}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:a}})}catch(c){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(c),c}},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.relayer=e,this.logger=ut.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return ut.getLoggerContext(this.logger)}rpcPublish(e,r,n,s,a,c,u){var f,h,p,m;const b={method:Su(s.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:a,tag:c},id:u};return Nr((f=b.params)==null?void 0:f.prompt)&&((h=b.params)==null||delete h.prompt),Nr((p=b.params)==null?void 0:p.tag)&&((m=b.params)==null||delete m.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:b}),this.relayer.request(b)}onPublish(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:r,message:n,opts:s}=e;await this.publish(r,n,s)})}registerEventListeners(){this.relayer.core.heartbeat.on(ec.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()}),this.relayer.on(cr.message_ack,e=>{this.onPublish(e.id.toString())})}},cj=class{constructor(){this.map=new Map,this.set=(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const s=n.filter(a=>a!==r);if(!s.length){this.map.delete(e);return}this.map.set(e,s)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}};var uj=Object.defineProperty,lj=Object.defineProperties,fj=Object.getOwnPropertyDescriptors,Db=Object.getOwnPropertySymbols,hj=Object.prototype.hasOwnProperty,dj=Object.prototype.propertyIsEnumerable,Ob=(t,e,r)=>e in t?uj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ba=(t,e)=>{for(var r in e||(e={}))hj.call(e,r)&&Ob(t,r,e[r]);if(Db)for(var r of Db(e))dj.call(e,r)&&Ob(t,r,e[r]);return t},Mh=(t,e)=>lj(t,fj(e));class pj extends m${constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new cj,this.events=new on.EventEmitter,this.name=YM,this.version=JM,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Ki,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,s)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{const a=Md(s),c={topic:n,relay:a};this.pending.set(n,c);const u=await this.rpcSubscribe(n,a);return this.onSubscribe(u,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}}),u}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}},this.unsubscribe=async(n,s)=>{await this.restartToComplete(),this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)},this.isSubscribed=async n=>this.topics.includes(n)?!0:await new Promise((s,a)=>{const c=new Ue.Watch;c.start(this.pendingSubscriptionWatchLabel);const u=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(u),c.stop(this.pendingSubscriptionWatchLabel),s(!0)),c.elapsed(this.pendingSubscriptionWatchLabel)>=XM&&(clearInterval(u),c.stop(this.pendingSubscriptionWatchLabel),a(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=ut.generateChildLogger(r,this.name),this.clientId=""}get context(){return ut.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async s=>await this.unsubscribeById(e,s,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const s=Md(n);await this.rpcUnsubscribe(e,r,s);const a=Jt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,a),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,r){const n={method:Su(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await qu(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(cr.connection_stalled)}return bo(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:Su(r.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await qu(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(cr.connection_stalled)}}rpcUnsubscribe(e,r,n){const s={method:Su(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,r){this.setSubscription(e,Mh(ba({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,ba({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r))}addSubscription(e,r){this.subscriptions.set(e,ba({},r)),this.topicMap.set(r.topic,e),this.events.emit(qn.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=Ce("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(qn.deleted,Mh(ba({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(qn.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(qn.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const r=await this.rpcBatchSubscribe(e);yi(r)&&this.onBatchSubscribe(r.map((n,s)=>Mh(ba({},e[s]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(ec.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(cr.connect,async()=>{await this.onConnect()}),this.relayer.on(cr.disconnect,()=>{this.onDisconnect()}),this.events.on(qn.created,async e=>{const r=qn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(qn.deleted,async e=>{const r=qn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}}var gj=Object.defineProperty,Ab=Object.getOwnPropertySymbols,yj=Object.prototype.hasOwnProperty,mj=Object.prototype.propertyIsEnumerable,Cb=(t,e,r)=>e in t?gj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bj=(t,e)=>{for(var r in e||(e={}))yj.call(e,r)&&Cb(t,r,e[r]);if(Ab)for(var r of Ab(e))mj.call(e,r)&&Cb(t,r,e[r]);return t};class vj extends g${constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new on.EventEmitter,this.name=zM,this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=async r=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(r)}catch(n){throw this.logger.debug("Failed to Publish Request"),this.logger.error(n),n}},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ut.generateChildLogger(e.logger,this.name):ut.pino(ut.getDefaultLoggerOptions({level:e.logger||HM})),this.messages=new oj(this.logger,e.core),this.subscriber=new pj(this,this.logger),this.publisher=new aj(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||C_,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribted to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},GM)}get context(){return ut.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now()})}async subscribe(e,r){var n;this.isInitialized();let s=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"";return s||(await Promise.all([new Promise(a=>{this.subscriber.once(qn.created,c=>{c.topic===e&&a()})}),new Promise(async a=>{s=await this.subscriber.subscribe(e,r),a()})]),s)}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(cr.transport_closed))}async transportOpen(e){if(this.transportExplicitlyClosed=!1,!this.reconnecting){this.relayUrl=e||this.relayUrl,this.reconnecting=!0;try{await Promise.all([new Promise(r=>{this.initialized||r(),this.subscriber.once(qn.resubscribed,()=>{r()})}),await Promise.race([new Promise(async(r,n)=>{await qu(this.provider.connect(),5e3,"socket stalled").catch(s=>n(s)).then(()=>r()).finally(()=>this.removeListener(cr.transport_closed,this.rejectTransportOpen))}),new Promise(r=>this.once(cr.transport_closed,this.rejectTransportOpen))])])}catch(r){this.logger.error(r);const n=r;if(!this.isConnectionStalled(n.message))throw r;this.events.emit(cr.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(e){this.transportExplicitlyClosed||this.reconnecting||(this.relayUrl=e||this.relayUrl,this.connected&&await Promise.all([new Promise(r=>{this.provider.once(ya.disconnect,()=>{r()})}),this.transportClose()]),await this.createProvider(),await this.transportOpen())}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}rejectTransportOpen(){throw new Error("closeTransport called before connection was established")}async createProvider(){const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Ji(new iF(oN({sdkVersion:VM,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;return await this.subscriber.isSubscribed(r)?this.messages.has(r,n):!0}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),r0(e)){if(!e.method.endsWith(qM))return;const r=e.params,{topic:n,message:s,publishedAt:a}=r.data,c={topic:n,message:s,publishedAt:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(bj({type:"event",event:r.id},c)),this.events.emit(r.id,c),await this.acknowledgePayload(e),await this.onMessageEvent(c)}else Fl(e)&&this.events.emit(cr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(cr.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const r=t0(e.id,!0);await this.provider.connection.send(r)}registerProviderListeners(){this.provider.on(ya.payload,e=>this.onProviderPayload(e)),this.provider.on(ya.connect,()=>{this.events.emit(cr.connect)}),this.provider.on(ya.disconnect,()=>{this.onProviderDisconnect()}),this.provider.on(ya.error,e=>{this.logger.error(e),this.events.emit(cr.error,e)})}registerEventListeners(){this.events.on(cr.connection_stalled,async()=>{await this.restartTransport()})}onProviderDisconnect(){this.events.emit(cr.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.restartTransport()},Ue.toMiliseconds(KM))}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(!this.connected){if(this.connecting)return await new Promise(e=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var wj=Object.defineProperty,Tb=Object.getOwnPropertySymbols,_j=Object.prototype.hasOwnProperty,Ej=Object.prototype.propertyIsEnumerable,Rb=(t,e,r)=>e in t?wj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nb=(t,e)=>{for(var r in e||(e={}))_j.call(e,r)&&Rb(t,r,e[r]);if(Tb)for(var r of Tb(e))Ej.call(e,r)&&Rb(t,r,e[r]);return t};let jl=class extends y${constructor(e,r,n,s=Ki,a=void 0){super(e,r,n,s),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=WM,this.cached=[],this.initialized=!1,this.storagePrefix=Ki,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!Nr(c)?this.map.set(this.getKey(c),c):ON(c)?this.map.set(c.id,c):AN(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)},this.set=async(c,u)=>{this.isInitialized(),this.map.has(c)?await this.update(c,u):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:u}),this.map.set(c,u),await this.persist())},this.get=c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c)),this.getAll=c=>(this.isInitialized(),c?this.values.filter(u=>Object.keys(c).every(f=>oF(u[f],c[f]))):this.values),this.update=async(c,u)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:u});const f=Nb(Nb({},this.getData(c)),u);this.map.set(c,f),await this.persist()},this.delete=async(c,u)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:u}),this.map.delete(c),await this.persist())},this.logger=ut.generateChildLogger(r,this.name),this.storagePrefix=s,this.getKey=a}get context(){return ut.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){const{message:n}=Ce("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}};class xj{constructor(e,r){this.core=e,this.logger=r,this.name=QM,this.version=ZM,this.events=new Up,this.initialized=!1,this.storagePrefix=Ki,this.ignoredPayloadTypes=[Ts],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();const n=Fd(),s=await this.core.crypto.setSymKey(n),a=Kn(Ue.FIVE_MINUTES),c={protocol:A_},u={topic:s,expiry:a,relay:c,active:!1},f=bN({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:n,relay:c});return await this.pairings.set(s,u),await this.core.relayer.subscribe(s),this.core.expirer.set(s,a),{topic:s,uri:f}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);const{topic:s,symKey:a,relay:c}=gN(n.uri);if(this.pairings.keys.includes(s))throw new Error(`Pairing already exists: ${s}`);if(this.core.crypto.hasKeys(s))throw new Error(`Keychain already exists: ${s}`);const u=Kn(Ue.FIVE_MINUTES),f={topic:s,relay:c,expiry:u,active:!1};return await this.pairings.set(s,f),await this.core.crypto.setSymKey(a,s),await this.core.relayer.subscribe(s,{relay:c}),this.core.expirer.set(s,u),n.activatePairing&&await this.activate({topic:s}),f},this.activate=async({topic:n})=>{this.isInitialized();const s=Kn(Ue.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:s}),this.core.expirer.set(n,s)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:s}=n;if(this.pairings.keys.includes(s)){const a=await this.sendRequest(s,"wc_pairingPing",{}),{done:c,resolve:u,reject:f}=ao();this.events.once(ar("pairing_ping",a),({error:h})=>{h?f(h):u()}),await c()}},this.updateExpiry=async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})},this.updateMetadata=async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Jt("USER_DISCONNECTED")),await this.deletePairing(s))},this.sendRequest=async(n,s,a)=>{const c=Nl(s,a),u=await this.core.crypto.encode(n,c),f=ma[s].req;return this.core.history.set(n,c),this.core.relayer.publish(n,u,f),c.id},this.sendResult=async(n,s,a)=>{const c=t0(n,a),u=await this.core.crypto.encode(s,c),f=await this.core.history.get(s,n),h=ma[f.request.method].res;await this.core.relayer.publish(s,u,h),await this.core.history.resolve(c)},this.sendError=async(n,s,a)=>{const c=$l(n,a),u=await this.core.crypto.encode(s,c),f=await this.core.history.get(s,n),h=ma[f.request.method]?ma[f.request.method].res:ma.unregistered_method.res;await this.core.relayer.publish(s,u,h),await this.core.history.resolve(c)},this.deletePairing=async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Jt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(s=>Mi(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))},this.onRelayEventRequest=n=>{const{topic:s,payload:a}=n,c=a.method;if(this.pairings.keys.includes(s))switch(c){case"wc_pairingPing":return this.onPairingPingRequest(s,a);case"wc_pairingDelete":return this.onPairingDeleteRequest(s,a);default:return this.onUnknownRpcMethodRequest(s,a)}},this.onRelayEventResponse=async n=>{const{topic:s,payload:a}=n,c=(await this.core.history.get(s,a.id)).request.method;if(this.pairings.keys.includes(s))switch(c){case"wc_pairingPing":return this.onPairingPingResponse(s,a);default:return this.onUnknownRpcMethodResponse(c)}},this.onPairingPingRequest=async(n,s)=>{const{id:a}=s;try{this.isValidPing({topic:n}),await this.sendResult(a,n,!0),this.events.emit("pairing_ping",{id:a,topic:n})}catch(c){await this.sendError(a,n,c),this.logger.error(c)}},this.onPairingPingResponse=(n,s)=>{const{id:a}=s;setTimeout(()=>{hi(s)?this.events.emit(ar("pairing_ping",a),{}):On(s)&&this.events.emit(ar("pairing_ping",a),{error:s.error})},500)},this.onPairingDeleteRequest=async(n,s)=>{const{id:a}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit("pairing_delete",{id:a,topic:n})}catch(c){await this.sendError(a,n,c),this.logger.error(c)}},this.onUnknownRpcMethodRequest=async(n,s)=>{const{id:a,method:c}=s;try{if(this.registeredMethods.includes(c))return;const u=Jt("WC_METHOD_UNSUPPORTED",c);await this.sendError(a,n,u),this.logger.error(u)}catch(u){await this.sendError(a,n,u),this.logger.error(u)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(Jt("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{if(!zr(n)){const{message:s}=Ce("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(s)}if(!DN(n.uri)){const{message:s}=Ce("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(s)}},this.isValidPing=async n=>{if(!zr(n)){const{message:a}=Ce("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(a)}const{topic:s}=n;await this.isValidPairingTopic(s)},this.isValidDisconnect=async n=>{if(!zr(n)){const{message:a}=Ce("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(a)}const{topic:s}=n;await this.isValidPairingTopic(s)},this.isValidPairingTopic=async n=>{if(!gr(n,!1)){const{message:s}=Ce("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){const{message:s}=Ce("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(Mi(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:s}=Ce("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}},this.core=e,this.logger=ut.generateChildLogger(r,this.name),this.pairings=new jl(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ut.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(cr.message,async e=>{const{topic:r,message:n}=e;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const s=await this.core.crypto.decode(r,n);r0(s)?(this.core.history.set(r,s),this.onRelayEventRequest({topic:r,payload:s})):Fl(s)&&(await this.core.history.resolve(s),this.onRelayEventResponse({topic:r,payload:s}))})}registerExpirerEvents(){this.core.expirer.on(bn.expired,async e=>{const{topic:r}=Xw(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit("pairing_expire",{topic:r}))})}}class Pj extends h${constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new on.EventEmitter,this.name=ej,this.version=tj,this.cached=[],this.initialized=!1,this.storagePrefix=Ki,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,s,a)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:a}),this.records.has(s.id))return;const c={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:a};this.records.set(c.id,c),this.events.emit(zn.created,c)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=On(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.events.emit(zn.updated,s))},this.get=async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s)),this.delete=(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(a=>{if(a.topic===n){if(typeof s<"u"&&a.id!==s)return;this.records.delete(a.id),this.events.emit(zn.deleted,a)}})},this.exists=async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1),this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.logger=ut.generateChildLogger(r,this.name)}get context(){return ut.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Nl(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=Ce("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(zn.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(zn.created,e=>{const r=zn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(zn.updated,e=>{const r=zn.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(zn.deleted,e=>{const r=zn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Sj extends b${constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new on.EventEmitter,this.name=rj,this.version=nj,this.cached=[],this.initialized=!1,this.storagePrefix=Ki,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch{return!1}},this.set=(n,s)=>{this.isInitialized();const a=this.formatTarget(n),c={target:a,expiry:s};this.expirations.set(a,c),this.checkExpiry(a,c),this.events.emit(bn.created,{target:a,expiration:c})},this.get=n=>{this.isInitialized();const s=this.formatTarget(n);return this.getExpiration(s)},this.del=n=>{if(this.isInitialized(),this.has(n)){const s=this.formatTarget(n),a=this.getExpiration(s);this.expirations.delete(s),this.events.emit(bn.deleted,{target:s,expiration:a})}},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.logger=ut.generateChildLogger(r,this.name)}get context(){return ut.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return aN(e);if(typeof e=="number")return cN(e);const{message:r}=Ce("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(bn.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=Ce("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;Ue.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(bn.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(ec.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(bn.created,e=>{const r=bn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(bn.expired,e=>{const r=bn.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(bn.deleted,e=>{const r=bn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Ij extends v${constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.name=Fh,this.initialized=!1,this.init=async n=>{Vw()||!Yp()||(this.verifyUrl=(n==null?void 0:n.verifyUrl)||Ib,await this.createIframe())},this.register=async n=>{var s;this.initialized||await this.init(),this.iframe&&((s=this.iframe.contentWindow)==null||s.postMessage(n.attestationId,this.verifyUrl),this.logger.info(`postMessage sent: ${n.attestationId} ${this.verifyUrl}`))},this.resolve=async n=>{var s;if(this.isDevEnv)return"";this.logger.info(`resolving attestation: ${n.attestationId}`);const a=this.startAbortTimer(Ue.FIVE_SECONDS),c=await fetch(`${this.verifyUrl}/attestation/${n.attestationId}`,{signal:this.abortController.signal});return clearTimeout(a),c.status===200?(s=await c.json())==null?void 0:s.origin:""},this.createIframe=async()=>{try{await Promise.race([new Promise((n,s)=>{if(document.getElementById(Fh))return n();const a=document.createElement("iframe");a.setAttribute("id",Fh),a.setAttribute("src",`${this.verifyUrl}/${this.projectId}`),a.style.display="none",a.addEventListener("load",()=>{this.initialized=!0,n()}),a.addEventListener("error",c=>{s(c)}),document.body.append(a),this.iframe=a}),new Promise(n=>{setTimeout(()=>n("iframe load timeout"),Ue.toMiliseconds(Ue.ONE_SECOND/2))})])}catch(n){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(n)}},this.logger=ut.generateChildLogger(r,this.name),this.verifyUrl=Ib,this.abortController=new AbortController,this.isDevEnv=Wp()&&{}.IS_VITEST}get context(){return ut.getLoggerContext(this.logger)}startAbortTimer(e){return setTimeout(()=>this.abortController.abort(),Ue.toMiliseconds(e))}}var Dj=Object.defineProperty,$b=Object.getOwnPropertySymbols,Oj=Object.prototype.hasOwnProperty,Aj=Object.prototype.propertyIsEnumerable,Fb=(t,e,r)=>e in t?Dj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mb=(t,e)=>{for(var r in e||(e={}))Oj.call(e,r)&&Fb(t,r,e[r]);if($b)for(var r of $b(e))Aj.call(e,r)&&Fb(t,r,e[r]);return t};let Cj=class T_ extends f${constructor(e){super(e),this.protocol=O_,this.version=TM,this.name=n0,this.events=new on.EventEmitter,this.initialized=!1,this.on=(n,s)=>this.events.on(n,s),this.once=(n,s)=>this.events.once(n,s),this.off=(n,s)=>this.events.off(n,s),this.removeListener=(n,s)=>this.events.removeListener(n,s),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||C_;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:ut.pino(ut.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||RM.logger}));this.logger=ut.generateChildLogger(r,this.name),this.heartbeat=new ec.HeartBeat,this.crypto=new sj(this,this.logger,e==null?void 0:e.keychain),this.history=new Pj(this,this.logger),this.expirer=new Sj(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new r$(Mb(Mb({},NM),e==null?void 0:e.storageOptions)),this.relayer=new vj({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new xj(this,this.logger),this.verify=new Ij(this.projectId||"",this.logger)}static async init(e){const r=new T_(e);return await r.initialize(),r}get context(){return ut.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const Tj=Cj,R_="wc",N_=2,$_="client",i0=`${R_}@${N_}:${$_}:`,jh={name:$_,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},Rj="proposal",F_="Proposal expired",Nj="session",gu=Ue.SEVEN_DAYS,$j="engine",va={wc_sessionPropose:{req:{ttl:Ue.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Ue.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Ue.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Ue.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Ue.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Ue.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Ue.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Ue.THIRTY_SECONDS,prompt:!1,tag:1115}}},Lh={min:Ue.FIVE_MINUTES,max:Ue.SEVEN_DAYS},Fj="request",Mj=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var jj=Object.defineProperty,Lj=Object.defineProperties,Uj=Object.getOwnPropertyDescriptors,jb=Object.getOwnPropertySymbols,Bj=Object.prototype.hasOwnProperty,kj=Object.prototype.propertyIsEnumerable,Lb=(t,e,r)=>e in t?jj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mn=(t,e)=>{for(var r in e||(e={}))Bj.call(e,r)&&Lb(t,r,e[r]);if(jb)for(var r of jb(e))kj.call(e,r)&&Lb(t,r,e[r]);return t},Uh=(t,e)=>Lj(t,Uj(e));class Hj extends _${constructor(e){super(e),this.name=$j,this.events=new Up,this.initialized=!1,this.ignoredPayloadTypes=[Ts],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(va)}),this.initialized=!0)},this.connect=async r=>{this.isInitialized();const n=Uh(mn({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:s,requiredNamespaces:a,optionalNamespaces:c,sessionProperties:u,relays:f}=n;let h=s,p,m=!1;if(h&&(m=this.client.core.pairing.pairings.get(h).active),!h||!m){const{topic:L,uri:D}=await this.client.core.pairing.create();h=L,p=D}const b=await this.client.core.crypto.generateKeyPair(),_=mn({requiredNamespaces:a,optionalNamespaces:c,relays:f??[{protocol:A_}],proposer:{publicKey:b,metadata:this.client.metadata}},u&&{sessionProperties:u}),{reject:x,resolve:N,done:M}=ao(Ue.FIVE_MINUTES,F_);if(this.events.once(ar("session_connect"),async({error:L,session:D})=>{if(L)x(L);else if(D){D.self.publicKey=b;const T=Uh(mn({},D),{requiredNamespaces:D.requiredNamespaces,optionalNamespaces:D.optionalNamespaces});await this.client.session.set(D.topic,T),await this.setExpiry(D.topic,D.expiry),h&&await this.client.core.pairing.updateMetadata({topic:h,metadata:D.peer.metadata}),N(T)}}),!h){const{message:L}=Ce("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(L)}const z=await this.sendRequest(h,"wc_sessionPropose",_),C=Kn(Ue.FIVE_MINUTES);return await this.setProposal(z,mn({id:z,expiry:C},_)),{uri:p,approval:M}},this.pair=async r=>(this.isInitialized(),await this.client.core.pairing.pair(r)),this.approve=async r=>{this.isInitialized(),await this.isValidApprove(r);const{id:n,relayProtocol:s,namespaces:a,sessionProperties:c}=r,u=this.client.proposal.get(n);let{pairingTopic:f,proposer:h,requiredNamespaces:p,optionalNamespaces:m}=u;f=f||"",vo(p)||(p=EN(a,"approve()"));const b=await this.client.core.crypto.generateKeyPair(),_=h.publicKey,x=await this.client.core.crypto.generateSharedKey(b,_);f&&n&&(await this.client.core.pairing.updateMetadata({topic:f,metadata:h.metadata}),await this.sendResult(n,f,{relay:{protocol:s??"irn"},responderPublicKey:b}),await this.client.proposal.delete(n,Jt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:f}));const N=mn({relay:{protocol:s??"irn"},namespaces:a,requiredNamespaces:p,optionalNamespaces:m,pairingTopic:f,controller:{publicKey:b,metadata:this.client.metadata},expiry:Kn(gu)},c&&{sessionProperties:c});await this.client.core.relayer.subscribe(x),await this.sendRequest(x,"wc_sessionSettle",N);const M=Uh(mn({},N),{topic:x,pairingTopic:f,acknowledged:!1,self:N.controller,peer:{publicKey:h.publicKey,metadata:h.metadata},controller:b});return await this.client.session.set(x,M),await this.setExpiry(x,Kn(gu)),{topic:x,acknowledged:()=>new Promise(z=>setTimeout(()=>z(this.client.session.get(x)),500))}},this.reject=async r=>{this.isInitialized(),await this.isValidReject(r);const{id:n,reason:s}=r,{pairingTopic:a}=this.client.proposal.get(n);a&&(await this.sendError(n,a,s),await this.client.proposal.delete(n,Jt("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.isValidUpdate(r);const{topic:n,namespaces:s}=r,a=await this.sendRequest(n,"wc_sessionUpdate",{namespaces:s}),{done:c,resolve:u,reject:f}=ao();return this.events.once(ar("session_update",a),({error:h})=>{h?f(h):u()}),await this.client.session.update(n,{namespaces:s}),{acknowledged:c}},this.extend=async r=>{this.isInitialized(),await this.isValidExtend(r);const{topic:n}=r,s=await this.sendRequest(n,"wc_sessionExtend",{}),{done:a,resolve:c,reject:u}=ao();return this.events.once(ar("session_extend",s),({error:f})=>{f?u(f):c()}),await this.setExpiry(n,Kn(gu)),{acknowledged:a}},this.request=async r=>{this.isInitialized(),await this.isValidRequest(r);const{chainId:n,request:s,topic:a,expiry:c}=r,u=await this.sendRequest(a,"wc_sessionRequest",{request:s,chainId:n},c),{done:f,resolve:h,reject:p}=ao(c);return this.events.once(ar("session_request",u),({error:m,result:b})=>{m?p(m):h(b)}),this.client.events.emit("session_request_sent",{topic:a,request:s,chainId:n,id:u}),await f()},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:s}=r,{id:a}=s;hi(s)?await this.sendResult(a,n,s.result):On(s)&&await this.sendError(a,n,s.error),this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0})},this.ping=async r=>{this.isInitialized(),await this.isValidPing(r);const{topic:n}=r;if(this.client.session.keys.includes(n)){const s=await this.sendRequest(n,"wc_sessionPing",{}),{done:a,resolve:c,reject:u}=ao();this.events.once(ar("session_ping",s),({error:f})=>{f?u(f):c()}),await a()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{this.isInitialized(),await this.isValidEmit(r);const{topic:n,event:s,chainId:a}=r;await this.sendRequest(n,"wc_sessionEvent",{event:s,chainId:a})},this.disconnect=async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:n}=r;this.client.session.keys.includes(n)?(await this.sendRequest(n,"wc_sessionDelete",Jt("USER_DISCONNECTED")),await this.deleteSession(n)):await this.client.core.pairing.disconnect({topic:n})},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>SN(n,r))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async r=>{try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(a=>{var c,u;return((c=a.peerMetadata)==null?void 0:c.url)&&((u=a.peerMetadata)==null?void 0:u.url)===r.peer.metadata.url&&a.topic&&a.topic!==n.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async(r,n)=>{const{self:s}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await Promise.all([this.client.session.delete(r,Jt("USER_DISCONNECTED")),this.client.core.crypto.deleteKeyPair(s.publicKey),this.client.core.crypto.deleteSymKey(r),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deleteProposal=async(r,n)=>{await Promise.all([this.client.proposal.delete(r,Jt("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deletePendingSessionRequest=async(r,n,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:n}),this.client.core.expirer.set(r,n)},this.setProposal=async(r,n)=>{await this.client.proposal.set(r,n),this.client.core.expirer.set(r,n.expiry)},this.setPendingSessionRequest=async r=>{const n=va.wc_sessionRequest.req.ttl,{id:s,topic:a,params:c}=r;await this.client.pendingRequest.set(s,{id:s,topic:a,params:c}),n&&this.client.core.expirer.set(s,Kn(n))},this.sendRequest=async(r,n,s,a)=>{const c=Nl(n,s);if(Yp()&&Mj.includes(n)){const h=bo(JSON.stringify(c));await this.client.core.verify.register({attestationId:h})}const u=await this.client.core.crypto.encode(r,c),f=va[n].req;return a&&(f.ttl=a),this.client.core.history.set(r,c),this.client.core.relayer.publish(r,u,f),c.id},this.sendResult=async(r,n,s)=>{const a=t0(r,s),c=await this.client.core.crypto.encode(n,a),u=await this.client.core.history.get(n,r),f=va[u.request.method].res;this.client.core.relayer.publish(n,c,f),await this.client.core.history.resolve(a)},this.sendError=async(r,n,s)=>{const a=$l(r,s),c=await this.client.core.crypto.encode(n,a),u=await this.client.core.history.get(n,r),f=va[u.request.method].res;this.client.core.relayer.publish(n,c,f),await this.client.core.history.resolve(a)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(s=>{Mi(s.expiry)&&r.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Mi(s.expiry)&&n.push(s.id)}),await Promise.all([...r.map(s=>this.deleteSession(s)),...n.map(s=>this.deleteProposal(s))])},this.onRelayEventRequest=r=>{const{topic:n,payload:s}=r,a=s.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeRequest(n,s);case"wc_sessionSettle":return this.onSessionSettleRequest(n,s);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,s);case"wc_sessionExtend":return this.onSessionExtendRequest(n,s);case"wc_sessionPing":return this.onSessionPingRequest(n,s);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,s);case"wc_sessionRequest":return this.onSessionRequest(n,s);case"wc_sessionEvent":return this.onSessionEventRequest(n,s);default:return this.client.logger.info(`Unsupported request method ${a}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:s}=r,a=(await this.client.core.history.get(n,s.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(n,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,s);case"wc_sessionExtend":return this.onSessionExtendResponse(n,s);case"wc_sessionPing":return this.onSessionPingResponse(n,s);case"wc_sessionRequest":return this.onSessionRequestResponse(n,s);default:return this.client.logger.info(`Unsupported response method ${a}`)}},this.onSessionProposeRequest=async(r,n)=>{const{params:s,id:a}=n;try{this.isValidConnect(mn({},n.params));const c=Kn(Ue.FIVE_MINUTES),u=mn({id:a,pairingTopic:r,expiry:c},s);await this.setProposal(a,u);const f=bo(JSON.stringify(n)),h=await this.getVerifyContext(f,u.proposer.metadata);this.client.events.emit("session_proposal",{id:a,params:u,verifyContext:h})}catch(c){await this.sendError(a,r,c),this.client.logger.error(c)}},this.onSessionProposeResponse=async(r,n)=>{const{id:s}=n;if(hi(n)){const{result:a}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const c=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:c});const u=c.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});const f=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:f});const h=await this.client.core.crypto.generateSharedKey(u,f);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:h});const p=await this.client.core.relayer.subscribe(h);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:p}),await this.client.core.pairing.activate({topic:r})}else On(n)&&(await this.client.proposal.delete(s,Jt("USER_DISCONNECTED")),this.events.emit(ar("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(r,n)=>{const{id:s,params:a}=n;try{this.isValidSessionSettleRequest(a);const{relay:c,controller:u,expiry:f,namespaces:h,requiredNamespaces:p,optionalNamespaces:m,sessionProperties:b,pairingTopic:_}=n.params,x=mn({topic:r,relay:c,expiry:f,namespaces:h,acknowledged:!0,pairingTopic:_,requiredNamespaces:p,optionalNamespaces:m,controller:u.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:u.publicKey,metadata:u.metadata}},b&&{sessionProperties:b});await this.sendResult(n.id,r,!0),this.events.emit(ar("session_connect"),{session:x}),this.cleanupDuplicatePairings(x)}catch(c){await this.sendError(s,r,c),this.client.logger.error(c)}},this.onSessionSettleResponse=async(r,n)=>{const{id:s}=n;hi(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(ar("session_approve",s),{})):On(n)&&(await this.client.session.delete(r,Jt("USER_DISCONNECTED")),this.events.emit(ar("session_approve",s),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:s,id:a}=n;try{this.isValidUpdate(mn({topic:r},s)),await this.client.session.update(r,{namespaces:s.namespaces}),await this.sendResult(a,r,!0),this.client.events.emit("session_update",{id:a,topic:r,params:s})}catch(c){await this.sendError(a,r,c),this.client.logger.error(c)}},this.onSessionUpdateResponse=(r,n)=>{const{id:s}=n;hi(n)?this.events.emit(ar("session_update",s),{}):On(n)&&this.events.emit(ar("session_update",s),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:s}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Kn(gu)),await this.sendResult(s,r,!0),this.client.events.emit("session_extend",{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.client.logger.error(a)}},this.onSessionExtendResponse=(r,n)=>{const{id:s}=n;hi(n)?this.events.emit(ar("session_extend",s),{}):On(n)&&this.events.emit(ar("session_extend",s),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:s}=n;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.client.events.emit("session_ping",{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.client.logger.error(a)}},this.onSessionPingResponse=(r,n)=>{const{id:s}=n;setTimeout(()=>{hi(n)?this.events.emit(ar("session_ping",s),{}):On(n)&&this.events.emit(ar("session_ping",s),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:s}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(a=>{this.client.core.relayer.once(cr.publish,async()=>{a(await this.deleteSession(r))})}),this.sendResult(s,r,!0)]),this.client.events.emit("session_delete",{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.client.logger.error(a)}},this.onSessionRequest=async(r,n)=>{const{id:s,params:a}=n;try{this.isValidRequest(mn({topic:r},a)),await this.setPendingSessionRequest({id:s,topic:r,params:a});const c=bo(JSON.stringify(n)),u=this.client.session.get(r),f=await this.getVerifyContext(c,u.peer.metadata);this.client.events.emit("session_request",{id:s,topic:r,params:a,verifyContext:f})}catch(c){await this.sendError(s,r,c),this.client.logger.error(c)}},this.onSessionRequestResponse=(r,n)=>{const{id:s}=n;hi(n)?this.events.emit(ar("session_request",s),{result:n.result}):On(n)&&this.events.emit(ar("session_request",s),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:s,params:a}=n;try{this.isValidEmit(mn({topic:r},a)),this.client.events.emit("session_event",{id:s,topic:r,params:a})}catch(c){await this.sendError(s,r,c),this.client.logger.error(c)}},this.isValidConnect=async r=>{if(!zr(r)){const{message:f}=Ce("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(f)}const{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:a,sessionProperties:c,relays:u}=r;if(Nr(n)||await this.isValidPairingTopic(n),!jN(u,!0)){const{message:f}=Ce("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(f)}!Nr(s)&&vo(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!Nr(a)&&vo(a)!==0&&this.validateNamespaces(a,"optionalNamespaces"),Nr(c)||this.validateSessionProps(c,"sessionProperties")},this.validateNamespaces=(r,n)=>{const s=MN(r,"connect()",n);if(s)throw new Error(s.message)},this.isValidApprove=async r=>{if(!zr(r))throw new Error(Ce("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:s,relayProtocol:a,sessionProperties:c}=r;await this.isValidProposalId(n);const u=this.client.proposal.get(n),f=Du(s,"approve()");if(f)throw new Error(f.message);const h=Ym(u.requiredNamespaces,s,"approve()");if(h)throw new Error(h.message);if(!gr(a,!0)){const{message:p}=Ce("MISSING_OR_INVALID",`approve() relayProtocol: ${a}`);throw new Error(p)}Nr(c)||this.validateSessionProps(c,"sessionProperties")},this.isValidReject=async r=>{if(!zr(r)){const{message:a}=Ce("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(a)}const{id:n,reason:s}=r;if(await this.isValidProposalId(n),!UN(s)){const{message:a}=Ce("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(a)}},this.isValidSessionSettleRequest=r=>{if(!zr(r)){const{message:h}=Ce("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(h)}const{relay:n,controller:s,namespaces:a,expiry:c}=r;if(!e_(n)){const{message:h}=Ce("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(h)}const u=CN(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);const f=Du(a,"onSessionSettleRequest()");if(f)throw new Error(f.message);if(Mi(c)){const{message:h}=Ce("EXPIRED","onSessionSettleRequest()");throw new Error(h)}},this.isValidUpdate=async r=>{if(!zr(r)){const{message:f}=Ce("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(f)}const{topic:n,namespaces:s}=r;await this.isValidSessionTopic(n);const a=this.client.session.get(n),c=Du(s,"update()");if(c)throw new Error(c.message);const u=Ym(a.requiredNamespaces,s,"update()");if(u)throw new Error(u.message)},this.isValidExtend=async r=>{if(!zr(r)){const{message:s}=Ce("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!zr(r)){const{message:f}=Ce("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(f)}const{topic:n,request:s,chainId:a,expiry:c}=r;await this.isValidSessionTopic(n);const{namespaces:u}=this.client.session.get(n);if(!Wm(u,a)){const{message:f}=Ce("MISSING_OR_INVALID",`request() chainId: ${a}`);throw new Error(f)}if(!BN(s)){const{message:f}=Ce("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(f)}if(!zN(u,a,s.method)){const{message:f}=Ce("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(f)}if(c&&!GN(c,Lh)){const{message:f}=Ce("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${Lh.min} and ${Lh.max}`);throw new Error(f)}},this.isValidRespond=async r=>{if(!zr(r)){const{message:a}=Ce("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(a)}const{topic:n,response:s}=r;if(await this.isValidSessionTopic(n),!kN(s)){const{message:a}=Ce("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(a)}},this.isValidPing=async r=>{if(!zr(r)){const{message:s}=Ce("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!zr(r)){const{message:u}=Ce("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(u)}const{topic:n,event:s,chainId:a}=r;await this.isValidSessionTopic(n);const{namespaces:c}=this.client.session.get(n);if(!Wm(c,a)){const{message:u}=Ce("MISSING_OR_INVALID",`emit() chainId: ${a}`);throw new Error(u)}if(!HN(s)){const{message:u}=Ce("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(u)}if(!qN(c,a,s.name)){const{message:u}=Ce("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(u)}},this.isValidDisconnect=async r=>{if(!zr(r)){const{message:s}=Ce("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.getVerifyContext=async(r,n)=>{const s={verified:{verifyUrl:n.verifyUrl||"",validation:"UNKNOWN",origin:n.url||""}};try{const a=await this.client.core.verify.resolve({attestationId:r,verifyUrl:n.verifyUrl});a&&(s.verified.origin=a,s.verified.validation=a===n.url?"VALID":"INVALID")}catch(a){this.client.logger.error(a)}return this.client.logger.info(`Verify context: ${JSON.stringify(s)}`),s},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(s=>{if(!gr(s,!1)){const{message:a}=Ce("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(s)}`);throw new Error(a)}})}}isInitialized(){if(!this.initialized){const{message:e}=Ce("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(cr.message,async e=>{const{topic:r,message:n}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;const s=await this.client.core.crypto.decode(r,n);r0(s)?(this.client.core.history.set(r,s),this.onRelayEventRequest({topic:r,payload:s})):Fl(s)&&(await this.client.core.history.resolve(s),this.onRelayEventResponse({topic:r,payload:s}))})}registerExpirerEvents(){this.client.core.expirer.on(bn.expired,async e=>{const{topic:r,id:n}=Xw(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Ce("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession(r,!0),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}isValidPairingTopic(e){if(!gr(e,!1)){const{message:r}=Ce("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=Ce("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Mi(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=Ce("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!gr(e,!1)){const{message:r}=Ce("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(!this.client.session.keys.includes(e)){const{message:r}=Ce("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Mi(this.client.session.get(e).expiry)){await this.deleteSession(e);const{message:r}=Ce("EXPIRED",`session topic: ${e}`);throw new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(gr(e,!1)){const{message:r}=Ce("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=Ce("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!LN(e)){const{message:r}=Ce("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=Ce("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Mi(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);const{message:r}=Ce("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class zj extends jl{constructor(e,r){super(e,r,Rj,i0),this.core=e,this.logger=r}}class qj extends jl{constructor(e,r){super(e,r,Nj,i0),this.core=e,this.logger=r}}class Kj extends jl{constructor(e,r){super(e,r,Fj,i0,n=>n.id),this.core=e,this.logger=r}}let Vj=class M_ extends w${constructor(e){super(e),this.protocol=R_,this.version=N_,this.name=jh.name,this.events=new on.EventEmitter,this.on=(n,s)=>this.events.on(n,s),this.once=(n,s)=>this.events.once(n,s),this.off=(n,s)=>this.events.off(n,s),this.removeListener=(n,s)=>this.events.removeListener(n,s),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(s){throw this.logger.error(s.message),s}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(s){throw this.logger.error(s.message),s}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(s){throw this.logger.error(s.message),s}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(s){throw this.logger.error(s.message),s}},this.update=async n=>{try{return await this.engine.update(n)}catch(s){throw this.logger.error(s.message),s}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(s){throw this.logger.error(s.message),s}},this.request=async n=>{try{return await this.engine.request(n)}catch(s){throw this.logger.error(s.message),s}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(s){throw this.logger.error(s.message),s}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(s){throw this.logger.error(s.message),s}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(s){throw this.logger.error(s.message),s}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(s){throw this.logger.error(s.message),s}},this.find=n=>{try{return this.engine.find(n)}catch(s){throw this.logger.error(s.message),s}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=(e==null?void 0:e.name)||jh.name,this.metadata=(e==null?void 0:e.metadata)||rN();const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:ut.pino(ut.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||jh.logger}));this.core=(e==null?void 0:e.core)||new Tj(e),this.logger=ut.generateChildLogger(r,this.name),this.session=new qj(this.core,this.logger),this.proposal=new zj(this.core,this.logger),this.pendingRequest=new Kj(this.core,this.logger),this.engine=new Hj(this)}static async init(e){const r=new M_(e);return await r.initialize(),r}get context(){return ut.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var Ud={exports:{}};(function(t,e){var r=typeof self<"u"?self:Pr,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(c){var u={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function f(E){return E&&DataView.prototype.isPrototypeOf(E)}if(u.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(E){return E&&h.indexOf(Object.prototype.toString.call(E))>-1};function m(E){if(typeof E!="string"&&(E=String(E)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(E))throw new TypeError("Invalid character in header field name");return E.toLowerCase()}function b(E){return typeof E!="string"&&(E=String(E)),E}function _(E){var A={next:function(){var Y=E.shift();return{done:Y===void 0,value:Y}}};return u.iterable&&(A[Symbol.iterator]=function(){return A}),A}function x(E){this.map={},E instanceof x?E.forEach(function(A,Y){this.append(Y,A)},this):Array.isArray(E)?E.forEach(function(A){this.append(A[0],A[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(A){this.append(A,E[A])},this)}x.prototype.append=function(E,A){E=m(E),A=b(A);var Y=this.map[E];this.map[E]=Y?Y+", "+A:A},x.prototype.delete=function(E){delete this.map[m(E)]},x.prototype.get=function(E){return E=m(E),this.has(E)?this.map[E]:null},x.prototype.has=function(E){return this.map.hasOwnProperty(m(E))},x.prototype.set=function(E,A){this.map[m(E)]=b(A)},x.prototype.forEach=function(E,A){for(var Y in this.map)this.map.hasOwnProperty(Y)&&E.call(A,this.map[Y],Y,this)},x.prototype.keys=function(){var E=[];return this.forEach(function(A,Y){E.push(Y)}),_(E)},x.prototype.values=function(){var E=[];return this.forEach(function(A){E.push(A)}),_(E)},x.prototype.entries=function(){var E=[];return this.forEach(function(A,Y){E.push([Y,A])}),_(E)},u.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function N(E){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}function M(E){return new Promise(function(A,Y){E.onload=function(){A(E.result)},E.onerror=function(){Y(E.error)}})}function z(E){var A=new FileReader,Y=M(A);return A.readAsArrayBuffer(E),Y}function C(E){var A=new FileReader,Y=M(A);return A.readAsText(E),Y}function L(E){for(var A=new Uint8Array(E),Y=new Array(A.length),te=0;te<A.length;te++)Y[te]=String.fromCharCode(A[te]);return Y.join("")}function D(E){if(E.slice)return E.slice(0);var A=new Uint8Array(E.byteLength);return A.set(new Uint8Array(E)),A.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(E){this._bodyInit=E,E?typeof E=="string"?this._bodyText=E:u.blob&&Blob.prototype.isPrototypeOf(E)?this._bodyBlob=E:u.formData&&FormData.prototype.isPrototypeOf(E)?this._bodyFormData=E:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)?this._bodyText=E.toString():u.arrayBuffer&&u.blob&&f(E)?(this._bodyArrayBuffer=D(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(E)||p(E))?this._bodyArrayBuffer=D(E):this._bodyText=E=Object.prototype.toString.call(E):this._bodyText="",this.headers.get("content-type")||(typeof E=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var E=N(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?N(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(z)}),this.text=function(){var E=N(this);if(E)return E;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(L(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(Z)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function d(E){var A=E.toUpperCase();return P.indexOf(A)>-1?A:E}function w(E,A){A=A||{};var Y=A.body;if(E instanceof w){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url,this.credentials=E.credentials,A.headers||(this.headers=new x(E.headers)),this.method=E.method,this.mode=E.mode,this.signal=E.signal,!Y&&E._bodyInit!=null&&(Y=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new x(A.headers)),this.method=d(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Y)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Y)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})};function Z(E){var A=new FormData;return E.trim().split("&").forEach(function(Y){if(Y){var te=Y.split("="),Q=te.shift().replace(/\+/g," "),J=te.join("=").replace(/\+/g," ");A.append(decodeURIComponent(Q),decodeURIComponent(J))}}),A}function B(E){var A=new x,Y=E.replace(/\r?\n[\t ]+/g," ");return Y.split(/\r?\n/).forEach(function(te){var Q=te.split(":"),J=Q.shift().trim();if(J){var ie=Q.join(":").trim();A.append(J,ie)}}),A}T.call(w.prototype);function V(E,A){A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in A?A.statusText:"OK",this.headers=new x(A.headers),this.url=A.url||"",this._initBody(E)}T.call(V.prototype),V.prototype.clone=function(){return new V(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},V.error=function(){var E=new V(null,{status:0,statusText:""});return E.type="error",E};var ee=[301,302,303,307,308];V.redirect=function(E,A){if(ee.indexOf(A)===-1)throw new RangeError("Invalid status code");return new V(null,{status:A,headers:{location:E}})},c.DOMException=a.DOMException;try{new c.DOMException}catch{c.DOMException=function(A,Y){this.message=A,this.name=Y;var te=Error(A);this.stack=te.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function ae(E,A){return new Promise(function(Y,te){var Q=new w(E,A);if(Q.signal&&Q.signal.aborted)return te(new c.DOMException("Aborted","AbortError"));var J=new XMLHttpRequest;function ie(){J.abort()}J.onload=function(){var ue={status:J.status,statusText:J.statusText,headers:B(J.getAllResponseHeaders()||"")};ue.url="responseURL"in J?J.responseURL:ue.headers.get("X-Request-URL");var xe="response"in J?J.response:J.responseText;Y(new V(xe,ue))},J.onerror=function(){te(new TypeError("Network request failed"))},J.ontimeout=function(){te(new TypeError("Network request failed"))},J.onabort=function(){te(new c.DOMException("Aborted","AbortError"))},J.open(Q.method,Q.url,!0),Q.credentials==="include"?J.withCredentials=!0:Q.credentials==="omit"&&(J.withCredentials=!1),"responseType"in J&&u.blob&&(J.responseType="blob"),Q.headers.forEach(function(ue,xe){J.setRequestHeader(xe,ue)}),Q.signal&&(Q.signal.addEventListener("abort",ie),J.onreadystatechange=function(){J.readyState===4&&Q.signal.removeEventListener("abort",ie)}),J.send(typeof Q._bodyInit>"u"?null:Q._bodyInit)})}return ae.polyfill=!0,a.fetch||(a.fetch=ae,a.Headers=x,a.Request=w,a.Response=V),c.Headers=x,c.Request=w,c.Response=V,c.fetch=ae,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=n;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(Ud,Ud.exports);var Gj=Ud.exports;const Ub=jp(Gj),Wj={Accept:"application/json","Content-Type":"application/json"},Yj="POST",Bb={headers:Wj,method:Yj},kb=10;class Ns{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new on.EventEmitter,this.isAvailable=!1,this.registering=!1,!yb(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,r){this.isAvailable||await this.register();try{const n=qa(e),a=await(await Ub(this.url,Object.assign(Object.assign({},Bb),{body:n}))).json();this.onPayload({data:a})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!yb(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),s(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=qa({id:1,jsonrpc:"2.0",method:"test",params:[]});await Ub(e,Object.assign(Object.assign({},Bb),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Qp(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),a=$l(e,s);this.events.emit("payload",a)}parseError(e,r=this.url){return f_(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>kb&&this.events.setMaxListeners(kb)}}const Hb="error",Jj="wss://relay.walletconnect.com",Xj="wc",Qj="universal_provider",zb=`${Xj}@2:${Qj}:`,Zj="https://rpc.walletconnect.com/v1",Xi={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var wa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bd={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(t,e){(function(){var r,n="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",m=1,b=2,_=4,x=1,N=2,M=1,z=2,C=4,L=8,D=16,T=32,P=64,d=128,w=256,Z=512,B=30,V="...",ee=800,ae=16,E=1,A=2,Y=3,te=1/0,Q=9007199254740991,J=17976931348623157e292,ie=0/0,ue=4294967295,xe=ue-1,ye=ue>>>1,Fe=[["ary",d],["bind",M],["bindKey",z],["curry",L],["curryRight",D],["flip",Z],["partial",T],["partialRight",P],["rearg",w]],Pe="[object Arguments]",Re="[object Array]",$="[object AsyncFunction]",H="[object Boolean]",j="[object Date]",y="[object DOMException]",U="[object Error]",I="[object Function]",R="[object GeneratorFunction]",q="[object Map]",re="[object Number]",ne="[object Null]",ce="[object Object]",we="[object Promise]",pe="[object Proxy]",fe="[object RegExp]",se="[object Set]",ve="[object String]",me="[object Symbol]",_e="[object Undefined]",Ee="[object WeakMap]",Se="[object WeakSet]",Ie="[object ArrayBuffer]",Ae="[object DataView]",Me="[object Float32Array]",Le="[object Float64Array]",Ke="[object Int8Array]",et="[object Int16Array]",Qe="[object Int32Array]",rt="[object Uint8Array]",ze="[object Uint8ClampedArray]",Et="[object Uint16Array]",mr="[object Uint32Array]",Fn=/\b__p \+= '';/g,Ir=/\b(__p \+=) '' \+/g,Jn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vi=/&(?:amp|lt|gt|quot|#39);/g,Qi=/[&<>"']/g,jt=RegExp(vi.source),At=RegExp(Qi.source),Lt=/<%-([\s\S]+?)%>/g,Ut=/<%([\s\S]+?)%>/g,Nt=/<%=([\s\S]+?)%>/g,Ct=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,er=/^\w*$/,tr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bt=/[\\^$.*+?()[\]{}|]/g,rr=RegExp(Bt.source),kt=/^\s+/,qt=/\s/,Ht=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xt=/\{\n\/\* \[wrapped with (.+)\] \*/,nr=/,? & /,ir=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ul=/[()=,{}\[\]\/\s]/,Bl=/\\(\\)?/g,kl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,cn=/\w*$/,Hl=/^[-+]0x[0-9a-f]+$/i,zl=/^0b[01]+$/i,ql=/^\[object .+?Constructor\]$/,Kl=/^0o[0-7]+$/i,Vl=/^(?:0|[1-9]\d*)$/,Xn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Fs=/($^)/,Gl=/['\n\r\u2028\u2029\\]/g,Ms="\\ud800-\\udfff",Wl="\\u0300-\\u036f",Yl="\\ufe20-\\ufe2f",js="\\u20d0-\\u20ff",rc=Wl+Yl+js,nc="\\u2700-\\u27bf",En="a-z\\xdf-\\xf6\\xf8-\\xff",Jl="\\xac\\xb1\\xd7\\xf7",Xl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ql="\\u2000-\\u206f",Zl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ic="A-Z\\xc0-\\xd6\\xd8-\\xde",sc="\\ufe0e\\ufe0f",Zi=Jl+Xl+Ql+Zl,Bo="[']",es="["+Ms+"]",ko="["+Zi+"]",ts="["+rc+"]",oc="\\d+",ef="["+nc+"]",ac="["+En+"]",cc="[^"+Ms+Zi+oc+nc+En+ic+"]",Ls="\\ud83c[\\udffb-\\udfff]",tf="(?:"+ts+"|"+Ls+")",uc="[^"+Ms+"]",Us="(?:\\ud83c[\\udde6-\\uddff]){2}",wi="[\\ud800-\\udbff][\\udc00-\\udfff]",Wr="["+ic+"]",lc="\\u200d",fc="(?:"+ac+"|"+cc+")",Mn="(?:"+Wr+"|"+cc+")",hc="(?:"+Bo+"(?:d|ll|m|re|s|t|ve))?",dc="(?:"+Bo+"(?:D|LL|M|RE|S|T|VE))?",pc=tf+"?",gc="["+sc+"]?",rf="(?:"+lc+"(?:"+[uc,Us,wi].join("|")+")"+gc+pc+")*",Qn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",mc=gc+pc+rf,Bs="(?:"+[ef,Us,wi].join("|")+")"+mc,nf="(?:"+[uc+ts+"?",ts,Us,wi,es].join("|")+")",Ho=RegExp(Bo,"g"),sf=RegExp(ts,"g"),ks=RegExp(Ls+"(?="+Ls+")|"+nf+mc,"g"),bc=RegExp([Wr+"?"+ac+"+"+hc+"(?="+[ko,Wr,"$"].join("|")+")",Mn+"+"+dc+"(?="+[ko,Wr+fc,"$"].join("|")+")",Wr+"?"+fc+"+"+hc,Wr+"+"+dc,yc,Qn,oc,Bs].join("|"),"g"),vc=RegExp("["+lc+Ms+rc+sc+"]"),rs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],of=-1,bt={};bt[Me]=bt[Le]=bt[Ke]=bt[et]=bt[Qe]=bt[rt]=bt[ze]=bt[Et]=bt[mr]=!0,bt[Pe]=bt[Re]=bt[Ie]=bt[H]=bt[Ae]=bt[j]=bt[U]=bt[I]=bt[q]=bt[re]=bt[ce]=bt[fe]=bt[se]=bt[ve]=bt[Ee]=!1;var yt={};yt[Pe]=yt[Re]=yt[Ie]=yt[Ae]=yt[H]=yt[j]=yt[Me]=yt[Le]=yt[Ke]=yt[et]=yt[Qe]=yt[q]=yt[re]=yt[ce]=yt[fe]=yt[se]=yt[ve]=yt[me]=yt[rt]=yt[ze]=yt[Et]=yt[mr]=!0,yt[U]=yt[I]=yt[Ee]=!1;var F={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ge={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ne={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vt=parseFloat,Ge=parseInt,St=typeof wa=="object"&&wa&&wa.Object===Object&&wa,sr=typeof self=="object"&&self&&self.Object===Object&&self,at=St||sr||Function("return this")(),wt=e&&!e.nodeType&&e,Kt=wt&&!0&&t&&!t.nodeType&&t,jr=Kt&&Kt.exports===wt,or=jr&&St.process,It=function(){try{var W=Kt&&Kt.require&&Kt.require("util").types;return W||or&&or.binding&&or.binding("util")}catch{}}(),Dr=It&&It.isArrayBuffer,xn=It&&It.isDate,un=It&&It.isMap,jn=It&&It.isRegExp,zo=It&&It.isSet,ns=It&&It.isTypedArray;function hr(W,le,oe){switch(oe.length){case 0:return W.call(le);case 1:return W.call(le,oe[0]);case 2:return W.call(le,oe[0],oe[1]);case 3:return W.call(le,oe[0],oe[1],oe[2])}return W.apply(le,oe)}function L_(W,le,oe,$e){for(var Ve=-1,ht=W==null?0:W.length;++Ve<ht;){var ur=W[Ve];le($e,ur,oe(ur),W)}return $e}function ln(W,le){for(var oe=-1,$e=W==null?0:W.length;++oe<$e&&le(W[oe],oe,W)!==!1;);return W}function U_(W,le){for(var oe=W==null?0:W.length;oe--&&le(W[oe],oe,W)!==!1;);return W}function c0(W,le){for(var oe=-1,$e=W==null?0:W.length;++oe<$e;)if(!le(W[oe],oe,W))return!1;return!0}function _i(W,le){for(var oe=-1,$e=W==null?0:W.length,Ve=0,ht=[];++oe<$e;){var ur=W[oe];le(ur,oe,W)&&(ht[Ve++]=ur)}return ht}function _c(W,le){var oe=W==null?0:W.length;return!!oe&&Hs(W,le,0)>-1}function af(W,le,oe){for(var $e=-1,Ve=W==null?0:W.length;++$e<Ve;)if(oe(le,W[$e]))return!0;return!1}function Tt(W,le){for(var oe=-1,$e=W==null?0:W.length,Ve=Array($e);++oe<$e;)Ve[oe]=le(W[oe],oe,W);return Ve}function Ei(W,le){for(var oe=-1,$e=le.length,Ve=W.length;++oe<$e;)W[Ve+oe]=le[oe];return W}function cf(W,le,oe,$e){var Ve=-1,ht=W==null?0:W.length;for($e&&ht&&(oe=W[++Ve]);++Ve<ht;)oe=le(oe,W[Ve],Ve,W);return oe}function B_(W,le,oe,$e){var Ve=W==null?0:W.length;for($e&&Ve&&(oe=W[--Ve]);Ve--;)oe=le(oe,W[Ve],Ve,W);return oe}function uf(W,le){for(var oe=-1,$e=W==null?0:W.length;++oe<$e;)if(le(W[oe],oe,W))return!0;return!1}var k_=lf("length");function H_(W){return W.split("")}function z_(W){return W.match(ir)||[]}function u0(W,le,oe){var $e;return oe(W,function(Ve,ht,ur){if(le(Ve,ht,ur))return $e=ht,!1}),$e}function Ec(W,le,oe,$e){for(var Ve=W.length,ht=oe+($e?1:-1);$e?ht--:++ht<Ve;)if(le(W[ht],ht,W))return ht;return-1}function Hs(W,le,oe){return le===le?tE(W,le,oe):Ec(W,l0,oe)}function q_(W,le,oe,$e){for(var Ve=oe-1,ht=W.length;++Ve<ht;)if($e(W[Ve],le))return Ve;return-1}function l0(W){return W!==W}function f0(W,le){var oe=W==null?0:W.length;return oe?hf(W,le)/oe:ie}function lf(W){return function(le){return le==null?r:le[W]}}function ff(W){return function(le){return W==null?r:W[le]}}function h0(W,le,oe,$e,Ve){return Ve(W,function(ht,ur,_t){oe=$e?($e=!1,ht):le(oe,ht,ur,_t)}),oe}function K_(W,le){var oe=W.length;for(W.sort(le);oe--;)W[oe]=W[oe].value;return W}function hf(W,le){for(var oe,$e=-1,Ve=W.length;++$e<Ve;){var ht=le(W[$e]);ht!==r&&(oe=oe===r?ht:oe+ht)}return oe}function df(W,le){for(var oe=-1,$e=Array(W);++oe<W;)$e[oe]=le(oe);return $e}function V_(W,le){return Tt(le,function(oe){return[oe,W[oe]]})}function d0(W){return W&&W.slice(0,m0(W)+1).replace(kt,"")}function Yr(W){return function(le){return W(le)}}function pf(W,le){return Tt(le,function(oe){return W[oe]})}function qo(W,le){return W.has(le)}function p0(W,le){for(var oe=-1,$e=W.length;++oe<$e&&Hs(le,W[oe],0)>-1;);return oe}function g0(W,le){for(var oe=W.length;oe--&&Hs(le,W[oe],0)>-1;);return oe}function G_(W,le){for(var oe=W.length,$e=0;oe--;)W[oe]===le&&++$e;return $e}var W_=ff(F),Y_=ff(G);function J_(W){return"\\"+Ne[W]}function X_(W,le){return W==null?r:W[le]}function zs(W){return vc.test(W)}function Q_(W){return rs.test(W)}function Z_(W){for(var le,oe=[];!(le=W.next()).done;)oe.push(le.value);return oe}function gf(W){var le=-1,oe=Array(W.size);return W.forEach(function($e,Ve){oe[++le]=[Ve,$e]}),oe}function y0(W,le){return function(oe){return W(le(oe))}}function xi(W,le){for(var oe=-1,$e=W.length,Ve=0,ht=[];++oe<$e;){var ur=W[oe];(ur===le||ur===p)&&(W[oe]=p,ht[Ve++]=oe)}return ht}function xc(W){var le=-1,oe=Array(W.size);return W.forEach(function($e){oe[++le]=$e}),oe}function eE(W){var le=-1,oe=Array(W.size);return W.forEach(function($e){oe[++le]=[$e,$e]}),oe}function tE(W,le,oe){for(var $e=oe-1,Ve=W.length;++$e<Ve;)if(W[$e]===le)return $e;return-1}function rE(W,le,oe){for(var $e=oe+1;$e--;)if(W[$e]===le)return $e;return $e}function qs(W){return zs(W)?iE(W):k_(W)}function Pn(W){return zs(W)?sE(W):H_(W)}function m0(W){for(var le=W.length;le--&&qt.test(W.charAt(le)););return le}var nE=ff(ge);function iE(W){for(var le=ks.lastIndex=0;ks.test(W);)++le;return le}function sE(W){return W.match(ks)||[]}function oE(W){return W.match(bc)||[]}var aE=function W(le){le=le==null?at:Ks.defaults(at.Object(),le,Ks.pick(at,wc));var oe=le.Array,$e=le.Date,Ve=le.Error,ht=le.Function,ur=le.Math,_t=le.Object,yf=le.RegExp,cE=le.String,fn=le.TypeError,Pc=oe.prototype,uE=ht.prototype,Vs=_t.prototype,Sc=le["__core-js_shared__"],Ic=uE.toString,pt=Vs.hasOwnProperty,lE=0,b0=function(){var i=/[^.]+$/.exec(Sc&&Sc.keys&&Sc.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Dc=Vs.toString,fE=Ic.call(_t),hE=at._,dE=yf("^"+Ic.call(pt).replace(Bt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oc=jr?le.Buffer:r,Pi=le.Symbol,Ac=le.Uint8Array,v0=Oc?Oc.allocUnsafe:r,Cc=y0(_t.getPrototypeOf,_t),w0=_t.create,_0=Vs.propertyIsEnumerable,Tc=Pc.splice,E0=Pi?Pi.isConcatSpreadable:r,Ko=Pi?Pi.iterator:r,is=Pi?Pi.toStringTag:r,Rc=function(){try{var i=us(_t,"defineProperty");return i({},"",{}),i}catch{}}(),pE=le.clearTimeout!==at.clearTimeout&&le.clearTimeout,gE=$e&&$e.now!==at.Date.now&&$e.now,yE=le.setTimeout!==at.setTimeout&&le.setTimeout,Nc=ur.ceil,$c=ur.floor,mf=_t.getOwnPropertySymbols,mE=Oc?Oc.isBuffer:r,x0=le.isFinite,bE=Pc.join,vE=y0(_t.keys,_t),lr=ur.max,_r=ur.min,wE=$e.now,_E=le.parseInt,P0=ur.random,EE=Pc.reverse,bf=us(le,"DataView"),Vo=us(le,"Map"),vf=us(le,"Promise"),Gs=us(le,"Set"),Go=us(le,"WeakMap"),Wo=us(_t,"create"),Fc=Go&&new Go,Ws={},xE=ls(bf),PE=ls(Vo),SE=ls(vf),IE=ls(Gs),DE=ls(Go),Mc=Pi?Pi.prototype:r,Yo=Mc?Mc.valueOf:r,S0=Mc?Mc.toString:r;function S(i){if(zt(i)&&!We(i)&&!(i instanceof it)){if(i instanceof hn)return i;if(pt.call(i,"__wrapped__"))return Ig(i)}return new hn(i)}var Ys=function(){function i(){}return function(o){if(!$t(o))return{};if(w0)return w0(o);i.prototype=o;var l=new i;return i.prototype=r,l}}();function jc(){}function hn(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=r}S.templateSettings={escape:Lt,evaluate:Ut,interpolate:Nt,variable:"",imports:{_:S}},S.prototype=jc.prototype,S.prototype.constructor=S,hn.prototype=Ys(jc.prototype),hn.prototype.constructor=hn;function it(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function OE(){var i=new it(this.__wrapped__);return i.__actions__=Lr(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Lr(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Lr(this.__views__),i}function AE(){if(this.__filtered__){var i=new it(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function CE(){var i=this.__wrapped__.value(),o=this.__dir__,l=We(i),g=o<0,v=l?i.length:0,O=H6(0,v,this.__views__),k=O.start,K=O.end,X=K-k,he=g?K:k-1,de=this.__iteratees__,be=de.length,Oe=0,je=_r(X,this.__takeCount__);if(!l||!g&&v==X&&je==X)return Y0(i,this.__actions__);var ke=[];e:for(;X--&&Oe<je;){he+=o;for(var Ze=-1,He=i[he];++Ze<be;){var nt=de[Ze],ct=nt.iteratee,Qr=nt.type,Cr=ct(He);if(Qr==A)He=Cr;else if(!Cr){if(Qr==E)continue e;break e}}ke[Oe++]=He}return ke}it.prototype=Ys(jc.prototype),it.prototype.constructor=it;function ss(i){var o=-1,l=i==null?0:i.length;for(this.clear();++o<l;){var g=i[o];this.set(g[0],g[1])}}function TE(){this.__data__=Wo?Wo(null):{},this.size=0}function RE(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function NE(i){var o=this.__data__;if(Wo){var l=o[i];return l===f?r:l}return pt.call(o,i)?o[i]:r}function $E(i){var o=this.__data__;return Wo?o[i]!==r:pt.call(o,i)}function FE(i,o){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=Wo&&o===r?f:o,this}ss.prototype.clear=TE,ss.prototype.delete=RE,ss.prototype.get=NE,ss.prototype.has=$E,ss.prototype.set=FE;function Zn(i){var o=-1,l=i==null?0:i.length;for(this.clear();++o<l;){var g=i[o];this.set(g[0],g[1])}}function ME(){this.__data__=[],this.size=0}function jE(i){var o=this.__data__,l=Lc(o,i);if(l<0)return!1;var g=o.length-1;return l==g?o.pop():Tc.call(o,l,1),--this.size,!0}function LE(i){var o=this.__data__,l=Lc(o,i);return l<0?r:o[l][1]}function UE(i){return Lc(this.__data__,i)>-1}function BE(i,o){var l=this.__data__,g=Lc(l,i);return g<0?(++this.size,l.push([i,o])):l[g][1]=o,this}Zn.prototype.clear=ME,Zn.prototype.delete=jE,Zn.prototype.get=LE,Zn.prototype.has=UE,Zn.prototype.set=BE;function ei(i){var o=-1,l=i==null?0:i.length;for(this.clear();++o<l;){var g=i[o];this.set(g[0],g[1])}}function kE(){this.size=0,this.__data__={hash:new ss,map:new(Vo||Zn),string:new ss}}function HE(i){var o=Jc(this,i).delete(i);return this.size-=o?1:0,o}function zE(i){return Jc(this,i).get(i)}function qE(i){return Jc(this,i).has(i)}function KE(i,o){var l=Jc(this,i),g=l.size;return l.set(i,o),this.size+=l.size==g?0:1,this}ei.prototype.clear=kE,ei.prototype.delete=HE,ei.prototype.get=zE,ei.prototype.has=qE,ei.prototype.set=KE;function os(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new ei;++o<l;)this.add(i[o])}function VE(i){return this.__data__.set(i,f),this}function GE(i){return this.__data__.has(i)}os.prototype.add=os.prototype.push=VE,os.prototype.has=GE;function Sn(i){var o=this.__data__=new Zn(i);this.size=o.size}function WE(){this.__data__=new Zn,this.size=0}function YE(i){var o=this.__data__,l=o.delete(i);return this.size=o.size,l}function JE(i){return this.__data__.get(i)}function XE(i){return this.__data__.has(i)}function QE(i,o){var l=this.__data__;if(l instanceof Zn){var g=l.__data__;if(!Vo||g.length<s-1)return g.push([i,o]),this.size=++l.size,this;l=this.__data__=new ei(g)}return l.set(i,o),this.size=l.size,this}Sn.prototype.clear=WE,Sn.prototype.delete=YE,Sn.prototype.get=JE,Sn.prototype.has=XE,Sn.prototype.set=QE;function I0(i,o){var l=We(i),g=!l&&fs(i),v=!l&&!g&&Ai(i),O=!l&&!g&&!v&&Zs(i),k=l||g||v||O,K=k?df(i.length,cE):[],X=K.length;for(var he in i)(o||pt.call(i,he))&&!(k&&(he=="length"||v&&(he=="offset"||he=="parent")||O&&(he=="buffer"||he=="byteLength"||he=="byteOffset")||ii(he,X)))&&K.push(he);return K}function D0(i){var o=i.length;return o?i[Cf(0,o-1)]:r}function ZE(i,o){return Xc(Lr(i),as(o,0,i.length))}function e6(i){return Xc(Lr(i))}function wf(i,o,l){(l!==r&&!In(i[o],l)||l===r&&!(o in i))&&ti(i,o,l)}function Jo(i,o,l){var g=i[o];(!(pt.call(i,o)&&In(g,l))||l===r&&!(o in i))&&ti(i,o,l)}function Lc(i,o){for(var l=i.length;l--;)if(In(i[l][0],o))return l;return-1}function t6(i,o,l,g){return Si(i,function(v,O,k){o(g,v,l(v),k)}),g}function O0(i,o){return i&&Un(o,dr(o),i)}function r6(i,o){return i&&Un(o,Br(o),i)}function ti(i,o,l){o=="__proto__"&&Rc?Rc(i,o,{configurable:!0,enumerable:!0,value:l,writable:!0}):i[o]=l}function _f(i,o){for(var l=-1,g=o.length,v=oe(g),O=i==null;++l<g;)v[l]=O?r:th(i,o[l]);return v}function as(i,o,l){return i===i&&(l!==r&&(i=i<=l?i:l),o!==r&&(i=i>=o?i:o)),i}function dn(i,o,l,g,v,O){var k,K=o&m,X=o&b,he=o&_;if(l&&(k=v?l(i,g,v,O):l(i)),k!==r)return k;if(!$t(i))return i;var de=We(i);if(de){if(k=q6(i),!K)return Lr(i,k)}else{var be=Er(i),Oe=be==I||be==R;if(Ai(i))return Q0(i,K);if(be==ce||be==Pe||Oe&&!v){if(k=X||Oe?{}:mg(i),!K)return X?N6(i,r6(k,i)):R6(i,O0(k,i))}else{if(!yt[be])return v?i:{};k=K6(i,be,K)}}O||(O=new Sn);var je=O.get(i);if(je)return je;O.set(i,k),Vg(i)?i.forEach(function(He){k.add(dn(He,o,l,He,i,O))}):qg(i)&&i.forEach(function(He,nt){k.set(nt,dn(He,o,l,nt,i,O))});var ke=he?X?kf:Bf:X?Br:dr,Ze=de?r:ke(i);return ln(Ze||i,function(He,nt){Ze&&(nt=He,He=i[nt]),Jo(k,nt,dn(He,o,l,nt,i,O))}),k}function n6(i){var o=dr(i);return function(l){return A0(l,i,o)}}function A0(i,o,l){var g=l.length;if(i==null)return!g;for(i=_t(i);g--;){var v=l[g],O=o[v],k=i[v];if(k===r&&!(v in i)||!O(k))return!1}return!0}function C0(i,o,l){if(typeof i!="function")throw new fn(c);return na(function(){i.apply(r,l)},o)}function Xo(i,o,l,g){var v=-1,O=_c,k=!0,K=i.length,X=[],he=o.length;if(!K)return X;l&&(o=Tt(o,Yr(l))),g?(O=af,k=!1):o.length>=s&&(O=qo,k=!1,o=new os(o));e:for(;++v<K;){var de=i[v],be=l==null?de:l(de);if(de=g||de!==0?de:0,k&&be===be){for(var Oe=he;Oe--;)if(o[Oe]===be)continue e;X.push(de)}else O(o,be,g)||X.push(de)}return X}var Si=ng(Ln),T0=ng(xf,!0);function i6(i,o){var l=!0;return Si(i,function(g,v,O){return l=!!o(g,v,O),l}),l}function Uc(i,o,l){for(var g=-1,v=i.length;++g<v;){var O=i[g],k=o(O);if(k!=null&&(K===r?k===k&&!Xr(k):l(k,K)))var K=k,X=O}return X}function s6(i,o,l,g){var v=i.length;for(l=Xe(l),l<0&&(l=-l>v?0:v+l),g=g===r||g>v?v:Xe(g),g<0&&(g+=v),g=l>g?0:Wg(g);l<g;)i[l++]=o;return i}function R0(i,o){var l=[];return Si(i,function(g,v,O){o(g,v,O)&&l.push(g)}),l}function br(i,o,l,g,v){var O=-1,k=i.length;for(l||(l=G6),v||(v=[]);++O<k;){var K=i[O];o>0&&l(K)?o>1?br(K,o-1,l,g,v):Ei(v,K):g||(v[v.length]=K)}return v}var Ef=ig(),N0=ig(!0);function Ln(i,o){return i&&Ef(i,o,dr)}function xf(i,o){return i&&N0(i,o,dr)}function Bc(i,o){return _i(o,function(l){return si(i[l])})}function cs(i,o){o=Di(o,i);for(var l=0,g=o.length;i!=null&&l<g;)i=i[Bn(o[l++])];return l&&l==g?i:r}function $0(i,o,l){var g=o(i);return We(i)?g:Ei(g,l(i))}function Or(i){return i==null?i===r?_e:ne:is&&is in _t(i)?k6(i):e2(i)}function Pf(i,o){return i>o}function o6(i,o){return i!=null&&pt.call(i,o)}function a6(i,o){return i!=null&&o in _t(i)}function c6(i,o,l){return i>=_r(o,l)&&i<lr(o,l)}function Sf(i,o,l){for(var g=l?af:_c,v=i[0].length,O=i.length,k=O,K=oe(O),X=1/0,he=[];k--;){var de=i[k];k&&o&&(de=Tt(de,Yr(o))),X=_r(de.length,X),K[k]=!l&&(o||v>=120&&de.length>=120)?new os(k&&de):r}de=i[0];var be=-1,Oe=K[0];e:for(;++be<v&&he.length<X;){var je=de[be],ke=o?o(je):je;if(je=l||je!==0?je:0,!(Oe?qo(Oe,ke):g(he,ke,l))){for(k=O;--k;){var Ze=K[k];if(!(Ze?qo(Ze,ke):g(i[k],ke,l)))continue e}Oe&&Oe.push(ke),he.push(je)}}return he}function u6(i,o,l,g){return Ln(i,function(v,O,k){o(g,l(v),O,k)}),g}function Qo(i,o,l){o=Di(o,i),i=_g(i,o);var g=i==null?i:i[Bn(gn(o))];return g==null?r:hr(g,i,l)}function F0(i){return zt(i)&&Or(i)==Pe}function l6(i){return zt(i)&&Or(i)==Ie}function f6(i){return zt(i)&&Or(i)==j}function Zo(i,o,l,g,v){return i===o?!0:i==null||o==null||!zt(i)&&!zt(o)?i!==i&&o!==o:h6(i,o,l,g,Zo,v)}function h6(i,o,l,g,v,O){var k=We(i),K=We(o),X=k?Re:Er(i),he=K?Re:Er(o);X=X==Pe?ce:X,he=he==Pe?ce:he;var de=X==ce,be=he==ce,Oe=X==he;if(Oe&&Ai(i)){if(!Ai(o))return!1;k=!0,de=!1}if(Oe&&!de)return O||(O=new Sn),k||Zs(i)?pg(i,o,l,g,v,O):U6(i,o,X,l,g,v,O);if(!(l&x)){var je=de&&pt.call(i,"__wrapped__"),ke=be&&pt.call(o,"__wrapped__");if(je||ke){var Ze=je?i.value():i,He=ke?o.value():o;return O||(O=new Sn),v(Ze,He,l,g,O)}}return Oe?(O||(O=new Sn),B6(i,o,l,g,v,O)):!1}function d6(i){return zt(i)&&Er(i)==q}function If(i,o,l,g){var v=l.length,O=v,k=!g;if(i==null)return!O;for(i=_t(i);v--;){var K=l[v];if(k&&K[2]?K[1]!==i[K[0]]:!(K[0]in i))return!1}for(;++v<O;){K=l[v];var X=K[0],he=i[X],de=K[1];if(k&&K[2]){if(he===r&&!(X in i))return!1}else{var be=new Sn;if(g)var Oe=g(he,de,X,i,o,be);if(!(Oe===r?Zo(de,he,x|N,g,be):Oe))return!1}}return!0}function M0(i){if(!$t(i)||Y6(i))return!1;var o=si(i)?dE:ql;return o.test(ls(i))}function p6(i){return zt(i)&&Or(i)==fe}function g6(i){return zt(i)&&Er(i)==se}function y6(i){return zt(i)&&nu(i.length)&&!!bt[Or(i)]}function j0(i){return typeof i=="function"?i:i==null?kr:typeof i=="object"?We(i)?B0(i[0],i[1]):U0(i):sy(i)}function Df(i){if(!ra(i))return vE(i);var o=[];for(var l in _t(i))pt.call(i,l)&&l!="constructor"&&o.push(l);return o}function m6(i){if(!$t(i))return Z6(i);var o=ra(i),l=[];for(var g in i)g=="constructor"&&(o||!pt.call(i,g))||l.push(g);return l}function Of(i,o){return i<o}function L0(i,o){var l=-1,g=Ur(i)?oe(i.length):[];return Si(i,function(v,O,k){g[++l]=o(v,O,k)}),g}function U0(i){var o=zf(i);return o.length==1&&o[0][2]?vg(o[0][0],o[0][1]):function(l){return l===i||If(l,i,o)}}function B0(i,o){return Kf(i)&&bg(o)?vg(Bn(i),o):function(l){var g=th(l,i);return g===r&&g===o?rh(l,i):Zo(o,g,x|N)}}function kc(i,o,l,g,v){i!==o&&Ef(o,function(O,k){if(v||(v=new Sn),$t(O))b6(i,o,k,l,kc,g,v);else{var K=g?g(Gf(i,k),O,k+"",i,o,v):r;K===r&&(K=O),wf(i,k,K)}},Br)}function b6(i,o,l,g,v,O,k){var K=Gf(i,l),X=Gf(o,l),he=k.get(X);if(he){wf(i,l,he);return}var de=O?O(K,X,l+"",i,o,k):r,be=de===r;if(be){var Oe=We(X),je=!Oe&&Ai(X),ke=!Oe&&!je&&Zs(X);de=X,Oe||je||ke?We(K)?de=K:Vt(K)?de=Lr(K):je?(be=!1,de=Q0(X,!0)):ke?(be=!1,de=Z0(X,!0)):de=[]:ia(X)||fs(X)?(de=K,fs(K)?de=Yg(K):(!$t(K)||si(K))&&(de=mg(X))):be=!1}be&&(k.set(X,de),v(de,X,g,O,k),k.delete(X)),wf(i,l,de)}function k0(i,o){var l=i.length;if(l)return o+=o<0?l:0,ii(o,l)?i[o]:r}function H0(i,o,l){o.length?o=Tt(o,function(O){return We(O)?function(k){return cs(k,O.length===1?O[0]:O)}:O}):o=[kr];var g=-1;o=Tt(o,Yr(Be()));var v=L0(i,function(O,k,K){var X=Tt(o,function(he){return he(O)});return{criteria:X,index:++g,value:O}});return K_(v,function(O,k){return T6(O,k,l)})}function v6(i,o){return z0(i,o,function(l,g){return rh(i,g)})}function z0(i,o,l){for(var g=-1,v=o.length,O={};++g<v;){var k=o[g],K=cs(i,k);l(K,k)&&ea(O,Di(k,i),K)}return O}function w6(i){return function(o){return cs(o,i)}}function Af(i,o,l,g){var v=g?q_:Hs,O=-1,k=o.length,K=i;for(i===o&&(o=Lr(o)),l&&(K=Tt(i,Yr(l)));++O<k;)for(var X=0,he=o[O],de=l?l(he):he;(X=v(K,de,X,g))>-1;)K!==i&&Tc.call(K,X,1),Tc.call(i,X,1);return i}function q0(i,o){for(var l=i?o.length:0,g=l-1;l--;){var v=o[l];if(l==g||v!==O){var O=v;ii(v)?Tc.call(i,v,1):Nf(i,v)}}return i}function Cf(i,o){return i+$c(P0()*(o-i+1))}function _6(i,o,l,g){for(var v=-1,O=lr(Nc((o-i)/(l||1)),0),k=oe(O);O--;)k[g?O:++v]=i,i+=l;return k}function Tf(i,o){var l="";if(!i||o<1||o>Q)return l;do o%2&&(l+=i),o=$c(o/2),o&&(i+=i);while(o);return l}function tt(i,o){return Wf(wg(i,o,kr),i+"")}function E6(i){return D0(eo(i))}function x6(i,o){var l=eo(i);return Xc(l,as(o,0,l.length))}function ea(i,o,l,g){if(!$t(i))return i;o=Di(o,i);for(var v=-1,O=o.length,k=O-1,K=i;K!=null&&++v<O;){var X=Bn(o[v]),he=l;if(X==="__proto__"||X==="constructor"||X==="prototype")return i;if(v!=k){var de=K[X];he=g?g(de,X,K):r,he===r&&(he=$t(de)?de:ii(o[v+1])?[]:{})}Jo(K,X,he),K=K[X]}return i}var K0=Fc?function(i,o){return Fc.set(i,o),i}:kr,P6=Rc?function(i,o){return Rc(i,"toString",{configurable:!0,enumerable:!1,value:ih(o),writable:!0})}:kr;function S6(i){return Xc(eo(i))}function pn(i,o,l){var g=-1,v=i.length;o<0&&(o=-o>v?0:v+o),l=l>v?v:l,l<0&&(l+=v),v=o>l?0:l-o>>>0,o>>>=0;for(var O=oe(v);++g<v;)O[g]=i[g+o];return O}function I6(i,o){var l;return Si(i,function(g,v,O){return l=o(g,v,O),!l}),!!l}function Hc(i,o,l){var g=0,v=i==null?g:i.length;if(typeof o=="number"&&o===o&&v<=ye){for(;g<v;){var O=g+v>>>1,k=i[O];k!==null&&!Xr(k)&&(l?k<=o:k<o)?g=O+1:v=O}return v}return Rf(i,o,kr,l)}function Rf(i,o,l,g){var v=0,O=i==null?0:i.length;if(O===0)return 0;o=l(o);for(var k=o!==o,K=o===null,X=Xr(o),he=o===r;v<O;){var de=$c((v+O)/2),be=l(i[de]),Oe=be!==r,je=be===null,ke=be===be,Ze=Xr(be);if(k)var He=g||ke;else he?He=ke&&(g||Oe):K?He=ke&&Oe&&(g||!je):X?He=ke&&Oe&&!je&&(g||!Ze):je||Ze?He=!1:He=g?be<=o:be<o;He?v=de+1:O=de}return _r(O,xe)}function V0(i,o){for(var l=-1,g=i.length,v=0,O=[];++l<g;){var k=i[l],K=o?o(k):k;if(!l||!In(K,X)){var X=K;O[v++]=k===0?0:k}}return O}function G0(i){return typeof i=="number"?i:Xr(i)?ie:+i}function Jr(i){if(typeof i=="string")return i;if(We(i))return Tt(i,Jr)+"";if(Xr(i))return S0?S0.call(i):"";var o=i+"";return o=="0"&&1/i==-te?"-0":o}function Ii(i,o,l){var g=-1,v=_c,O=i.length,k=!0,K=[],X=K;if(l)k=!1,v=af;else if(O>=s){var he=o?null:j6(i);if(he)return xc(he);k=!1,v=qo,X=new os}else X=o?[]:K;e:for(;++g<O;){var de=i[g],be=o?o(de):de;if(de=l||de!==0?de:0,k&&be===be){for(var Oe=X.length;Oe--;)if(X[Oe]===be)continue e;o&&X.push(be),K.push(de)}else v(X,be,l)||(X!==K&&X.push(be),K.push(de))}return K}function Nf(i,o){return o=Di(o,i),i=_g(i,o),i==null||delete i[Bn(gn(o))]}function W0(i,o,l,g){return ea(i,o,l(cs(i,o)),g)}function zc(i,o,l,g){for(var v=i.length,O=g?v:-1;(g?O--:++O<v)&&o(i[O],O,i););return l?pn(i,g?0:O,g?O+1:v):pn(i,g?O+1:0,g?v:O)}function Y0(i,o){var l=i;return l instanceof it&&(l=l.value()),cf(o,function(g,v){return v.func.apply(v.thisArg,Ei([g],v.args))},l)}function $f(i,o,l){var g=i.length;if(g<2)return g?Ii(i[0]):[];for(var v=-1,O=oe(g);++v<g;)for(var k=i[v],K=-1;++K<g;)K!=v&&(O[v]=Xo(O[v]||k,i[K],o,l));return Ii(br(O,1),o,l)}function J0(i,o,l){for(var g=-1,v=i.length,O=o.length,k={};++g<v;){var K=g<O?o[g]:r;l(k,i[g],K)}return k}function Ff(i){return Vt(i)?i:[]}function Mf(i){return typeof i=="function"?i:kr}function Di(i,o){return We(i)?i:Kf(i,o)?[i]:Sg(dt(i))}var D6=tt;function Oi(i,o,l){var g=i.length;return l=l===r?g:l,!o&&l>=g?i:pn(i,o,l)}var X0=pE||function(i){return at.clearTimeout(i)};function Q0(i,o){if(o)return i.slice();var l=i.length,g=v0?v0(l):new i.constructor(l);return i.copy(g),g}function jf(i){var o=new i.constructor(i.byteLength);return new Ac(o).set(new Ac(i)),o}function O6(i,o){var l=o?jf(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.byteLength)}function A6(i){var o=new i.constructor(i.source,cn.exec(i));return o.lastIndex=i.lastIndex,o}function C6(i){return Yo?_t(Yo.call(i)):{}}function Z0(i,o){var l=o?jf(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.length)}function eg(i,o){if(i!==o){var l=i!==r,g=i===null,v=i===i,O=Xr(i),k=o!==r,K=o===null,X=o===o,he=Xr(o);if(!K&&!he&&!O&&i>o||O&&k&&X&&!K&&!he||g&&k&&X||!l&&X||!v)return 1;if(!g&&!O&&!he&&i<o||he&&l&&v&&!g&&!O||K&&l&&v||!k&&v||!X)return-1}return 0}function T6(i,o,l){for(var g=-1,v=i.criteria,O=o.criteria,k=v.length,K=l.length;++g<k;){var X=eg(v[g],O[g]);if(X){if(g>=K)return X;var he=l[g];return X*(he=="desc"?-1:1)}}return i.index-o.index}function tg(i,o,l,g){for(var v=-1,O=i.length,k=l.length,K=-1,X=o.length,he=lr(O-k,0),de=oe(X+he),be=!g;++K<X;)de[K]=o[K];for(;++v<k;)(be||v<O)&&(de[l[v]]=i[v]);for(;he--;)de[K++]=i[v++];return de}function rg(i,o,l,g){for(var v=-1,O=i.length,k=-1,K=l.length,X=-1,he=o.length,de=lr(O-K,0),be=oe(de+he),Oe=!g;++v<de;)be[v]=i[v];for(var je=v;++X<he;)be[je+X]=o[X];for(;++k<K;)(Oe||v<O)&&(be[je+l[k]]=i[v++]);return be}function Lr(i,o){var l=-1,g=i.length;for(o||(o=oe(g));++l<g;)o[l]=i[l];return o}function Un(i,o,l,g){var v=!l;l||(l={});for(var O=-1,k=o.length;++O<k;){var K=o[O],X=g?g(l[K],i[K],K,l,i):r;X===r&&(X=i[K]),v?ti(l,K,X):Jo(l,K,X)}return l}function R6(i,o){return Un(i,qf(i),o)}function N6(i,o){return Un(i,gg(i),o)}function qc(i,o){return function(l,g){var v=We(l)?L_:t6,O=o?o():{};return v(l,i,Be(g,2),O)}}function Js(i){return tt(function(o,l){var g=-1,v=l.length,O=v>1?l[v-1]:r,k=v>2?l[2]:r;for(O=i.length>3&&typeof O=="function"?(v--,O):r,k&&Ar(l[0],l[1],k)&&(O=v<3?r:O,v=1),o=_t(o);++g<v;){var K=l[g];K&&i(o,K,g,O)}return o})}function ng(i,o){return function(l,g){if(l==null)return l;if(!Ur(l))return i(l,g);for(var v=l.length,O=o?v:-1,k=_t(l);(o?O--:++O<v)&&g(k[O],O,k)!==!1;);return l}}function ig(i){return function(o,l,g){for(var v=-1,O=_t(o),k=g(o),K=k.length;K--;){var X=k[i?K:++v];if(l(O[X],X,O)===!1)break}return o}}function $6(i,o,l){var g=o&M,v=ta(i);function O(){var k=this&&this!==at&&this instanceof O?v:i;return k.apply(g?l:this,arguments)}return O}function sg(i){return function(o){o=dt(o);var l=zs(o)?Pn(o):r,g=l?l[0]:o.charAt(0),v=l?Oi(l,1).join(""):o.slice(1);return g[i]()+v}}function Xs(i){return function(o){return cf(ny(ry(o).replace(Ho,"")),i,"")}}function ta(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var l=Ys(i.prototype),g=i.apply(l,o);return $t(g)?g:l}}function F6(i,o,l){var g=ta(i);function v(){for(var O=arguments.length,k=oe(O),K=O,X=Qs(v);K--;)k[K]=arguments[K];var he=O<3&&k[0]!==X&&k[O-1]!==X?[]:xi(k,X);if(O-=he.length,O<l)return lg(i,o,Kc,v.placeholder,r,k,he,r,r,l-O);var de=this&&this!==at&&this instanceof v?g:i;return hr(de,this,k)}return v}function og(i){return function(o,l,g){var v=_t(o);if(!Ur(o)){var O=Be(l,3);o=dr(o),l=function(K){return O(v[K],K,v)}}var k=i(o,l,g);return k>-1?v[O?o[k]:k]:r}}function ag(i){return ni(function(o){var l=o.length,g=l,v=hn.prototype.thru;for(i&&o.reverse();g--;){var O=o[g];if(typeof O!="function")throw new fn(c);if(v&&!k&&Yc(O)=="wrapper")var k=new hn([],!0)}for(g=k?g:l;++g<l;){O=o[g];var K=Yc(O),X=K=="wrapper"?Hf(O):r;X&&Vf(X[0])&&X[1]==(d|L|T|w)&&!X[4].length&&X[9]==1?k=k[Yc(X[0])].apply(k,X[3]):k=O.length==1&&Vf(O)?k[K]():k.thru(O)}return function(){var he=arguments,de=he[0];if(k&&he.length==1&&We(de))return k.plant(de).value();for(var be=0,Oe=l?o[be].apply(this,he):de;++be<l;)Oe=o[be].call(this,Oe);return Oe}})}function Kc(i,o,l,g,v,O,k,K,X,he){var de=o&d,be=o&M,Oe=o&z,je=o&(L|D),ke=o&Z,Ze=Oe?r:ta(i);function He(){for(var nt=arguments.length,ct=oe(nt),Qr=nt;Qr--;)ct[Qr]=arguments[Qr];if(je)var Cr=Qs(He),Zr=G_(ct,Cr);if(g&&(ct=tg(ct,g,v,je)),O&&(ct=rg(ct,O,k,je)),nt-=Zr,je&&nt<he){var Gt=xi(ct,Cr);return lg(i,o,Kc,He.placeholder,l,ct,Gt,K,X,he-nt)}var Dn=be?l:this,ai=Oe?Dn[i]:i;return nt=ct.length,K?ct=t2(ct,K):ke&&nt>1&&ct.reverse(),de&&X<nt&&(ct.length=X),this&&this!==at&&this instanceof He&&(ai=Ze||ta(ai)),ai.apply(Dn,ct)}return He}function cg(i,o){return function(l,g){return u6(l,i,o(g),{})}}function Vc(i,o){return function(l,g){var v;if(l===r&&g===r)return o;if(l!==r&&(v=l),g!==r){if(v===r)return g;typeof l=="string"||typeof g=="string"?(l=Jr(l),g=Jr(g)):(l=G0(l),g=G0(g)),v=i(l,g)}return v}}function Lf(i){return ni(function(o){return o=Tt(o,Yr(Be())),tt(function(l){var g=this;return i(o,function(v){return hr(v,g,l)})})})}function Gc(i,o){o=o===r?" ":Jr(o);var l=o.length;if(l<2)return l?Tf(o,i):o;var g=Tf(o,Nc(i/qs(o)));return zs(o)?Oi(Pn(g),0,i).join(""):g.slice(0,i)}function M6(i,o,l,g){var v=o&M,O=ta(i);function k(){for(var K=-1,X=arguments.length,he=-1,de=g.length,be=oe(de+X),Oe=this&&this!==at&&this instanceof k?O:i;++he<de;)be[he]=g[he];for(;X--;)be[he++]=arguments[++K];return hr(Oe,v?l:this,be)}return k}function ug(i){return function(o,l,g){return g&&typeof g!="number"&&Ar(o,l,g)&&(l=g=r),o=oi(o),l===r?(l=o,o=0):l=oi(l),g=g===r?o<l?1:-1:oi(g),_6(o,l,g,i)}}function Wc(i){return function(o,l){return typeof o=="string"&&typeof l=="string"||(o=yn(o),l=yn(l)),i(o,l)}}function lg(i,o,l,g,v,O,k,K,X,he){var de=o&L,be=de?k:r,Oe=de?r:k,je=de?O:r,ke=de?r:O;o|=de?T:P,o&=~(de?P:T),o&C||(o&=~(M|z));var Ze=[i,o,v,je,be,ke,Oe,K,X,he],He=l.apply(r,Ze);return Vf(i)&&Eg(He,Ze),He.placeholder=g,xg(He,i,o)}function Uf(i){var o=ur[i];return function(l,g){if(l=yn(l),g=g==null?0:_r(Xe(g),292),g&&x0(l)){var v=(dt(l)+"e").split("e"),O=o(v[0]+"e"+(+v[1]+g));return v=(dt(O)+"e").split("e"),+(v[0]+"e"+(+v[1]-g))}return o(l)}}var j6=Gs&&1/xc(new Gs([,-0]))[1]==te?function(i){return new Gs(i)}:ah;function fg(i){return function(o){var l=Er(o);return l==q?gf(o):l==se?eE(o):V_(o,i(o))}}function ri(i,o,l,g,v,O,k,K){var X=o&z;if(!X&&typeof i!="function")throw new fn(c);var he=g?g.length:0;if(he||(o&=~(T|P),g=v=r),k=k===r?k:lr(Xe(k),0),K=K===r?K:Xe(K),he-=v?v.length:0,o&P){var de=g,be=v;g=v=r}var Oe=X?r:Hf(i),je=[i,o,l,g,v,de,be,O,k,K];if(Oe&&Q6(je,Oe),i=je[0],o=je[1],l=je[2],g=je[3],v=je[4],K=je[9]=je[9]===r?X?0:i.length:lr(je[9]-he,0),!K&&o&(L|D)&&(o&=~(L|D)),!o||o==M)var ke=$6(i,o,l);else o==L||o==D?ke=F6(i,o,K):(o==T||o==(M|T))&&!v.length?ke=M6(i,o,l,g):ke=Kc.apply(r,je);var Ze=Oe?K0:Eg;return xg(Ze(ke,je),i,o)}function hg(i,o,l,g){return i===r||In(i,Vs[l])&&!pt.call(g,l)?o:i}function dg(i,o,l,g,v,O){return $t(i)&&$t(o)&&(O.set(o,i),kc(i,o,r,dg,O),O.delete(o)),i}function L6(i){return ia(i)?r:i}function pg(i,o,l,g,v,O){var k=l&x,K=i.length,X=o.length;if(K!=X&&!(k&&X>K))return!1;var he=O.get(i),de=O.get(o);if(he&&de)return he==o&&de==i;var be=-1,Oe=!0,je=l&N?new os:r;for(O.set(i,o),O.set(o,i);++be<K;){var ke=i[be],Ze=o[be];if(g)var He=k?g(Ze,ke,be,o,i,O):g(ke,Ze,be,i,o,O);if(He!==r){if(He)continue;Oe=!1;break}if(je){if(!uf(o,function(nt,ct){if(!qo(je,ct)&&(ke===nt||v(ke,nt,l,g,O)))return je.push(ct)})){Oe=!1;break}}else if(!(ke===Ze||v(ke,Ze,l,g,O))){Oe=!1;break}}return O.delete(i),O.delete(o),Oe}function U6(i,o,l,g,v,O,k){switch(l){case Ae:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Ie:return!(i.byteLength!=o.byteLength||!O(new Ac(i),new Ac(o)));case H:case j:case re:return In(+i,+o);case U:return i.name==o.name&&i.message==o.message;case fe:case ve:return i==o+"";case q:var K=gf;case se:var X=g&x;if(K||(K=xc),i.size!=o.size&&!X)return!1;var he=k.get(i);if(he)return he==o;g|=N,k.set(i,o);var de=pg(K(i),K(o),g,v,O,k);return k.delete(i),de;case me:if(Yo)return Yo.call(i)==Yo.call(o)}return!1}function B6(i,o,l,g,v,O){var k=l&x,K=Bf(i),X=K.length,he=Bf(o),de=he.length;if(X!=de&&!k)return!1;for(var be=X;be--;){var Oe=K[be];if(!(k?Oe in o:pt.call(o,Oe)))return!1}var je=O.get(i),ke=O.get(o);if(je&&ke)return je==o&&ke==i;var Ze=!0;O.set(i,o),O.set(o,i);for(var He=k;++be<X;){Oe=K[be];var nt=i[Oe],ct=o[Oe];if(g)var Qr=k?g(ct,nt,Oe,o,i,O):g(nt,ct,Oe,i,o,O);if(!(Qr===r?nt===ct||v(nt,ct,l,g,O):Qr)){Ze=!1;break}He||(He=Oe=="constructor")}if(Ze&&!He){var Cr=i.constructor,Zr=o.constructor;Cr!=Zr&&"constructor"in i&&"constructor"in o&&!(typeof Cr=="function"&&Cr instanceof Cr&&typeof Zr=="function"&&Zr instanceof Zr)&&(Ze=!1)}return O.delete(i),O.delete(o),Ze}function ni(i){return Wf(wg(i,r,Ag),i+"")}function Bf(i){return $0(i,dr,qf)}function kf(i){return $0(i,Br,gg)}var Hf=Fc?function(i){return Fc.get(i)}:ah;function Yc(i){for(var o=i.name+"",l=Ws[o],g=pt.call(Ws,o)?l.length:0;g--;){var v=l[g],O=v.func;if(O==null||O==i)return v.name}return o}function Qs(i){var o=pt.call(S,"placeholder")?S:i;return o.placeholder}function Be(){var i=S.iteratee||sh;return i=i===sh?j0:i,arguments.length?i(arguments[0],arguments[1]):i}function Jc(i,o){var l=i.__data__;return W6(o)?l[typeof o=="string"?"string":"hash"]:l.map}function zf(i){for(var o=dr(i),l=o.length;l--;){var g=o[l],v=i[g];o[l]=[g,v,bg(v)]}return o}function us(i,o){var l=X_(i,o);return M0(l)?l:r}function k6(i){var o=pt.call(i,is),l=i[is];try{i[is]=r;var g=!0}catch{}var v=Dc.call(i);return g&&(o?i[is]=l:delete i[is]),v}var qf=mf?function(i){return i==null?[]:(i=_t(i),_i(mf(i),function(o){return _0.call(i,o)}))}:ch,gg=mf?function(i){for(var o=[];i;)Ei(o,qf(i)),i=Cc(i);return o}:ch,Er=Or;(bf&&Er(new bf(new ArrayBuffer(1)))!=Ae||Vo&&Er(new Vo)!=q||vf&&Er(vf.resolve())!=we||Gs&&Er(new Gs)!=se||Go&&Er(new Go)!=Ee)&&(Er=function(i){var o=Or(i),l=o==ce?i.constructor:r,g=l?ls(l):"";if(g)switch(g){case xE:return Ae;case PE:return q;case SE:return we;case IE:return se;case DE:return Ee}return o});function H6(i,o,l){for(var g=-1,v=l.length;++g<v;){var O=l[g],k=O.size;switch(O.type){case"drop":i+=k;break;case"dropRight":o-=k;break;case"take":o=_r(o,i+k);break;case"takeRight":i=lr(i,o-k);break}}return{start:i,end:o}}function z6(i){var o=i.match(xt);return o?o[1].split(nr):[]}function yg(i,o,l){o=Di(o,i);for(var g=-1,v=o.length,O=!1;++g<v;){var k=Bn(o[g]);if(!(O=i!=null&&l(i,k)))break;i=i[k]}return O||++g!=v?O:(v=i==null?0:i.length,!!v&&nu(v)&&ii(k,v)&&(We(i)||fs(i)))}function q6(i){var o=i.length,l=new i.constructor(o);return o&&typeof i[0]=="string"&&pt.call(i,"index")&&(l.index=i.index,l.input=i.input),l}function mg(i){return typeof i.constructor=="function"&&!ra(i)?Ys(Cc(i)):{}}function K6(i,o,l){var g=i.constructor;switch(o){case Ie:return jf(i);case H:case j:return new g(+i);case Ae:return O6(i,l);case Me:case Le:case Ke:case et:case Qe:case rt:case ze:case Et:case mr:return Z0(i,l);case q:return new g;case re:case ve:return new g(i);case fe:return A6(i);case se:return new g;case me:return C6(i)}}function V6(i,o){var l=o.length;if(!l)return i;var g=l-1;return o[g]=(l>1?"& ":"")+o[g],o=o.join(l>2?", ":" "),i.replace(Ht,`{
/* [wrapped with `+o+`] */
`)}function G6(i){return We(i)||fs(i)||!!(E0&&i&&i[E0])}function ii(i,o){var l=typeof i;return o=o??Q,!!o&&(l=="number"||l!="symbol"&&Vl.test(i))&&i>-1&&i%1==0&&i<o}function Ar(i,o,l){if(!$t(l))return!1;var g=typeof o;return(g=="number"?Ur(l)&&ii(o,l.length):g=="string"&&o in l)?In(l[o],i):!1}function Kf(i,o){if(We(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||Xr(i)?!0:er.test(i)||!Ct.test(i)||o!=null&&i in _t(o)}function W6(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function Vf(i){var o=Yc(i),l=S[o];if(typeof l!="function"||!(o in it.prototype))return!1;if(i===l)return!0;var g=Hf(l);return!!g&&i===g[0]}function Y6(i){return!!b0&&b0 in i}var J6=Sc?si:uh;function ra(i){var o=i&&i.constructor,l=typeof o=="function"&&o.prototype||Vs;return i===l}function bg(i){return i===i&&!$t(i)}function vg(i,o){return function(l){return l==null?!1:l[i]===o&&(o!==r||i in _t(l))}}function X6(i){var o=tu(i,function(g){return l.size===h&&l.clear(),g}),l=o.cache;return o}function Q6(i,o){var l=i[1],g=o[1],v=l|g,O=v<(M|z|d),k=g==d&&l==L||g==d&&l==w&&i[7].length<=o[8]||g==(d|w)&&o[7].length<=o[8]&&l==L;if(!(O||k))return i;g&M&&(i[2]=o[2],v|=l&M?0:C);var K=o[3];if(K){var X=i[3];i[3]=X?tg(X,K,o[4]):K,i[4]=X?xi(i[3],p):o[4]}return K=o[5],K&&(X=i[5],i[5]=X?rg(X,K,o[6]):K,i[6]=X?xi(i[5],p):o[6]),K=o[7],K&&(i[7]=K),g&d&&(i[8]=i[8]==null?o[8]:_r(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=v,i}function Z6(i){var o=[];if(i!=null)for(var l in _t(i))o.push(l);return o}function e2(i){return Dc.call(i)}function wg(i,o,l){return o=lr(o===r?i.length-1:o,0),function(){for(var g=arguments,v=-1,O=lr(g.length-o,0),k=oe(O);++v<O;)k[v]=g[o+v];v=-1;for(var K=oe(o+1);++v<o;)K[v]=g[v];return K[o]=l(k),hr(i,this,K)}}function _g(i,o){return o.length<2?i:cs(i,pn(o,0,-1))}function t2(i,o){for(var l=i.length,g=_r(o.length,l),v=Lr(i);g--;){var O=o[g];i[g]=ii(O,l)?v[O]:r}return i}function Gf(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var Eg=Pg(K0),na=yE||function(i,o){return at.setTimeout(i,o)},Wf=Pg(P6);function xg(i,o,l){var g=o+"";return Wf(i,V6(g,r2(z6(g),l)))}function Pg(i){var o=0,l=0;return function(){var g=wE(),v=ae-(g-l);if(l=g,v>0){if(++o>=ee)return arguments[0]}else o=0;return i.apply(r,arguments)}}function Xc(i,o){var l=-1,g=i.length,v=g-1;for(o=o===r?g:o;++l<o;){var O=Cf(l,v),k=i[O];i[O]=i[l],i[l]=k}return i.length=o,i}var Sg=X6(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(tr,function(l,g,v,O){o.push(v?O.replace(Bl,"$1"):g||l)}),o});function Bn(i){if(typeof i=="string"||Xr(i))return i;var o=i+"";return o=="0"&&1/i==-te?"-0":o}function ls(i){if(i!=null){try{return Ic.call(i)}catch{}try{return i+""}catch{}}return""}function r2(i,o){return ln(Fe,function(l){var g="_."+l[0];o&l[1]&&!_c(i,g)&&i.push(g)}),i.sort()}function Ig(i){if(i instanceof it)return i.clone();var o=new hn(i.__wrapped__,i.__chain__);return o.__actions__=Lr(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function n2(i,o,l){(l?Ar(i,o,l):o===r)?o=1:o=lr(Xe(o),0);var g=i==null?0:i.length;if(!g||o<1)return[];for(var v=0,O=0,k=oe(Nc(g/o));v<g;)k[O++]=pn(i,v,v+=o);return k}function i2(i){for(var o=-1,l=i==null?0:i.length,g=0,v=[];++o<l;){var O=i[o];O&&(v[g++]=O)}return v}function s2(){var i=arguments.length;if(!i)return[];for(var o=oe(i-1),l=arguments[0],g=i;g--;)o[g-1]=arguments[g];return Ei(We(l)?Lr(l):[l],br(o,1))}var o2=tt(function(i,o){return Vt(i)?Xo(i,br(o,1,Vt,!0)):[]}),a2=tt(function(i,o){var l=gn(o);return Vt(l)&&(l=r),Vt(i)?Xo(i,br(o,1,Vt,!0),Be(l,2)):[]}),c2=tt(function(i,o){var l=gn(o);return Vt(l)&&(l=r),Vt(i)?Xo(i,br(o,1,Vt,!0),r,l):[]});function u2(i,o,l){var g=i==null?0:i.length;return g?(o=l||o===r?1:Xe(o),pn(i,o<0?0:o,g)):[]}function l2(i,o,l){var g=i==null?0:i.length;return g?(o=l||o===r?1:Xe(o),o=g-o,pn(i,0,o<0?0:o)):[]}function f2(i,o){return i&&i.length?zc(i,Be(o,3),!0,!0):[]}function h2(i,o){return i&&i.length?zc(i,Be(o,3),!0):[]}function d2(i,o,l,g){var v=i==null?0:i.length;return v?(l&&typeof l!="number"&&Ar(i,o,l)&&(l=0,g=v),s6(i,o,l,g)):[]}function Dg(i,o,l){var g=i==null?0:i.length;if(!g)return-1;var v=l==null?0:Xe(l);return v<0&&(v=lr(g+v,0)),Ec(i,Be(o,3),v)}function Og(i,o,l){var g=i==null?0:i.length;if(!g)return-1;var v=g-1;return l!==r&&(v=Xe(l),v=l<0?lr(g+v,0):_r(v,g-1)),Ec(i,Be(o,3),v,!0)}function Ag(i){var o=i==null?0:i.length;return o?br(i,1):[]}function p2(i){var o=i==null?0:i.length;return o?br(i,te):[]}function g2(i,o){var l=i==null?0:i.length;return l?(o=o===r?1:Xe(o),br(i,o)):[]}function y2(i){for(var o=-1,l=i==null?0:i.length,g={};++o<l;){var v=i[o];g[v[0]]=v[1]}return g}function Cg(i){return i&&i.length?i[0]:r}function m2(i,o,l){var g=i==null?0:i.length;if(!g)return-1;var v=l==null?0:Xe(l);return v<0&&(v=lr(g+v,0)),Hs(i,o,v)}function b2(i){var o=i==null?0:i.length;return o?pn(i,0,-1):[]}var v2=tt(function(i){var o=Tt(i,Ff);return o.length&&o[0]===i[0]?Sf(o):[]}),w2=tt(function(i){var o=gn(i),l=Tt(i,Ff);return o===gn(l)?o=r:l.pop(),l.length&&l[0]===i[0]?Sf(l,Be(o,2)):[]}),_2=tt(function(i){var o=gn(i),l=Tt(i,Ff);return o=typeof o=="function"?o:r,o&&l.pop(),l.length&&l[0]===i[0]?Sf(l,r,o):[]});function E2(i,o){return i==null?"":bE.call(i,o)}function gn(i){var o=i==null?0:i.length;return o?i[o-1]:r}function x2(i,o,l){var g=i==null?0:i.length;if(!g)return-1;var v=g;return l!==r&&(v=Xe(l),v=v<0?lr(g+v,0):_r(v,g-1)),o===o?rE(i,o,v):Ec(i,l0,v,!0)}function P2(i,o){return i&&i.length?k0(i,Xe(o)):r}var S2=tt(Tg);function Tg(i,o){return i&&i.length&&o&&o.length?Af(i,o):i}function I2(i,o,l){return i&&i.length&&o&&o.length?Af(i,o,Be(l,2)):i}function D2(i,o,l){return i&&i.length&&o&&o.length?Af(i,o,r,l):i}var O2=ni(function(i,o){var l=i==null?0:i.length,g=_f(i,o);return q0(i,Tt(o,function(v){return ii(v,l)?+v:v}).sort(eg)),g});function A2(i,o){var l=[];if(!(i&&i.length))return l;var g=-1,v=[],O=i.length;for(o=Be(o,3);++g<O;){var k=i[g];o(k,g,i)&&(l.push(k),v.push(g))}return q0(i,v),l}function Yf(i){return i==null?i:EE.call(i)}function C2(i,o,l){var g=i==null?0:i.length;return g?(l&&typeof l!="number"&&Ar(i,o,l)?(o=0,l=g):(o=o==null?0:Xe(o),l=l===r?g:Xe(l)),pn(i,o,l)):[]}function T2(i,o){return Hc(i,o)}function R2(i,o,l){return Rf(i,o,Be(l,2))}function N2(i,o){var l=i==null?0:i.length;if(l){var g=Hc(i,o);if(g<l&&In(i[g],o))return g}return-1}function $2(i,o){return Hc(i,o,!0)}function F2(i,o,l){return Rf(i,o,Be(l,2),!0)}function M2(i,o){var l=i==null?0:i.length;if(l){var g=Hc(i,o,!0)-1;if(In(i[g],o))return g}return-1}function j2(i){return i&&i.length?V0(i):[]}function L2(i,o){return i&&i.length?V0(i,Be(o,2)):[]}function U2(i){var o=i==null?0:i.length;return o?pn(i,1,o):[]}function B2(i,o,l){return i&&i.length?(o=l||o===r?1:Xe(o),pn(i,0,o<0?0:o)):[]}function k2(i,o,l){var g=i==null?0:i.length;return g?(o=l||o===r?1:Xe(o),o=g-o,pn(i,o<0?0:o,g)):[]}function H2(i,o){return i&&i.length?zc(i,Be(o,3),!1,!0):[]}function z2(i,o){return i&&i.length?zc(i,Be(o,3)):[]}var q2=tt(function(i){return Ii(br(i,1,Vt,!0))}),K2=tt(function(i){var o=gn(i);return Vt(o)&&(o=r),Ii(br(i,1,Vt,!0),Be(o,2))}),V2=tt(function(i){var o=gn(i);return o=typeof o=="function"?o:r,Ii(br(i,1,Vt,!0),r,o)});function G2(i){return i&&i.length?Ii(i):[]}function W2(i,o){return i&&i.length?Ii(i,Be(o,2)):[]}function Y2(i,o){return o=typeof o=="function"?o:r,i&&i.length?Ii(i,r,o):[]}function Jf(i){if(!(i&&i.length))return[];var o=0;return i=_i(i,function(l){if(Vt(l))return o=lr(l.length,o),!0}),df(o,function(l){return Tt(i,lf(l))})}function Rg(i,o){if(!(i&&i.length))return[];var l=Jf(i);return o==null?l:Tt(l,function(g){return hr(o,r,g)})}var J2=tt(function(i,o){return Vt(i)?Xo(i,o):[]}),X2=tt(function(i){return $f(_i(i,Vt))}),Q2=tt(function(i){var o=gn(i);return Vt(o)&&(o=r),$f(_i(i,Vt),Be(o,2))}),Z2=tt(function(i){var o=gn(i);return o=typeof o=="function"?o:r,$f(_i(i,Vt),r,o)}),e3=tt(Jf);function t3(i,o){return J0(i||[],o||[],Jo)}function r3(i,o){return J0(i||[],o||[],ea)}var n3=tt(function(i){var o=i.length,l=o>1?i[o-1]:r;return l=typeof l=="function"?(i.pop(),l):r,Rg(i,l)});function Ng(i){var o=S(i);return o.__chain__=!0,o}function i3(i,o){return o(i),i}function Qc(i,o){return o(i)}var s3=ni(function(i){var o=i.length,l=o?i[0]:0,g=this.__wrapped__,v=function(O){return _f(O,i)};return o>1||this.__actions__.length||!(g instanceof it)||!ii(l)?this.thru(v):(g=g.slice(l,+l+(o?1:0)),g.__actions__.push({func:Qc,args:[v],thisArg:r}),new hn(g,this.__chain__).thru(function(O){return o&&!O.length&&O.push(r),O}))});function o3(){return Ng(this)}function a3(){return new hn(this.value(),this.__chain__)}function c3(){this.__values__===r&&(this.__values__=Gg(this.value()));var i=this.__index__>=this.__values__.length,o=i?r:this.__values__[this.__index__++];return{done:i,value:o}}function u3(){return this}function l3(i){for(var o,l=this;l instanceof jc;){var g=Ig(l);g.__index__=0,g.__values__=r,o?v.__wrapped__=g:o=g;var v=g;l=l.__wrapped__}return v.__wrapped__=i,o}function f3(){var i=this.__wrapped__;if(i instanceof it){var o=i;return this.__actions__.length&&(o=new it(this)),o=o.reverse(),o.__actions__.push({func:Qc,args:[Yf],thisArg:r}),new hn(o,this.__chain__)}return this.thru(Yf)}function h3(){return Y0(this.__wrapped__,this.__actions__)}var d3=qc(function(i,o,l){pt.call(i,l)?++i[l]:ti(i,l,1)});function p3(i,o,l){var g=We(i)?c0:i6;return l&&Ar(i,o,l)&&(o=r),g(i,Be(o,3))}function g3(i,o){var l=We(i)?_i:R0;return l(i,Be(o,3))}var y3=og(Dg),m3=og(Og);function b3(i,o){return br(Zc(i,o),1)}function v3(i,o){return br(Zc(i,o),te)}function w3(i,o,l){return l=l===r?1:Xe(l),br(Zc(i,o),l)}function $g(i,o){var l=We(i)?ln:Si;return l(i,Be(o,3))}function Fg(i,o){var l=We(i)?U_:T0;return l(i,Be(o,3))}var _3=qc(function(i,o,l){pt.call(i,l)?i[l].push(o):ti(i,l,[o])});function E3(i,o,l,g){i=Ur(i)?i:eo(i),l=l&&!g?Xe(l):0;var v=i.length;return l<0&&(l=lr(v+l,0)),iu(i)?l<=v&&i.indexOf(o,l)>-1:!!v&&Hs(i,o,l)>-1}var x3=tt(function(i,o,l){var g=-1,v=typeof o=="function",O=Ur(i)?oe(i.length):[];return Si(i,function(k){O[++g]=v?hr(o,k,l):Qo(k,o,l)}),O}),P3=qc(function(i,o,l){ti(i,l,o)});function Zc(i,o){var l=We(i)?Tt:L0;return l(i,Be(o,3))}function S3(i,o,l,g){return i==null?[]:(We(o)||(o=o==null?[]:[o]),l=g?r:l,We(l)||(l=l==null?[]:[l]),H0(i,o,l))}var I3=qc(function(i,o,l){i[l?0:1].push(o)},function(){return[[],[]]});function D3(i,o,l){var g=We(i)?cf:h0,v=arguments.length<3;return g(i,Be(o,4),l,v,Si)}function O3(i,o,l){var g=We(i)?B_:h0,v=arguments.length<3;return g(i,Be(o,4),l,v,T0)}function A3(i,o){var l=We(i)?_i:R0;return l(i,ru(Be(o,3)))}function C3(i){var o=We(i)?D0:E6;return o(i)}function T3(i,o,l){(l?Ar(i,o,l):o===r)?o=1:o=Xe(o);var g=We(i)?ZE:x6;return g(i,o)}function R3(i){var o=We(i)?e6:S6;return o(i)}function N3(i){if(i==null)return 0;if(Ur(i))return iu(i)?qs(i):i.length;var o=Er(i);return o==q||o==se?i.size:Df(i).length}function $3(i,o,l){var g=We(i)?uf:I6;return l&&Ar(i,o,l)&&(o=r),g(i,Be(o,3))}var F3=tt(function(i,o){if(i==null)return[];var l=o.length;return l>1&&Ar(i,o[0],o[1])?o=[]:l>2&&Ar(o[0],o[1],o[2])&&(o=[o[0]]),H0(i,br(o,1),[])}),eu=gE||function(){return at.Date.now()};function M3(i,o){if(typeof o!="function")throw new fn(c);return i=Xe(i),function(){if(--i<1)return o.apply(this,arguments)}}function Mg(i,o,l){return o=l?r:o,o=i&&o==null?i.length:o,ri(i,d,r,r,r,r,o)}function jg(i,o){var l;if(typeof o!="function")throw new fn(c);return i=Xe(i),function(){return--i>0&&(l=o.apply(this,arguments)),i<=1&&(o=r),l}}var Xf=tt(function(i,o,l){var g=M;if(l.length){var v=xi(l,Qs(Xf));g|=T}return ri(i,g,o,l,v)}),Lg=tt(function(i,o,l){var g=M|z;if(l.length){var v=xi(l,Qs(Lg));g|=T}return ri(o,g,i,l,v)});function Ug(i,o,l){o=l?r:o;var g=ri(i,L,r,r,r,r,r,o);return g.placeholder=Ug.placeholder,g}function Bg(i,o,l){o=l?r:o;var g=ri(i,D,r,r,r,r,r,o);return g.placeholder=Bg.placeholder,g}function kg(i,o,l){var g,v,O,k,K,X,he=0,de=!1,be=!1,Oe=!0;if(typeof i!="function")throw new fn(c);o=yn(o)||0,$t(l)&&(de=!!l.leading,be="maxWait"in l,O=be?lr(yn(l.maxWait)||0,o):O,Oe="trailing"in l?!!l.trailing:Oe);function je(Gt){var Dn=g,ai=v;return g=v=r,he=Gt,k=i.apply(ai,Dn),k}function ke(Gt){return he=Gt,K=na(nt,o),de?je(Gt):k}function Ze(Gt){var Dn=Gt-X,ai=Gt-he,oy=o-Dn;return be?_r(oy,O-ai):oy}function He(Gt){var Dn=Gt-X,ai=Gt-he;return X===r||Dn>=o||Dn<0||be&&ai>=O}function nt(){var Gt=eu();if(He(Gt))return ct(Gt);K=na(nt,Ze(Gt))}function ct(Gt){return K=r,Oe&&g?je(Gt):(g=v=r,k)}function Qr(){K!==r&&X0(K),he=0,g=X=v=K=r}function Cr(){return K===r?k:ct(eu())}function Zr(){var Gt=eu(),Dn=He(Gt);if(g=arguments,v=this,X=Gt,Dn){if(K===r)return ke(X);if(be)return X0(K),K=na(nt,o),je(X)}return K===r&&(K=na(nt,o)),k}return Zr.cancel=Qr,Zr.flush=Cr,Zr}var j3=tt(function(i,o){return C0(i,1,o)}),L3=tt(function(i,o,l){return C0(i,yn(o)||0,l)});function U3(i){return ri(i,Z)}function tu(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new fn(c);var l=function(){var g=arguments,v=o?o.apply(this,g):g[0],O=l.cache;if(O.has(v))return O.get(v);var k=i.apply(this,g);return l.cache=O.set(v,k)||O,k};return l.cache=new(tu.Cache||ei),l}tu.Cache=ei;function ru(i){if(typeof i!="function")throw new fn(c);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function B3(i){return jg(2,i)}var k3=D6(function(i,o){o=o.length==1&&We(o[0])?Tt(o[0],Yr(Be())):Tt(br(o,1),Yr(Be()));var l=o.length;return tt(function(g){for(var v=-1,O=_r(g.length,l);++v<O;)g[v]=o[v].call(this,g[v]);return hr(i,this,g)})}),Qf=tt(function(i,o){var l=xi(o,Qs(Qf));return ri(i,T,r,o,l)}),Hg=tt(function(i,o){var l=xi(o,Qs(Hg));return ri(i,P,r,o,l)}),H3=ni(function(i,o){return ri(i,w,r,r,r,o)});function z3(i,o){if(typeof i!="function")throw new fn(c);return o=o===r?o:Xe(o),tt(i,o)}function q3(i,o){if(typeof i!="function")throw new fn(c);return o=o==null?0:lr(Xe(o),0),tt(function(l){var g=l[o],v=Oi(l,0,o);return g&&Ei(v,g),hr(i,this,v)})}function K3(i,o,l){var g=!0,v=!0;if(typeof i!="function")throw new fn(c);return $t(l)&&(g="leading"in l?!!l.leading:g,v="trailing"in l?!!l.trailing:v),kg(i,o,{leading:g,maxWait:o,trailing:v})}function V3(i){return Mg(i,1)}function G3(i,o){return Qf(Mf(o),i)}function W3(){if(!arguments.length)return[];var i=arguments[0];return We(i)?i:[i]}function Y3(i){return dn(i,_)}function J3(i,o){return o=typeof o=="function"?o:r,dn(i,_,o)}function X3(i){return dn(i,m|_)}function Q3(i,o){return o=typeof o=="function"?o:r,dn(i,m|_,o)}function Z3(i,o){return o==null||A0(i,o,dr(o))}function In(i,o){return i===o||i!==i&&o!==o}var e5=Wc(Pf),t5=Wc(function(i,o){return i>=o}),fs=F0(function(){return arguments}())?F0:function(i){return zt(i)&&pt.call(i,"callee")&&!_0.call(i,"callee")},We=oe.isArray,r5=Dr?Yr(Dr):l6;function Ur(i){return i!=null&&nu(i.length)&&!si(i)}function Vt(i){return zt(i)&&Ur(i)}function n5(i){return i===!0||i===!1||zt(i)&&Or(i)==H}var Ai=mE||uh,i5=xn?Yr(xn):f6;function s5(i){return zt(i)&&i.nodeType===1&&!ia(i)}function o5(i){if(i==null)return!0;if(Ur(i)&&(We(i)||typeof i=="string"||typeof i.splice=="function"||Ai(i)||Zs(i)||fs(i)))return!i.length;var o=Er(i);if(o==q||o==se)return!i.size;if(ra(i))return!Df(i).length;for(var l in i)if(pt.call(i,l))return!1;return!0}function a5(i,o){return Zo(i,o)}function c5(i,o,l){l=typeof l=="function"?l:r;var g=l?l(i,o):r;return g===r?Zo(i,o,r,l):!!g}function Zf(i){if(!zt(i))return!1;var o=Or(i);return o==U||o==y||typeof i.message=="string"&&typeof i.name=="string"&&!ia(i)}function u5(i){return typeof i=="number"&&x0(i)}function si(i){if(!$t(i))return!1;var o=Or(i);return o==I||o==R||o==$||o==pe}function zg(i){return typeof i=="number"&&i==Xe(i)}function nu(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Q}function $t(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function zt(i){return i!=null&&typeof i=="object"}var qg=un?Yr(un):d6;function l5(i,o){return i===o||If(i,o,zf(o))}function f5(i,o,l){return l=typeof l=="function"?l:r,If(i,o,zf(o),l)}function h5(i){return Kg(i)&&i!=+i}function d5(i){if(J6(i))throw new Ve(a);return M0(i)}function p5(i){return i===null}function g5(i){return i==null}function Kg(i){return typeof i=="number"||zt(i)&&Or(i)==re}function ia(i){if(!zt(i)||Or(i)!=ce)return!1;var o=Cc(i);if(o===null)return!0;var l=pt.call(o,"constructor")&&o.constructor;return typeof l=="function"&&l instanceof l&&Ic.call(l)==fE}var eh=jn?Yr(jn):p6;function y5(i){return zg(i)&&i>=-Q&&i<=Q}var Vg=zo?Yr(zo):g6;function iu(i){return typeof i=="string"||!We(i)&&zt(i)&&Or(i)==ve}function Xr(i){return typeof i=="symbol"||zt(i)&&Or(i)==me}var Zs=ns?Yr(ns):y6;function m5(i){return i===r}function b5(i){return zt(i)&&Er(i)==Ee}function v5(i){return zt(i)&&Or(i)==Se}var w5=Wc(Of),_5=Wc(function(i,o){return i<=o});function Gg(i){if(!i)return[];if(Ur(i))return iu(i)?Pn(i):Lr(i);if(Ko&&i[Ko])return Z_(i[Ko]());var o=Er(i),l=o==q?gf:o==se?xc:eo;return l(i)}function oi(i){if(!i)return i===0?i:0;if(i=yn(i),i===te||i===-te){var o=i<0?-1:1;return o*J}return i===i?i:0}function Xe(i){var o=oi(i),l=o%1;return o===o?l?o-l:o:0}function Wg(i){return i?as(Xe(i),0,ue):0}function yn(i){if(typeof i=="number")return i;if(Xr(i))return ie;if($t(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=$t(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=d0(i);var l=zl.test(i);return l||Kl.test(i)?Ge(i.slice(2),l?2:8):Hl.test(i)?ie:+i}function Yg(i){return Un(i,Br(i))}function E5(i){return i?as(Xe(i),-Q,Q):i===0?i:0}function dt(i){return i==null?"":Jr(i)}var x5=Js(function(i,o){if(ra(o)||Ur(o)){Un(o,dr(o),i);return}for(var l in o)pt.call(o,l)&&Jo(i,l,o[l])}),Jg=Js(function(i,o){Un(o,Br(o),i)}),su=Js(function(i,o,l,g){Un(o,Br(o),i,g)}),P5=Js(function(i,o,l,g){Un(o,dr(o),i,g)}),S5=ni(_f);function I5(i,o){var l=Ys(i);return o==null?l:O0(l,o)}var D5=tt(function(i,o){i=_t(i);var l=-1,g=o.length,v=g>2?o[2]:r;for(v&&Ar(o[0],o[1],v)&&(g=1);++l<g;)for(var O=o[l],k=Br(O),K=-1,X=k.length;++K<X;){var he=k[K],de=i[he];(de===r||In(de,Vs[he])&&!pt.call(i,he))&&(i[he]=O[he])}return i}),O5=tt(function(i){return i.push(r,dg),hr(Xg,r,i)});function A5(i,o){return u0(i,Be(o,3),Ln)}function C5(i,o){return u0(i,Be(o,3),xf)}function T5(i,o){return i==null?i:Ef(i,Be(o,3),Br)}function R5(i,o){return i==null?i:N0(i,Be(o,3),Br)}function N5(i,o){return i&&Ln(i,Be(o,3))}function $5(i,o){return i&&xf(i,Be(o,3))}function F5(i){return i==null?[]:Bc(i,dr(i))}function M5(i){return i==null?[]:Bc(i,Br(i))}function th(i,o,l){var g=i==null?r:cs(i,o);return g===r?l:g}function j5(i,o){return i!=null&&yg(i,o,o6)}function rh(i,o){return i!=null&&yg(i,o,a6)}var L5=cg(function(i,o,l){o!=null&&typeof o.toString!="function"&&(o=Dc.call(o)),i[o]=l},ih(kr)),U5=cg(function(i,o,l){o!=null&&typeof o.toString!="function"&&(o=Dc.call(o)),pt.call(i,o)?i[o].push(l):i[o]=[l]},Be),B5=tt(Qo);function dr(i){return Ur(i)?I0(i):Df(i)}function Br(i){return Ur(i)?I0(i,!0):m6(i)}function k5(i,o){var l={};return o=Be(o,3),Ln(i,function(g,v,O){ti(l,o(g,v,O),g)}),l}function H5(i,o){var l={};return o=Be(o,3),Ln(i,function(g,v,O){ti(l,v,o(g,v,O))}),l}var z5=Js(function(i,o,l){kc(i,o,l)}),Xg=Js(function(i,o,l,g){kc(i,o,l,g)}),q5=ni(function(i,o){var l={};if(i==null)return l;var g=!1;o=Tt(o,function(O){return O=Di(O,i),g||(g=O.length>1),O}),Un(i,kf(i),l),g&&(l=dn(l,m|b|_,L6));for(var v=o.length;v--;)Nf(l,o[v]);return l});function K5(i,o){return Qg(i,ru(Be(o)))}var V5=ni(function(i,o){return i==null?{}:v6(i,o)});function Qg(i,o){if(i==null)return{};var l=Tt(kf(i),function(g){return[g]});return o=Be(o),z0(i,l,function(g,v){return o(g,v[0])})}function G5(i,o,l){o=Di(o,i);var g=-1,v=o.length;for(v||(v=1,i=r);++g<v;){var O=i==null?r:i[Bn(o[g])];O===r&&(g=v,O=l),i=si(O)?O.call(i):O}return i}function W5(i,o,l){return i==null?i:ea(i,o,l)}function Y5(i,o,l,g){return g=typeof g=="function"?g:r,i==null?i:ea(i,o,l,g)}var Zg=fg(dr),ey=fg(Br);function J5(i,o,l){var g=We(i),v=g||Ai(i)||Zs(i);if(o=Be(o,4),l==null){var O=i&&i.constructor;v?l=g?new O:[]:$t(i)?l=si(O)?Ys(Cc(i)):{}:l={}}return(v?ln:Ln)(i,function(k,K,X){return o(l,k,K,X)}),l}function X5(i,o){return i==null?!0:Nf(i,o)}function Q5(i,o,l){return i==null?i:W0(i,o,Mf(l))}function Z5(i,o,l,g){return g=typeof g=="function"?g:r,i==null?i:W0(i,o,Mf(l),g)}function eo(i){return i==null?[]:pf(i,dr(i))}function ex(i){return i==null?[]:pf(i,Br(i))}function tx(i,o,l){return l===r&&(l=o,o=r),l!==r&&(l=yn(l),l=l===l?l:0),o!==r&&(o=yn(o),o=o===o?o:0),as(yn(i),o,l)}function rx(i,o,l){return o=oi(o),l===r?(l=o,o=0):l=oi(l),i=yn(i),c6(i,o,l)}function nx(i,o,l){if(l&&typeof l!="boolean"&&Ar(i,o,l)&&(o=l=r),l===r&&(typeof o=="boolean"?(l=o,o=r):typeof i=="boolean"&&(l=i,i=r)),i===r&&o===r?(i=0,o=1):(i=oi(i),o===r?(o=i,i=0):o=oi(o)),i>o){var g=i;i=o,o=g}if(l||i%1||o%1){var v=P0();return _r(i+v*(o-i+vt("1e-"+((v+"").length-1))),o)}return Cf(i,o)}var ix=Xs(function(i,o,l){return o=o.toLowerCase(),i+(l?ty(o):o)});function ty(i){return nh(dt(i).toLowerCase())}function ry(i){return i=dt(i),i&&i.replace(Xn,W_).replace(sf,"")}function sx(i,o,l){i=dt(i),o=Jr(o);var g=i.length;l=l===r?g:as(Xe(l),0,g);var v=l;return l-=o.length,l>=0&&i.slice(l,v)==o}function ox(i){return i=dt(i),i&&At.test(i)?i.replace(Qi,Y_):i}function ax(i){return i=dt(i),i&&rr.test(i)?i.replace(Bt,"\\$&"):i}var cx=Xs(function(i,o,l){return i+(l?"-":"")+o.toLowerCase()}),ux=Xs(function(i,o,l){return i+(l?" ":"")+o.toLowerCase()}),lx=sg("toLowerCase");function fx(i,o,l){i=dt(i),o=Xe(o);var g=o?qs(i):0;if(!o||g>=o)return i;var v=(o-g)/2;return Gc($c(v),l)+i+Gc(Nc(v),l)}function hx(i,o,l){i=dt(i),o=Xe(o);var g=o?qs(i):0;return o&&g<o?i+Gc(o-g,l):i}function dx(i,o,l){i=dt(i),o=Xe(o);var g=o?qs(i):0;return o&&g<o?Gc(o-g,l)+i:i}function px(i,o,l){return l||o==null?o=0:o&&(o=+o),_E(dt(i).replace(kt,""),o||0)}function gx(i,o,l){return(l?Ar(i,o,l):o===r)?o=1:o=Xe(o),Tf(dt(i),o)}function yx(){var i=arguments,o=dt(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var mx=Xs(function(i,o,l){return i+(l?"_":"")+o.toLowerCase()});function bx(i,o,l){return l&&typeof l!="number"&&Ar(i,o,l)&&(o=l=r),l=l===r?ue:l>>>0,l?(i=dt(i),i&&(typeof o=="string"||o!=null&&!eh(o))&&(o=Jr(o),!o&&zs(i))?Oi(Pn(i),0,l):i.split(o,l)):[]}var vx=Xs(function(i,o,l){return i+(l?" ":"")+nh(o)});function wx(i,o,l){return i=dt(i),l=l==null?0:as(Xe(l),0,i.length),o=Jr(o),i.slice(l,l+o.length)==o}function _x(i,o,l){var g=S.templateSettings;l&&Ar(i,o,l)&&(o=r),i=dt(i),o=su({},o,g,hg);var v=su({},o.imports,g.imports,hg),O=dr(v),k=pf(v,O),K,X,he=0,de=o.interpolate||Fs,be="__p += '",Oe=yf((o.escape||Fs).source+"|"+de.source+"|"+(de===Nt?kl:Fs).source+"|"+(o.evaluate||Fs).source+"|$","g"),je="//# sourceURL="+(pt.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++of+"]")+`
`;i.replace(Oe,function(He,nt,ct,Qr,Cr,Zr){return ct||(ct=Qr),be+=i.slice(he,Zr).replace(Gl,J_),nt&&(K=!0,be+=`' +
__e(`+nt+`) +
'`),Cr&&(X=!0,be+=`';
`+Cr+`;
__p += '`),ct&&(be+=`' +
((__t = (`+ct+`)) == null ? '' : __t) +
'`),he=Zr+He.length,He}),be+=`';
`;var ke=pt.call(o,"variable")&&o.variable;if(!ke)be=`with (obj) {
`+be+`
}
`;else if(Ul.test(ke))throw new Ve(u);be=(X?be.replace(Fn,""):be).replace(Ir,"$1").replace(Jn,"$1;"),be="function("+(ke||"obj")+`) {
`+(ke?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(K?", __e = _.escape":"")+(X?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+be+`return __p
}`;var Ze=iy(function(){return ht(O,je+"return "+be).apply(r,k)});if(Ze.source=be,Zf(Ze))throw Ze;return Ze}function Ex(i){return dt(i).toLowerCase()}function xx(i){return dt(i).toUpperCase()}function Px(i,o,l){if(i=dt(i),i&&(l||o===r))return d0(i);if(!i||!(o=Jr(o)))return i;var g=Pn(i),v=Pn(o),O=p0(g,v),k=g0(g,v)+1;return Oi(g,O,k).join("")}function Sx(i,o,l){if(i=dt(i),i&&(l||o===r))return i.slice(0,m0(i)+1);if(!i||!(o=Jr(o)))return i;var g=Pn(i),v=g0(g,Pn(o))+1;return Oi(g,0,v).join("")}function Ix(i,o,l){if(i=dt(i),i&&(l||o===r))return i.replace(kt,"");if(!i||!(o=Jr(o)))return i;var g=Pn(i),v=p0(g,Pn(o));return Oi(g,v).join("")}function Dx(i,o){var l=B,g=V;if($t(o)){var v="separator"in o?o.separator:v;l="length"in o?Xe(o.length):l,g="omission"in o?Jr(o.omission):g}i=dt(i);var O=i.length;if(zs(i)){var k=Pn(i);O=k.length}if(l>=O)return i;var K=l-qs(g);if(K<1)return g;var X=k?Oi(k,0,K).join(""):i.slice(0,K);if(v===r)return X+g;if(k&&(K+=X.length-K),eh(v)){if(i.slice(K).search(v)){var he,de=X;for(v.global||(v=yf(v.source,dt(cn.exec(v))+"g")),v.lastIndex=0;he=v.exec(de);)var be=he.index;X=X.slice(0,be===r?K:be)}}else if(i.indexOf(Jr(v),K)!=K){var Oe=X.lastIndexOf(v);Oe>-1&&(X=X.slice(0,Oe))}return X+g}function Ox(i){return i=dt(i),i&&jt.test(i)?i.replace(vi,nE):i}var Ax=Xs(function(i,o,l){return i+(l?" ":"")+o.toUpperCase()}),nh=sg("toUpperCase");function ny(i,o,l){return i=dt(i),o=l?r:o,o===r?Q_(i)?oE(i):z_(i):i.match(o)||[]}var iy=tt(function(i,o){try{return hr(i,r,o)}catch(l){return Zf(l)?l:new Ve(l)}}),Cx=ni(function(i,o){return ln(o,function(l){l=Bn(l),ti(i,l,Xf(i[l],i))}),i});function Tx(i){var o=i==null?0:i.length,l=Be();return i=o?Tt(i,function(g){if(typeof g[1]!="function")throw new fn(c);return[l(g[0]),g[1]]}):[],tt(function(g){for(var v=-1;++v<o;){var O=i[v];if(hr(O[0],this,g))return hr(O[1],this,g)}})}function Rx(i){return n6(dn(i,m))}function ih(i){return function(){return i}}function Nx(i,o){return i==null||i!==i?o:i}var $x=ag(),Fx=ag(!0);function kr(i){return i}function sh(i){return j0(typeof i=="function"?i:dn(i,m))}function Mx(i){return U0(dn(i,m))}function jx(i,o){return B0(i,dn(o,m))}var Lx=tt(function(i,o){return function(l){return Qo(l,i,o)}}),Ux=tt(function(i,o){return function(l){return Qo(i,l,o)}});function oh(i,o,l){var g=dr(o),v=Bc(o,g);l==null&&!($t(o)&&(v.length||!g.length))&&(l=o,o=i,i=this,v=Bc(o,dr(o)));var O=!($t(l)&&"chain"in l)||!!l.chain,k=si(i);return ln(v,function(K){var X=o[K];i[K]=X,k&&(i.prototype[K]=function(){var he=this.__chain__;if(O||he){var de=i(this.__wrapped__),be=de.__actions__=Lr(this.__actions__);return be.push({func:X,args:arguments,thisArg:i}),de.__chain__=he,de}return X.apply(i,Ei([this.value()],arguments))})}),i}function Bx(){return at._===this&&(at._=hE),this}function ah(){}function kx(i){return i=Xe(i),tt(function(o){return k0(o,i)})}var Hx=Lf(Tt),zx=Lf(c0),qx=Lf(uf);function sy(i){return Kf(i)?lf(Bn(i)):w6(i)}function Kx(i){return function(o){return i==null?r:cs(i,o)}}var Vx=ug(),Gx=ug(!0);function ch(){return[]}function uh(){return!1}function Wx(){return{}}function Yx(){return""}function Jx(){return!0}function Xx(i,o){if(i=Xe(i),i<1||i>Q)return[];var l=ue,g=_r(i,ue);o=Be(o),i-=ue;for(var v=df(g,o);++l<i;)o(l);return v}function Qx(i){return We(i)?Tt(i,Bn):Xr(i)?[i]:Lr(Sg(dt(i)))}function Zx(i){var o=++lE;return dt(i)+o}var e8=Vc(function(i,o){return i+o},0),t8=Uf("ceil"),r8=Vc(function(i,o){return i/o},1),n8=Uf("floor");function i8(i){return i&&i.length?Uc(i,kr,Pf):r}function s8(i,o){return i&&i.length?Uc(i,Be(o,2),Pf):r}function o8(i){return f0(i,kr)}function a8(i,o){return f0(i,Be(o,2))}function c8(i){return i&&i.length?Uc(i,kr,Of):r}function u8(i,o){return i&&i.length?Uc(i,Be(o,2),Of):r}var l8=Vc(function(i,o){return i*o},1),f8=Uf("round"),h8=Vc(function(i,o){return i-o},0);function d8(i){return i&&i.length?hf(i,kr):0}function p8(i,o){return i&&i.length?hf(i,Be(o,2)):0}return S.after=M3,S.ary=Mg,S.assign=x5,S.assignIn=Jg,S.assignInWith=su,S.assignWith=P5,S.at=S5,S.before=jg,S.bind=Xf,S.bindAll=Cx,S.bindKey=Lg,S.castArray=W3,S.chain=Ng,S.chunk=n2,S.compact=i2,S.concat=s2,S.cond=Tx,S.conforms=Rx,S.constant=ih,S.countBy=d3,S.create=I5,S.curry=Ug,S.curryRight=Bg,S.debounce=kg,S.defaults=D5,S.defaultsDeep=O5,S.defer=j3,S.delay=L3,S.difference=o2,S.differenceBy=a2,S.differenceWith=c2,S.drop=u2,S.dropRight=l2,S.dropRightWhile=f2,S.dropWhile=h2,S.fill=d2,S.filter=g3,S.flatMap=b3,S.flatMapDeep=v3,S.flatMapDepth=w3,S.flatten=Ag,S.flattenDeep=p2,S.flattenDepth=g2,S.flip=U3,S.flow=$x,S.flowRight=Fx,S.fromPairs=y2,S.functions=F5,S.functionsIn=M5,S.groupBy=_3,S.initial=b2,S.intersection=v2,S.intersectionBy=w2,S.intersectionWith=_2,S.invert=L5,S.invertBy=U5,S.invokeMap=x3,S.iteratee=sh,S.keyBy=P3,S.keys=dr,S.keysIn=Br,S.map=Zc,S.mapKeys=k5,S.mapValues=H5,S.matches=Mx,S.matchesProperty=jx,S.memoize=tu,S.merge=z5,S.mergeWith=Xg,S.method=Lx,S.methodOf=Ux,S.mixin=oh,S.negate=ru,S.nthArg=kx,S.omit=q5,S.omitBy=K5,S.once=B3,S.orderBy=S3,S.over=Hx,S.overArgs=k3,S.overEvery=zx,S.overSome=qx,S.partial=Qf,S.partialRight=Hg,S.partition=I3,S.pick=V5,S.pickBy=Qg,S.property=sy,S.propertyOf=Kx,S.pull=S2,S.pullAll=Tg,S.pullAllBy=I2,S.pullAllWith=D2,S.pullAt=O2,S.range=Vx,S.rangeRight=Gx,S.rearg=H3,S.reject=A3,S.remove=A2,S.rest=z3,S.reverse=Yf,S.sampleSize=T3,S.set=W5,S.setWith=Y5,S.shuffle=R3,S.slice=C2,S.sortBy=F3,S.sortedUniq=j2,S.sortedUniqBy=L2,S.split=bx,S.spread=q3,S.tail=U2,S.take=B2,S.takeRight=k2,S.takeRightWhile=H2,S.takeWhile=z2,S.tap=i3,S.throttle=K3,S.thru=Qc,S.toArray=Gg,S.toPairs=Zg,S.toPairsIn=ey,S.toPath=Qx,S.toPlainObject=Yg,S.transform=J5,S.unary=V3,S.union=q2,S.unionBy=K2,S.unionWith=V2,S.uniq=G2,S.uniqBy=W2,S.uniqWith=Y2,S.unset=X5,S.unzip=Jf,S.unzipWith=Rg,S.update=Q5,S.updateWith=Z5,S.values=eo,S.valuesIn=ex,S.without=J2,S.words=ny,S.wrap=G3,S.xor=X2,S.xorBy=Q2,S.xorWith=Z2,S.zip=e3,S.zipObject=t3,S.zipObjectDeep=r3,S.zipWith=n3,S.entries=Zg,S.entriesIn=ey,S.extend=Jg,S.extendWith=su,oh(S,S),S.add=e8,S.attempt=iy,S.camelCase=ix,S.capitalize=ty,S.ceil=t8,S.clamp=tx,S.clone=Y3,S.cloneDeep=X3,S.cloneDeepWith=Q3,S.cloneWith=J3,S.conformsTo=Z3,S.deburr=ry,S.defaultTo=Nx,S.divide=r8,S.endsWith=sx,S.eq=In,S.escape=ox,S.escapeRegExp=ax,S.every=p3,S.find=y3,S.findIndex=Dg,S.findKey=A5,S.findLast=m3,S.findLastIndex=Og,S.findLastKey=C5,S.floor=n8,S.forEach=$g,S.forEachRight=Fg,S.forIn=T5,S.forInRight=R5,S.forOwn=N5,S.forOwnRight=$5,S.get=th,S.gt=e5,S.gte=t5,S.has=j5,S.hasIn=rh,S.head=Cg,S.identity=kr,S.includes=E3,S.indexOf=m2,S.inRange=rx,S.invoke=B5,S.isArguments=fs,S.isArray=We,S.isArrayBuffer=r5,S.isArrayLike=Ur,S.isArrayLikeObject=Vt,S.isBoolean=n5,S.isBuffer=Ai,S.isDate=i5,S.isElement=s5,S.isEmpty=o5,S.isEqual=a5,S.isEqualWith=c5,S.isError=Zf,S.isFinite=u5,S.isFunction=si,S.isInteger=zg,S.isLength=nu,S.isMap=qg,S.isMatch=l5,S.isMatchWith=f5,S.isNaN=h5,S.isNative=d5,S.isNil=g5,S.isNull=p5,S.isNumber=Kg,S.isObject=$t,S.isObjectLike=zt,S.isPlainObject=ia,S.isRegExp=eh,S.isSafeInteger=y5,S.isSet=Vg,S.isString=iu,S.isSymbol=Xr,S.isTypedArray=Zs,S.isUndefined=m5,S.isWeakMap=b5,S.isWeakSet=v5,S.join=E2,S.kebabCase=cx,S.last=gn,S.lastIndexOf=x2,S.lowerCase=ux,S.lowerFirst=lx,S.lt=w5,S.lte=_5,S.max=i8,S.maxBy=s8,S.mean=o8,S.meanBy=a8,S.min=c8,S.minBy=u8,S.stubArray=ch,S.stubFalse=uh,S.stubObject=Wx,S.stubString=Yx,S.stubTrue=Jx,S.multiply=l8,S.nth=P2,S.noConflict=Bx,S.noop=ah,S.now=eu,S.pad=fx,S.padEnd=hx,S.padStart=dx,S.parseInt=px,S.random=nx,S.reduce=D3,S.reduceRight=O3,S.repeat=gx,S.replace=yx,S.result=G5,S.round=f8,S.runInContext=W,S.sample=C3,S.size=N3,S.snakeCase=mx,S.some=$3,S.sortedIndex=T2,S.sortedIndexBy=R2,S.sortedIndexOf=N2,S.sortedLastIndex=$2,S.sortedLastIndexBy=F2,S.sortedLastIndexOf=M2,S.startCase=vx,S.startsWith=wx,S.subtract=h8,S.sum=d8,S.sumBy=p8,S.template=_x,S.times=Xx,S.toFinite=oi,S.toInteger=Xe,S.toLength=Wg,S.toLower=Ex,S.toNumber=yn,S.toSafeInteger=E5,S.toString=dt,S.toUpper=xx,S.trim=Px,S.trimEnd=Sx,S.trimStart=Ix,S.truncate=Dx,S.unescape=Ox,S.uniqueId=Zx,S.upperCase=Ax,S.upperFirst=nh,S.each=$g,S.eachRight=Fg,S.first=Cg,oh(S,function(){var i={};return Ln(S,function(o,l){pt.call(S.prototype,l)||(i[l]=o)}),i}(),{chain:!1}),S.VERSION=n,ln(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){S[i].placeholder=S}),ln(["drop","take"],function(i,o){it.prototype[i]=function(l){l=l===r?1:lr(Xe(l),0);var g=this.__filtered__&&!o?new it(this):this.clone();return g.__filtered__?g.__takeCount__=_r(l,g.__takeCount__):g.__views__.push({size:_r(l,ue),type:i+(g.__dir__<0?"Right":"")}),g},it.prototype[i+"Right"]=function(l){return this.reverse()[i](l).reverse()}}),ln(["filter","map","takeWhile"],function(i,o){var l=o+1,g=l==E||l==Y;it.prototype[i]=function(v){var O=this.clone();return O.__iteratees__.push({iteratee:Be(v,3),type:l}),O.__filtered__=O.__filtered__||g,O}}),ln(["head","last"],function(i,o){var l="take"+(o?"Right":"");it.prototype[i]=function(){return this[l](1).value()[0]}}),ln(["initial","tail"],function(i,o){var l="drop"+(o?"":"Right");it.prototype[i]=function(){return this.__filtered__?new it(this):this[l](1)}}),it.prototype.compact=function(){return this.filter(kr)},it.prototype.find=function(i){return this.filter(i).head()},it.prototype.findLast=function(i){return this.reverse().find(i)},it.prototype.invokeMap=tt(function(i,o){return typeof i=="function"?new it(this):this.map(function(l){return Qo(l,i,o)})}),it.prototype.reject=function(i){return this.filter(ru(Be(i)))},it.prototype.slice=function(i,o){i=Xe(i);var l=this;return l.__filtered__&&(i>0||o<0)?new it(l):(i<0?l=l.takeRight(-i):i&&(l=l.drop(i)),o!==r&&(o=Xe(o),l=o<0?l.dropRight(-o):l.take(o-i)),l)},it.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},it.prototype.toArray=function(){return this.take(ue)},Ln(it.prototype,function(i,o){var l=/^(?:filter|find|map|reject)|While$/.test(o),g=/^(?:head|last)$/.test(o),v=S[g?"take"+(o=="last"?"Right":""):o],O=g||/^find/.test(o);v&&(S.prototype[o]=function(){var k=this.__wrapped__,K=g?[1]:arguments,X=k instanceof it,he=K[0],de=X||We(k),be=function(nt){var ct=v.apply(S,Ei([nt],K));return g&&Oe?ct[0]:ct};de&&l&&typeof he=="function"&&he.length!=1&&(X=de=!1);var Oe=this.__chain__,je=!!this.__actions__.length,ke=O&&!Oe,Ze=X&&!je;if(!O&&de){k=Ze?k:new it(this);var He=i.apply(k,K);return He.__actions__.push({func:Qc,args:[be],thisArg:r}),new hn(He,Oe)}return ke&&Ze?i.apply(this,K):(He=this.thru(be),ke?g?He.value()[0]:He.value():He)})}),ln(["pop","push","shift","sort","splice","unshift"],function(i){var o=Pc[i],l=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",g=/^(?:pop|shift)$/.test(i);S.prototype[i]=function(){var v=arguments;if(g&&!this.__chain__){var O=this.value();return o.apply(We(O)?O:[],v)}return this[l](function(k){return o.apply(We(k)?k:[],v)})}}),Ln(it.prototype,function(i,o){var l=S[o];if(l){var g=l.name+"";pt.call(Ws,g)||(Ws[g]=[]),Ws[g].push({name:o,func:l})}}),Ws[Kc(r,z).name]=[{name:"wrapper",func:r}],it.prototype.clone=OE,it.prototype.reverse=AE,it.prototype.value=CE,S.prototype.at=s3,S.prototype.chain=o3,S.prototype.commit=a3,S.prototype.next=c3,S.prototype.plant=l3,S.prototype.reverse=f3,S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=h3,S.prototype.first=S.prototype.head,Ko&&(S.prototype[Ko]=u3),S},Ks=aE();Kt?((Kt.exports=Ks)._=Ks,wt._=Ks):at._=Ks}).call(wa)})(Bd,Bd.exports);var eL=Object.defineProperty,tL=Object.defineProperties,rL=Object.getOwnPropertyDescriptors,qb=Object.getOwnPropertySymbols,nL=Object.prototype.hasOwnProperty,iL=Object.prototype.propertyIsEnumerable,Kb=(t,e,r)=>e in t?eL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yu=(t,e)=>{for(var r in e||(e={}))nL.call(e,r)&&Kb(t,r,e[r]);if(qb)for(var r of qb(e))iL.call(e,r)&&Kb(t,r,e[r]);return t},sL=(t,e)=>tL(t,rL(e));function wn(t,e,r){let n;const s=kd(t);return e.rpcMap&&(n=e.rpcMap[s]),n||(n=`${Zj}?chainId=eip155:${s}&projectId=${r}`),n}function kd(t){return t.includes("eip155")?Number(t.split(":")[1]):Number(t)}function oL(t,e){if(!e.includes(t))throw new Error(`Chain '${t}' not approved. Please use one of the following: ${e.toString()}`)}function aL(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function cL(t,e){const r=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!r.length)return[];const n=[];return r.forEach(s=>{const a=e.namespaces[s].accounts;n.push(...a)}),n}function uL(t,e={}){const r=Vb(t),n=Vb(e);return Bd.exports.merge(r,n)}function Vb(t){var e,r,n,s;const a={};if(!vo(t))return a;for(const[c,u]of Object.entries(t)){const f=Qw(c)?[c]:u.chains,h=u.methods||[],p=u.events||[],m=u.rpcMap||{},b=Iu(c);a[b]=sL(yu(yu({},a[b]),u),{chains:Oh(f,(e=a[b])==null?void 0:e.chains),methods:Oh(h,(r=a[b])==null?void 0:r.methods),events:Oh(p,(n=a[b])==null?void 0:n.events),rpcMap:yu(yu({},m),(s=a[b])==null?void 0:s.rpcMap)})}return a}const $s=(t,e)=>{const r=n=>{n.request!==e.request||n.topic!==e.topic||(t.events.removeListener("session_request_sent",r),lL(e,t.core.storage))};t.on("session_request_sent",r)};async function lL(t,e){try{const r=await e.getItem("WALLETCONNECT_DEEPLINK_CHOICE");if(!r)return;const n=typeof r=="string"?JSON.parse(r):r;let s=n==null?void 0:n.href;if(typeof s!="string")return;s.endsWith("/")&&(s=s.slice(0,-1));const a=`${s}/wc?requestId=${t.id}&sessionTopic=${t.topic}`,c=Gw();c===Es.browser?window.open(a,"_self","noreferrer noopener"):c===Es.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(r){console.error(r)}}const j_={},Zt=t=>j_[t],Bh=(t,e)=>{j_[t]=e};class fL{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=Zt("events"),this.client=Zt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?($s(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||wn(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||wn(e,this.namespace);return typeof n>"u"?void 0:new Ji(new Ns(n,Zt("disableProviderPing")))}}class hL{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=Zt("events"),this.client=Zt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){var r;switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return this.handleSwitchChain(e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0"),null;case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?($s(this.client,e),await this.client.request(e)):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){const n=kd(e);if(!this.httpProviders[n]){const s=r||wn(`${this.name}:${n}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${n}`);this.setHttpProvider(n,s)}this.chainId=n,this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${n}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||wn(`${this.name}:${e}`,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Ji(new Ns(n,Zt("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const s=kd(r);e[s]=this.createHttpProvider(s,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}handleSwitchChain(e){const r=parseInt(e,16),n=`${this.name}:${r}`;oL(n,this.namespace.chains),this.setDefaultChain(`${r}`)}}class dL{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=Zt("events"),this.client=Zt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?($s(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||wn(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||wn(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Ji(new Ns(n,Zt("disableProviderPing")))}}class pL{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=Zt("events"),this.client=Zt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?($s(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||wn(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||wn(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Ji(new Ns(n,Zt("disableProviderPing")))}}class gL{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=Zt("events"),this.client=Zt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?($s(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r);e[r]=this.createHttpProvider(r,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);return typeof n>"u"?void 0:new Ji(new Ns(n,Zt("disableProviderPing")))}}class yL{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=Zt("events"),this.client=Zt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?($s(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||wn(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||wn(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Ji(new Ns(n,Zt("disableProviderPing")))}}class mL{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=Zt("events"),this.client=Zt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?($s(this.client,e),this.client.request(e)):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||wn(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||wn(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Ji(new Ns(n,Zt("disableProviderPing")))}}var bL=Object.defineProperty,vL=Object.defineProperties,wL=Object.getOwnPropertyDescriptors,Gb=Object.getOwnPropertySymbols,_L=Object.prototype.hasOwnProperty,EL=Object.prototype.propertyIsEnumerable,Wb=(t,e,r)=>e in t?bL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mu=(t,e)=>{for(var r in e||(e={}))_L.call(e,r)&&Wb(t,r,e[r]);if(Gb)for(var r of Gb(e))EL.call(e,r)&&Wb(t,r,e[r]);return t},kh=(t,e)=>vL(t,wL(e));class s0{constructor(e){this.events=new Up,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:ut.pino(ut.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||Hb})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new s0(e);return await r.initialize(),r}async request(e,r){const[n,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:mu({},e),chainId:`${n}:${s}`,topic:this.session.topic})}sendAsync(e,r,n){this.request(e,n).then(s=>r(null,s)).catch(s=>r(s,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Jt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let r=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(r>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:n,approval:s}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});n&&(this.uri=n,this.events.emit("display_uri",n)),await s().then(a=>{this.session=a}).catch(a=>{if(a.message!==F_)throw a;r++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,r){try{const[n,s]=this.validateChain(e);this.getProvider(n).setDefaultChain(s,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(yi(r)){for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await Vj.init({logger:this.providerOpts.logger||Hb,relayUrl:this.providerOpts.relayUrl||Jj,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>Iu(r)))];Bh("client",this.client),Bh("events",this.events),Bh("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=cL(r,this.session),s=aL(n),a=uL(this.namespaces,this.optionalNamespaces),c=kh(mu({},a[r]),{accounts:n,chains:s});switch(r){case"eip155":this.rpcProviders[r]=new hL({namespace:c});break;case"solana":this.rpcProviders[r]=new dL({namespace:c});break;case"cosmos":this.rpcProviders[r]=new pL({namespace:c});break;case"polkadot":this.rpcProviders[r]=new fL({namespace:c});break;case"cip34":this.rpcProviders[r]=new gL({namespace:c});break;case"elrond":this.rpcProviders[r]=new yL({namespace:c});break;case"multiversx":this.rpcProviders[r]=new mL({namespace:c});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?this.events.emit("accountsChanged",n.data):n.name==="chainChanged"?this.onChainChanged(r.chainId):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n;const{namespaces:s}=r,a=(n=this.client)==null?void 0:n.session.get(e);this.session=kh(mu({},a),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",kh(mu({},Jt("USER_DISCONNECTED")),{data:e.topic}))}),this.on(Xi.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r,optionalNamespaces:n,sessionProperties:s}=e;if(!r||!Object.keys(r).length)throw new Error("Namespaces must be not empty");this.namespaces=r,this.optionalNamespaces=n,this.sessionProperties=s,this.persist("namespaces",r),this.persist("optionalNamespaces",n)}validateChain(e){const[r,n]=(e==null?void 0:e.split(":"))||["",""];if(r&&!Object.keys(this.namespaces).map(c=>Iu(c)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const s=Iu(Object.keys(this.namespaces)[0]),a=this.rpcProviders[s].getDefaultChain();return[s,a]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,r=!1){var n;const[s,a]=this.validateChain(e);r||this.getProvider(s).setDefaultChain(a),((n=this.namespaces[s])!=null?n:this.namespaces[`${s}:${a}`]).defaultChain=a,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",a)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0})}persist(e,r){this.client.core.storage.setItem(`${zb}/${e}`,r)}async getFromStore(e){return await this.client.core.storage.getItem(`${zb}/${e}`)}}const xL=s0,PL="wc",SL="ethereum_provider",IL=`${PL}@2:${SL}:`,DL="https://rpc.walletconnect.com/v1/",Gu=["eth_sendTransaction","personal_sign"],Hd=["chainChanged","accountsChanged"];var OL=Object.defineProperty,AL=Object.defineProperties,CL=Object.getOwnPropertyDescriptors,Yb=Object.getOwnPropertySymbols,TL=Object.prototype.hasOwnProperty,RL=Object.prototype.propertyIsEnumerable,Jb=(t,e,r)=>e in t?OL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Hh=(t,e)=>{for(var r in e||(e={}))TL.call(e,r)&&Jb(t,r,e[r]);if(Yb)for(var r of Yb(e))RL.call(e,r)&&Jb(t,r,e[r]);return t},Xb=(t,e)=>AL(t,CL(e));function zd(t){return Number(t[0].split(":")[1])}function zh(t){return`0x${t.toString(16)}`}function NL(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:s,events:a,optionalEvents:c,rpcMap:u}=t;if(!yi(e))throw new Error("Invalid chains");const f=e,h=n||Gu,p=a||Hd,m={[zd(f)]:u[zd(f)]},b={chains:f,methods:h,events:p,rpcMap:m},_=a==null?void 0:a.filter(z=>!Hd.includes(z)),x=n==null?void 0:n.filter(z=>!Gu.includes(z));if(!r&&!c&&!s&&!(_!=null&&_.length)&&!(x!=null&&x.length))return{required:b};const N=(_==null?void 0:_.length)&&(x==null?void 0:x.length)||!r,M={chains:[...new Set(N?f.concat(r||[]):r)],methods:[...new Set(h.concat(s||[]))],events:[...new Set(p.concat(c||[]))],rpcMap:u};return{required:b,optional:M}}class o0{constructor(){this.events=new on.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=IL,this.on=(e,r)=>(this.events.on(e,r),this),this.once=(e,r)=>(this.events.once(e,r),this),this.removeListener=(e,r)=>(this.events.removeListener(e,r),this),this.off=(e,r)=>(this.events.off(e,r),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){const r=new o0;return await r.initialize(e),r}async request(e){return await this.signer.request(e,this.formatChainId(this.chainId))}sendAsync(e,r){this.signer.sendAsync(e,r,this.formatChainId(this.chainId))}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:n}=NL(this.rpc);try{const s=await new Promise(async(c,u)=>{var f;this.rpc.showQrModal&&((f=this.modal)==null||f.subscribeModal(h=>{!h.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),u(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(Xb(Hh({namespaces:{[this.namespace]:r}},n&&{optionalNamespaces:{[this.namespace]:n}}),{pairingTopic:e==null?void 0:e.pairingTopic})).then(h=>{c(h)}).catch(h=>{u(new Error(h.message))})});if(!s)return;this.setChainIds(this.rpc.chains);const a=BR(s.namespaces,[this.namespace]);this.setAccounts(a),this.events.emit("connect",{chainId:zh(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{const r=parseInt(e);this.chainId=r,this.events.emit("chainChanged",zh(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",Xb(Hh({},Jt("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var r,n;this.rpc.showQrModal&&((r=this.modal)==null||r.closeModal(),(n=this.modal)==null||n.openModal({uri:e})),this.events.emit("display_uri",e)})}setHttpProvider(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const r=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",zh(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const r=this.parseChainId(e);this.chainId=r,this.setHttpProvider(r)}}parseAccountId(e){const[r,n,s]=e.split(":");return{chainId:`${r}:${n}`,address:s}}setAccounts(e){this.accounts=e.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var r,n;return{chains:((r=e.chains)==null?void 0:r.map(s=>this.formatChainId(s)))||[`${this.namespace}:1`],optionalChains:e.optionalChains?e.optionalChains.map(s=>this.formatChainId(s)):void 0,methods:(e==null?void 0:e.methods)||Gu,events:(e==null?void 0:e.events)||Hd,optionalMethods:(e==null?void 0:e.optionalMethods)||[],optionalEvents:(e==null?void 0:e.optionalEvents)||[],rpcMap:(e==null?void 0:e.rpcMap)||this.buildRpcMap(e.chains.concat(e.optionalChains||[]),e.projectId),showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:(n=e==null?void 0:e.qrModalOptions)!=null?n:void 0,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,r){const n={};return e.forEach(s=>{n[s]=this.getRpcUrl(s,r)}),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=zd(this.rpc.chains),this.signer=await xL.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal)try{const{Web3Modal:r}=await Hv(()=>import("./index.es-07dc8387.js").then(n=>n.i),[]);this.modal=new r(Hh({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch{throw new Error("To use QR modal, please install @web3modal/standalone package")}}loadConnectOpts(e){if(!e)return;const{chains:r,optionalChains:n,rpcMap:s}=e;r&&yi(r)&&(this.rpc.chains=r.map(a=>this.formatChainId(a)),r.forEach(a=>{this.rpc.rpcMap[a]=(s==null?void 0:s[a])||this.getRpcUrl(a)})),n&&yi(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n==null?void 0:n.map(a=>this.formatChainId(a)),n.forEach(a=>{this.rpc.rpcMap[a]=(s==null?void 0:s[a])||this.getRpcUrl(a)}))}getRpcUrl(e,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${DL}?chainId=eip155:${e}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`);this.setChainIds(e?[this.formatChainId(e)]:this.session.namespaces[this.namespace].accounts),this.setAccounts(this.session.namespaces[this.namespace].accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(r=>this.parseAccount(r))}}const $L=o0,FL="0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",ML="0x5FbDB2315678afecb367f032d93F642f64180aa3",jL=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ApprovalCallerNotOwnerNorApproved",type:"error"},{inputs:[],name:"ApprovalQueryForNonexistentToken",type:"error"},{inputs:[],name:"BalanceQueryForZeroAddress",type:"error"},{inputs:[],name:"InvalidQueryRange",type:"error"},{inputs:[],name:"MintERC2309QuantityExceedsLimit",type:"error"},{inputs:[],name:"MintToZeroAddress",type:"error"},{inputs:[],name:"MintZeroQuantity",type:"error"},{inputs:[{internalType:"address",name:"have",type:"address"},{internalType:"address",name:"want",type:"address"}],name:"OnlyCoordinatorCanFulfill",type:"error"},{inputs:[],name:"OwnerQueryForNonexistentToken",type:"error"},{inputs:[],name:"OwnershipNotInitializedForExtraData",type:"error"},{inputs:[],name:"TransferCallerNotOwnerNorApproved",type:"error"},{inputs:[],name:"TransferFromIncorrectOwner",type:"error"},{inputs:[],name:"TransferToNonERC721ReceiverImplementer",type:"error"},{inputs:[],name:"TransferToZeroAddress",type:"error"},{inputs:[],name:"URIQueryForNonexistentToken",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"fromTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toTokenId",type:"uint256"}],name:"BatchMetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toTokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"ConsecutiveTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"requestId",type:"uint256"},{indexed:!1,internalType:"uint256[]",name:"randomWords",type:"uint256[]"}],name:"RequestFulfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"requestId",type:"uint256"},{indexed:!1,internalType:"uint32",name:"numWords",type:"uint32"}],name:"RequestSent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"MAX_PER_MINT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_SUPPLY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"r",type:"uint8"},{internalType:"uint8",name:"g",type:"uint8"},{internalType:"uint8",name:"b",type:"uint8"}],name:"RGBToHex",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_markets",type:"address[]"}],name:"addMarket",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"backgroundColor",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"clubMember",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_markets",type:"address[]"}],name:"delMarket",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"explicitOwnershipOf",outputs:[{components:[{internalType:"address",name:"addr",type:"address"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"bool",name:"burned",type:"bool"},{internalType:"uint24",name:"extraData",type:"uint24"}],internalType:"struct IERC721A.TokenOwnership",name:"ownership",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"explicitOwnershipsOf",outputs:[{components:[{internalType:"address",name:"addr",type:"address"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"bool",name:"burned",type:"bool"},{internalType:"uint24",name:"extraData",type:"uint24"}],internalType:"struct IERC721A.TokenOwnership[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"getMarket",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"gradientColor",outputs:[{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isSale",outputs:[{internalType:"bool",name:"sale",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"member",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"numberOfMembers",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"operatorFilteringEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"requestId",type:"uint256"},{internalType:"uint256[]",name:"randomWords",type:"uint256[]"}],name:"rawFulfillRandomWords",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint96",name:"feeNumerator",type:"uint96"}],name:"setDefaultRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"value",type:"bool"}],name:"setOperatorFilteringEnabled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"token",outputs:[{internalType:"address",name:"lucker",type:"address"},{internalType:"uint8",name:"cartridges",type:"uint8"},{internalType:"uint8",name:"prevrandao",type:"uint8"},{internalType:"uint8",name:"mascot",type:"uint8"},{internalType:"uint8",name:"cartridge_red",type:"uint8"},{internalType:"uint8",name:"cartridge_green",type:"uint8"},{internalType:"uint8",name:"cartridge_blue",type:"uint8"},{internalType:"uint8",name:"background_red",type:"uint8"},{internalType:"uint8",name:"background_green",type:"uint8"},{internalType:"uint8",name:"background_blue",type:"uint8"},{internalType:"uint8",name:"gradient_red",type:"uint8"},{internalType:"uint8",name:"gradient_green",type:"uint8"},{internalType:"uint8",name:"gradient_blue",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"tokensOfOwner",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"start",type:"uint256"},{internalType:"uint256",name:"stop",type:"uint256"}],name:"tokensOfOwnerIn",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Ri={address:FL,multicall:ML,abi:jL},Ll=rD("eth",()=>{const t=cT,e=Wt(!1),r=Wt(!1),n=Wt(null),s=Wt({}),a=Wt([]),c=Wt(""),u=WI(),f=Wt(eT({chain:t,batch:{multicall:!0},transport:OC()})),h=Wt(window&&window.ethereum?ym({chain:t,transport:pm(window.ethereum)}):null);async function p(M){if(typeof M=="boolean"){if(h&&h.value){const[z]=await h.value.getAddresses();if(z){const C=await h.value.getChainId();t.id===C&&(n.value=z)}}}else try{if(window&&window.ethereum){const z=await h.value.getChainId();t.id!=z&&(await h.value.addChain({chain:t}),await h.value.switchChain(t));const[C]=await h.value.requestAddresses();C&&(n.value=C)}else{const z="2d370def4cd33b8cdc388ee6f5511aae",C=await $L.init({projectId:z,chains:[t.id],showQrModal:!0,methods:Gu,rpcMap:{[t.id]:t.rpcUrls.default.http}});h.value=ym({chain:t,transport:pm(C)}),await C.connect();const[L]=await h.value.getAddresses();L&&(n.value=L)}}catch(z){console.log(z)}}async function m(){n.value=null}async function b(M,z,C=50){if(z){N(!0);try{const{ethereum:L}=window;if(L){const D=typeof z=="bigint"?z:BigInt(z),T=typeof C=="bigint"?C:BigInt(C),P=[];for(let w=D;w<D+T;w++)P.push({...Ri,functionName:M,args:[w]});const d=await f.value.multicall({contracts:P,multicallAddress:Ri.multicall});a.value=[],d.filter(w=>w.status==="success").forEach(w=>{C===1?s.value=JSON.parse(w.result.replace("data:application/json;utf8,","")):a.value.push(JSON.parse(w.result.replace("data:application/json;utf8,","")))})}N(!1)}catch(L){console.error(M,L),N(!1)}}}async function _(M,z=1){N(!0);try{const C=await f.value.readContract({...Ri,functionName:"tokensOfOwner",args:[M]});z=z?parseInt(z):1;const L=[];C.reverse().slice((z-1)*120,z*120).forEach(T=>{L.push({...Ri,functionName:"tokenURI",args:[T]})}),r.value=z*120<C.length;const D=await f.value.multicall({contracts:L,multicallAddress:Ri.multicall});z===1&&(a.value=[]),D.filter(T=>T.status==="success").forEach(T=>{a.value.push(JSON.parse(T.result.replace("data:application/json;utf8,","")))}),N(!1)}catch(C){console.error(C),N(!1)}}async function x(M){N(!0);try{const{ethereum:z}=window;if(z){f.value.watchContractEvent({...Ri,eventName:"Transfer",onLogs:L=>{L.forEach(async D=>{D.transactionHash===c.value&&(N(!1),u.push(`/${n.value}`))})}});const{request:C}=await f.value.simulateContract({...Ri,functionName:"mint",args:[M],account:n.value});c.value=await h.value.writeContract(C)}else console.log("Ethereum object doesn't exist!"),N(!1)}catch(z){console.error("mint",z),N(!1)}}function N(M){e.value=M}return{contract:Ri.address,connect:p,disconnect:m,get:b,tokensOfOwner:_,mint:x,account:n,loading:e,last:r,token:s,tokens:a}});const LL={class:"container max-width px-1"},UL={class:"navbar relative z-10"},BL={class:"flex-1"},kL=Te("img",{src:nD,class:"w-10"},null,-1),HL={class:"flex-none"},zL={key:1},qL={class:"dropdown dropdown-end"},KL=Te("label",{tabindex:"0",class:"btn btn-ghost btn-circle"},[Te("div",{class:"indicator"},[Te("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[Te("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})])])],-1),VL={tabindex:"0",class:"menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52 truncate"},GL={class:"disabled"},WL={class:"justify-between"},YL=["href"],JL=["href"],XL={class:"flex flex-col min-h-screen justify-center items-center -mt-16"},QL={class:"container mx-auto"},ZL={class:"hero"},e9={class:"footer footer-center p-10 text-base-content"},t9={class:"grid grid-flow-col gap-4"},r9=Os('<div><div class="grid grid-flow-col gap-4"><a href="https://github.com/6of6Club" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 448 512" class="fill-current"><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"></path></svg></a><a href="https://twitter.com/6of6Club" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 448 512" class="fill-current"><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"></path></svg></a><a href="https://youtube.com/@6of6Club" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 448 512" class="fill-current"><path d="M186.8 202.1l95.2 54.1-95.2 54.1V202.1zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-42 176.3s0-59.6-7.6-88.2c-4.2-15.8-16.5-28.2-32.2-32.4C337.9 128 224 128 224 128s-113.9 0-142.2 7.7c-15.7 4.2-28 16.6-32.2 32.4-7.6 28.5-7.6 88.2-7.6 88.2s0 59.6 7.6 88.2c4.2 15.8 16.5 27.7 32.2 31.9C110.1 384 224 384 224 384s113.9 0 142.2-7.7c15.7-4.2 28-16.1 32.2-31.9 7.6-28.5 7.6-88.1 7.6-88.1z"></path></svg></a></div></div><div><p>Copyright  2023 - RockArt  AI</p></div>',2),n9={__name:"App",setup(t){const e=Ll(),{contract:r,connect:n,disconnect:s}=e,{account:a}=ll(e);return nl(async()=>{await n(!0)}),(c,u)=>{const f=my("router-link"),h=my("router-view");return Rt(),Ft("div",LL,[Te("div",UL,[Te("div",BL,[Yt(f,{to:"/"},{default:bs(()=>[kL]),_:1})]),Te("div",HL,[st(a)===null?(Rt(),Ft("button",{key:0,class:"btn btn-primary",onClick:u[0]||(u[0]=(...p)=>st(n)&&st(n)(...p))}," connect ")):(Rt(),Ft("div",zL,[Te("div",qL,[KL,Te("ul",VL,[Te("li",GL,[Te("span",WL,fo(st(a).substring(0,10))+"..."+fo(st(a).substring(st(a).length-9)),1)]),Te("li",null,[Yt(f,{to:`/${st(a)}`,class:"justify-between"},{default:bs(()=>[ji(" My 6of6 NFTs ")]),_:1},8,["to"])]),Te("li",null,[Te("a",{href:`https://opensea.io/assets/ethereum/${st(r)}`,class:"justify-between",target:"_blank"}," 6of6 on Opensea",8,YL)]),Te("li",null,[Te("a",{href:`https://blur.io/collection/${st(r)}`,class:"justify-between",target:"_blank"}," 6of6 on Blur",8,JL)]),Te("li",null,[Te("button",{onClick:u[1]||(u[1]=(...p)=>st(s)&&st(s)(...p))},"Logout")])])])]))])]),Te("div",XL,[Yt(h),Te("div",QL,[Te("div",ZL,[Te("footer",e9,[Te("div",t9,[Yt(f,{to:"/",class:"link link-hover"},{default:bs(()=>[ji("Home")]),_:1}),Yt(f,{to:"/about-us",class:"link link-hover"},{default:bs(()=>[ji("About us")]),_:1}),Yt(f,{to:"/contact",class:"link link-hover"},{default:bs(()=>[ji("Contact")]),_:1}),Yt(f,{to:"/faq",class:"link link-hover"},{default:bs(()=>[ji("FAQ")]),_:1})]),r9])])])])])}}},i9="/2.svg",s9="/3.svg",o9="/4.svg",a9="/5.svg",c9="/6.svg",u9={class:"container mx-auto"},l9={class:"hero min-h-screen"},f9={class:"hero-content text-center"},h9={class:"max-w-md"},d9=Te("h1",{class:"text-5xl font-bold"},"6of6 Club",-1),p9=Te("p",{class:"py-6 text-center"},"Dynamic on-chain NFTs",-1),g9={key:0,class:"loading loading-spinner"},y9={key:1,class:"form-control"},m9={class:"input-group"},b9={key:0,class:"loading loading-spinner"},v9={class:"hero min-h-screen"},w9={class:"hero-content flex-col w-full lg:flex-row"},_9=["src"],E9=Os('<div class="w-full"><div class="py-6 text-center"><ul class="steps steps-vertical"><li data-content="" class="step"> Mint NFT - one of 65,536 different token variants will be generated </li><li data-content="" class="step"><ul><li data-content="" class="step step-success"> NFT Success - empty chamber stop at the top </li><li data-content="" class="step step-error"> NFT Wasted - cartridge stops at the top </li></ul></li><li data-content="" class="step"> Sell NFT - only opensea and blur marketplaces are supported </li></ul></div></div>',1),x9={class:"hero min-h-screen"},P9={class:"hero-content flex-col w-full lg:flex-row"},S9=["src"],I9=Os('<div class="w-full"><div class="py-6 text-center"><ul class="steps steps-vertical"><li data-content="" class="step"> Buy NFT - plus one cartridge will be added and re-spun will start </li><li data-content="" class="step"><ul><li data-content="" class="step step-success"> NFT Success - selling NFT will add a new cartridge </li><li data-content="" class="step step-error"> NFT Wasted - no more cartridges will be added to the NFT </li></ul></li><li data-content="" class="step"> Sell NFT - until there are 6of6 cartridges in the drum </li></ul></div></div>',1),D9={class:"hero min-h-screen"},O9={class:"hero-content flex-col w-full lg:flex-row"},A9=["src"],C9=Os('<div class="w-full"><div class="py-6 text-center"><ul class="steps steps-vertical"><li data-content="" class="step"> NFT 6of6 is very rare, the chance is 1 in 65 </li><li data-content="" class="step"> Users who collect 6 of 6 - become members of the 6of6 Club </li><li data-content="" class="step"> 6of6 Club members will be in future airdrops (SS2ERC721) </li><li data-content="" class="step"> NFT and metadata are generated by on-chain </li><li data-content="" class="step"> Only selling (not transfer) for ETH adds a cartridge </li></ul></div></div>',1),T9=Os('<div class="hero min-h-screen"><div class="columns-1 lg:columns-5"><div class="text-center"><img src="'+i9+'"><div class="radial-progress text-primary-content border-4 border-primary my-10" style="--value:83.3;"> 83.3% </div><div class="text-lg bg-inherit border-0">54,000 NFTs</div></div><div class="text-center"><img src="'+s9+'"><div class="radial-progress text-primary-content border-4 border-primary my-10" style="--value:66.6;"> 66.6% </div><div class="text-xl bg-inherit border-0">36,000 NFTs</div></div><div class="text-center"><img src="'+o9+'"><div class="radial-progress text-primary-content border-4 border-primary my-10" style="--value:50;"> 50.0% </div><div class="text-2xl bg-inherit border-0">18,000 NFTs</div></div><div class="text-center"><img src="'+a9+'"><div class="radial-progress text-primary-content border-4 border-primary my-10" style="--value:33.3;"> 33.3% </div><div class="text-3xl bg-inherit border-0">06,000 NFTs</div></div><div class="text-center"><img src="'+c9+'"><div class="radial-progress text-primary-content border-4 border-primary my-10" style="--value:16.6;"> 16.6% </div><div class="text-4xl bg-inherit border-0">01,000 NFTs</div></div></div></div>',1),R9={__name:"HomeView",setup(t){const e=Ll(),{connect:r,mint:n}=e,{account:s}=ll(e);nl(async()=>{await r(!0)});const a=Wt(1),c=Wt(!1),u=Wt("win.svg"),f=Wt("lose.svg"),h=Wt("plus.svg"),p=()=>{[u,f,h].forEach(m=>{m.value=m.value.split("?")[0]+"?d="+new Date().getMilliseconds()})};return setInterval(()=>{p()},1e4),(m,b)=>(Rt(),Ft("div",u9,[Te("div",l9,[Te("div",f9,[Te("div",h9,[d9,p9,st(s)===null?(Rt(),Ft("button",{key:0,class:"btn btn-primary",onClick:b[0]||(b[0]=async()=>{c.value=!0,await st(r)(),c.value=!1})},[c.value?(Rt(),Ft("span",g9)):rd("",!0),ji(" connect and mint ")])):(Rt(),Ft("div",y9,[Te("div",m9,[IP(Te("input",{"onUpdate:modelValue":b[1]||(b[1]=_=>a.value=_),type:"text",placeholder:"1 - 64",class:"input input-bordered"},null,512),[[US,a.value]]),Te("button",{class:"btn btn-primary",onClick:b[2]||(b[2]=async()=>{c.value=!0,await st(n)(a.value),m.setTimeout(()=>{c.value=!1},3e4)})},[c.value?(Rt(),Ft("span",b9)):rd("",!0),ji(" free mint ")])])]))])])]),Te("div",v9,[Te("div",w9,[Te("div",null,[Te("img",{src:h.value,class:"max-w-sm w-96"},null,8,_9)]),E9])]),Te("div",x9,[Te("div",P9,[Te("div",null,[Te("img",{src:f.value,class:"max-w-sm w-96"},null,8,S9)]),I9])]),Te("div",D9,[Te("div",O9,[Te("div",null,[Te("img",{src:u.value,class:"max-w-sm w-96"},null,8,A9)]),C9])]),T9]))}},N9={key:0},$9={key:1,className:"card w-96"},F9={className:"card-body"},M9={className:"card-title justify-center"},j9={className:"px-10"},L9=["src","alt"],U9={className:"card-body items-center text-center"},B9={className:"card-actions"},k9={key:0},H9=["href"],z9=Te("div",{class:"divider divider-vertical"},"OR",-1),q9=["href"],K9={key:1},V9={__name:"TokenView",setup(t){const e=Ll(),{contract:r,get:n}=e,{loading:s,token:a}=ll(e),c=sv(),u=Wt(""),f=Wt(!0);return Bi(()=>c.params.id,async h=>{await n("tokenURI",h)}),Bi(a,h=>{u.value=h&&h.name&&h.name.split("#")[1],f.value=h&&h.attributes&&h.attributes[1].value==="LOST",console.log(h)}),nl(async()=>{await n("tokenURI",c.params.id)}),(h,p)=>st(s)||!st(a).name?(Rt(),Ft("div",N9,"Loading")):(Rt(),Ft("div",$9,[Te("div",F9,[Te("h1",M9,fo(st(a).name),1)]),Te("figure",j9,[Te("img",{src:st(a).image,alt:st(a).name,className:"rounded-xl"},null,8,L9)]),Te("div",U9,[Te("div",B9,[f.value?(Rt(),Ft("div",K9,"NFT Wasted")):(Rt(),Ft("div",k9,[Te("a",{href:`https://opensea.io/assets/ethereum/${st(r)}/${u.value}`,target:"_blank",className:"btn btn-info btn-block"},"Sell on OpenSea",8,H9),z9,Te("a",{href:`https://blur.io/asset/${st(r)}/${u.value}`,target:"_blank",className:"btn btn-warning btn-block"},"Sell on Blur",8,q9)]))])])]))}},G9={class:"min-h-screen"},W9={key:0,class:"hero min-h-screen"},Y9=Te("div",{class:"hero-content text-center"},"Loading ...",-1),J9=[Y9],X9={key:1,class:"grid grid-cols-4 gap-4 mt-10"},Q9={className:"card"},Z9={className:"card-body"},eU={className:"card-title justify-center"},tU={className:"px-1"},rU=["src","alt"],nU={className:"card-body items-center text-center"},iU={key:0,className:"card-actions"},sU=["href"],oU=Te("div",{class:"divider divider-vertical"},"OR",-1),aU=["href"],cU={key:1},uU={__name:"UserView",setup(t){const e=Ll(),{contract:r,tokensOfOwner:n}=e,{account:s,loading:a,last:c,tokens:u}=ll(e),f=sv(),h=Wt(f.params.hash),p=Wt(1),m=_=>_.name.split("#")[1],b=_=>_.attributes[1].value!="";return PP(async()=>{await n(`0x${h.value}`,p.value)}),Bi(u,_=>{}),(_,x)=>(Rt(),Ft("div",G9,[st(a)||!st(u)||!st(u).length?(Rt(),Ft("div",W9,J9)):(Rt(),Ft("div",X9,[(Rt(!0),Ft(Vn,null,BP(st(u),N=>(Rt(),Ft("div",null,[Te("div",Q9,[Te("div",Z9,[Te("h1",eU,fo(N.name),1)]),Te("figure",tU,[Te("img",{src:N.image,alt:N.name,className:"rounded-xl"},null,8,rU)]),Te("div",nU,[b(N)?(Rt(),Ft("div",iU,[Te("div",null,[Te("a",{href:`https://opensea.io/assets/ethereum/${st(r)}/${m(N)}`,target:"_blank",className:"btn btn-info btn-block btn-sm"},fo(st(s)===`0x${h.value}`?"Sell":"Buy")+" on OpenSea",9,sU),oU,Te("a",{href:`https://blur.io/asset/${st(r)}/${m(N)}`,target:"_blank",className:"btn btn-warning btn-block btn-sm"},fo(st(s)===`0x${h.value}`?"Sell":"Buy")+" on Blur",9,aU)])])):(Rt(),Ft("div",cU,"NFT Wasted"))])])]))),256))])),st(c)?(Rt(),Ft("button",{key:2,class:"btn btn-block btn-primary",onClick:x[0]||(x[0]=()=>{p.value++})}," MORE ")):rd("",!0)]))}},a0=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},lU={},fU={class:"container mx-auto"},hU=Te("div",{class:"hero min-h-screen"},[Te("div",{class:"hero-content text-center flex flex-col"},[Te("h1",{class:"text-5xl"},"About Us"),Te("div",null,"RockArt  AI - is a marketplace for on-chain creativity."),Te("div",null," All dynamic NFTs similar to ancient cave drawings will be in the blockchain forever. ")])],-1),dU=[hU];function pU(t,e){return Rt(),Ft("div",fU,dU)}const gU=a0(lU,[["render",pU]]),yU={},mU={class:"container mx-auto"},bU=Os('<div class="hero min-h-screen"><div class="hero-content text-center flex flex-col"><h1 class="text-5xl">Contact</h1><div><a href="https://github.com/6of6Club" target="_blank">https://github.com/6of6Club</a></div><div><a href="https://twitter.com/6of6Club" target="_blank">https://twitter.com/6of6Club</a></div><div><a href="https://youtube.com/@6of6Club" target="_blank">https://youtube.com/@6of6Club</a></div></div></div>',1),vU=[bU];function wU(t,e){return Rt(),Ft("div",mU,vU)}const _U=a0(yU,[["render",wU]]),EU={},xU={class:"container mx-auto"},PU=Os('<div class="hero min-h-screen"><div class="hero-content text-center flex flex-col"><div tabindex="0" class="collapse collapse-arrow collapse-open border border-base-300 rounded-lg w-full"><div class="collapse-title text-xl font-medium"> How many maximum NFTs will be released? </div><div class="collapse-content"><p>Maximum number of NFTs - 65,536</p></div></div><div tabindex="0" class="collapse collapse-arrow collapse-open border border-base-300 rounded-lg w-full"><div class="collapse-title text-xl font-medium"> How many NFTs will be filled with 6of6 cartridges? </div><div class="collapse-content"><p> Of the 65,536 NFTs, the probability theory is that there will be about 1,000 completely filled. </p></div></div><div tabindex="0" class="collapse collapse-arrow collapse-open border border-base-300 rounded-lg w-full"><div class="collapse-title text-xl font-medium"> When is a new cartridge added to the NFT? </div><div class="collapse-content"><p> A new cartridge is added only when sold for ETH on the Opensea (<a href="https://etherscan.io/address/0x00000000000000adc04c56bf30ac9d3c0aaf14dc" target="_blank">Seaport 1.5</a>) or Blur (<a href="https://etherscan.io/address/0x000000000000ad05ccc4f10045630fb830b95127" target="_blank">Blur.io: Marketplace</a>). </p></div></div><div tabindex="0" class="collapse collapse-arrow collapse-open border border-base-300 rounded-lg w-full"><div class="collapse-title text-xl font-medium"> Can I sell NFTs that got Wasted status? </div><div class="collapse-content"><p> Yes, you can sell and transfer NFT Wasted, but new cartridges will no longer be added to them. </p></div></div></div></div>',1),SU=[PU];function IU(t,e){return Rt(),Ft("div",xU,SU)}const DU=a0(EU,[["render",IU]]),OU=JI(),AU=VI({history:cI(),routes:[{path:"/",name:"home",component:R9},{path:"/about-us",name:"about-us",component:gU},{path:"/contact",name:"contact",component:_U},{path:"/faq",name:"faq",component:DU},{path:"/:id",name:"token",component:V9},{path:"/0x:hash",name:"user",component:uU}]});HS(n9).use(OU).use(AU).mount("#app");export{De as B,Oa as H,Ua as I,Hv as _,gi as a,zi as b,wl as c,WO as d,Ka as e,hl as g,Io as i,Vr as s};
